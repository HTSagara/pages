"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-examples_component_statusbadge_app_mjs"],{

/***/ "./examples/component/statusbadge/MainContainer.mjs":
/*!**********************************************************!*\
  !*** ./examples/component/statusbadge/MainContainer.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/form/field/CheckBox.mjs */ "./src/form/field/CheckBox.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ConfigurationViewport.mjs */ "./examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/form/field/Number.mjs */ "./src/form/field/Number.mjs");
/* harmony import */ var _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/form/field/Radio.mjs */ "./src/form/field/Radio.mjs");
/* harmony import */ var _src_component_StatusBadge_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/component/StatusBadge.mjs */ "./src/component/StatusBadge.mjs");
/* harmony import */ var _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../src/form/field/Text.mjs */ "./src/form/field/Text.mjs");







/**
 * @class Neo.examples.component.statusbadge.MainContainer
 * @extends Neo.examples.ConfigurationViewport
 */
class MainContainer extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        className: 'Neo.examples.component.statusbadge.MainContainer',
        autoMount: true,
        configItemLabelWidth: 110,
        configItemWidth: 230,
        layout: { ntype: 'hbox', align: 'stretch' }
    }

    createConfigurationComponents() {
        let me = this;

        return [{
            module: _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            checked: me.exampleComponent.closable,
            labelText: 'closable',
            listeners: { change: me.onConfigChange.bind(me, 'closable') }
        }, {
            module: _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
            clearable: true,
            labelText: 'height',
            listeners: { change: me.onConfigChange.bind(me, 'height') },
            maxValue: 100,
            minValue: 20,
            stepSize: 2,
            style: { marginTop: '10px' },
            value: me.exampleComponent.height
        }, {
            module: _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
            clearable: true,
            labelText: 'width',
            listeners: { change: me.onConfigChange.bind(me, 'width') },
            maxValue: 300,
            minValue: 100,
            stepSize: 5,
            style: { marginTop: '10px' },
            value: me.exampleComponent.width
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'label Alert',
            listeners: { change: me.onConfigChange.bind(me, 'labelAlert') },
            style: { marginTop: '20px' },
            value: me.exampleComponent.labelAlert
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'icon Alert',
            listeners: { change: me.onConfigChange.bind(me, 'iconAlert') },
            value: me.exampleComponent.iconAlert
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'side-icon Alert',
            listeners: { change: me.onConfigChange.bind(me, 'sideIconAlert') },
            value: me.exampleComponent.sideIconAlert
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'label Error',
            listeners: { change: me.onConfigChange.bind(me, 'labelError') },
            style: { marginTop: '10px' },
            value: me.exampleComponent.labelError
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'icon Error',
            listeners: { change: me.onConfigChange.bind(me, 'iconError') },
            value: me.exampleComponent.iconError
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'side-icon Error',
            listeners: { change: me.onConfigChange.bind(me, 'sideIconError') },
            value: me.exampleComponent.sideIconError
        },{
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'label Info',
            listeners: { change: me.onConfigChange.bind(me, 'labelInfo') },
            style: { marginTop: '10px' },
            value: me.exampleComponent.labelInfo
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'icon Info',
            listeners: { change: me.onConfigChange.bind(me, 'iconInfo') },
            value: me.exampleComponent.iconInfo
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'side-icon Info',
            listeners: { change: me.onConfigChange.bind(me, 'sideIconInfo') },
            value: me.exampleComponent.sideIconInfo 
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'label Neutral',
            listeners: { change: me.onConfigChange.bind(me, 'labelNeutral') },
            style: { marginTop: '10px' },
            value: me.exampleComponent.labelNeutral
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'icon Neutral',
            listeners: { change: me.onConfigChange.bind(me, 'iconNeutral') },
            value: me.exampleComponent.iconNeutral
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'side-icon Neutral',
            listeners: { change: me.onConfigChange.bind(me, 'sideIconNeutral') },
            value: me.exampleComponent.sideIconNeutral
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'label Success',
            listeners: { change: me.onConfigChange.bind(me, 'labelSuccess') },
            style: { marginTop: '10px' },
            value: me.exampleComponent.labelSuccess
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'icon Success',
            listeners: { change: me.onConfigChange.bind(me, 'iconSuccess') },
            value: me.exampleComponent.iconSuccess
        }, {
            module: _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            labelText: 'side-icon Success',
            listeners: { change: me.onConfigChange.bind(me, 'sideIconSuccess') },
            value: me.exampleComponent.sideIconSuccess
        }, {
            module: _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            checked: me.exampleComponent.deactivateStateIcons,
            labelText: 'deactivate State Icons',
            style: { marginTop: '20px' },
            listeners: { change: me.onConfigChange.bind(me, 'deactivateStateIcons') },
        }, {
            module: _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            checked: me.exampleComponent.deactivateSideIcons,
            labelText: 'deactivate Side Icons',
            listeners: { change: me.onConfigChange.bind(me, 'deactivateSideIcons') },
        }, {
            module: _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            checked: me.exampleComponent.state === 'alert',
            hideValueLabel: false,
            labelText: 'state',
            listeners: { change: me.onRadioChange.bind(me, 'state', 'alert') },
            name: 'state',
            style: { marginTop: '20px' },
            valueLabelText: 'alert'
        }, {
            module: _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            checked: me.exampleComponent.state === 'error',
            hideValueLabel: false,
            labelText: '',
            listeners: { change: me.onRadioChange.bind(me, 'state', 'error') },
            name: 'state',
            valueLabelText: 'error'
        }, {
            module: _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            checked: me.exampleComponent.state === 'info',
            hideValueLabel: false,
            labelText: '',
            listeners: { change: me.onRadioChange.bind(me, 'state', 'info') },
            name: 'state',
            valueLabelText: 'info'
        }, {
            module: _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            checked: me.exampleComponent.state === 'neutral',
            hideValueLabel: false,
            labelText: '',
            listeners: { change: me.onRadioChange.bind(me, 'state', 'neutral') },
            name: 'state',
            valueLabelText: 'neutral'
        }, {
            module: _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            checked: me.exampleComponent.state === 'success',
            hideValueLabel: false,
            labelText: '',
            listeners: { change: me.onRadioChange.bind(me, 'state', 'success') },
            name: 'state',
            valueLabelText: 'success'
        }]
    }

    createExampleComponent() {
        return Neo.create({
            module: _src_component_StatusBadge_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
            height: 30,
            state: 'info'
        })
    }
}

Neo.setupClass(MainContainer);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainContainer);


/***/ }),

/***/ "./examples/component/statusbadge/app.mjs":
/*!************************************************!*\
  !*** ./examples/component/statusbadge/app.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./examples/component/statusbadge/MainContainer.mjs");


const onStart = () => Neo.app({
    mainView: _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
    name    : 'Neo.examples.component.statusbadge'
});


/***/ }),

/***/ "./src/component/StatusBadge.mjs":
/*!***************************************!*\
  !*** ./src/component/StatusBadge.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./src/util/Array.mjs");



/**
 * @class Neo.component.StatusBadge
 * @extends Neo.component.Base
 */
class StatusBadge extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Valid values for state
     * @member {String[]} states=['alert','error','info','neutral','success']
     * @protected
     * @static
     */
    static states = ['alert', 'error', 'info', 'neutral', 'success']

    static config = {
        /**
         * @member {String} className='Neo.component.StatusBadge'
         * @protected
         */
        className: 'Neo.component.StatusBadge',
        /**
         * @member {String} ntype='status-badge'
         * @protected
         */
        ntype: 'status-badge',
        /**
         * @member {String[]} baseCls=['neo-status-badge']
         * @protected
         */
        baseCls: ['neo-status-badge'],
        /**
         * @member {String[]} currentStateIcon=null
         */
        currentStateIcon: null,
        /**
         * @member {String[]} currentSideIcon=null
         */
        currentSideIcon: null,
        /**
         * false calls Neo.Main.setRoute()
         * @member {Boolean} deactivateStateIcons=false
         */
        deactivateStateIcons_: false,
        /**
         * false calls Neo.Main.setRoute()
         * @member {Boolean} deactivateSideIcons=false
         */
        deactivateSideIcons_: false,
        /**
         * @member {String} iconAlert='fa-triangle-exclamation'
         */
        iconAlert_: 'fa fa-triangle-exclamation',
        /**
         * @member {String} iconError='fa-xmark'
         */
        iconError_: 'fa fa-xmark',
        /**
         * @member {String} iconInfo='fa-info'
         */
        iconInfo_: 'fa fa-info',
        /**
         * @member {String} iconNeutral='fa-circle'
         */
        iconNeutral_: 'fa fa-circle',
        /**
         * @member {String} iconSuccess='fa-check'
         */
        iconSuccess_: 'fa fa-check',
        /**
         * @member {String} labelAlert_='Alert'
         */
        labelAlert_: 'Alert',
        /**
         * @member {String} labelError_='Error'
         */
        labelError_: 'Error',
        /**
         * @member {String} labelInfo_='Info'
         */
        labelInfo_: 'Info',
        /**
         * @member {String} labelNeutral_='Neutral'
         */
        labelNeutral_: 'Neutral',
        /**
         * @member {String} labelSuccess_='Success'
         */
        labelSuccess_: 'Success',
        /**
         * @member {String} sideIconAlert='fa fa-registered'
         */
        sideIconAlert_: 'fa fa-registered',
        /**
         * @member {String} sideIconError='fa fa-registered'
         */
        sideIconError_: 'fa fa-registered',
        /**
         * @member {String} sideIconInfo='fa fa-registered'
         */
        sideIconInfo_: 'fa fa-registered',
        /**
         * @member {String} sideIconNeutral='fa fa-registered'
         */
        sideIconNeutral_: 'fa fa-registered',
        /**
         * @member {String} sideIconSuccess='fa fa-registered'
         */
        sideIconSuccess_: 'fa fa-registered',
        /**
         * @member {String} state_='neutral'
         */
        state_: 'neutral',
        /**
         * @member {Object} _vdom
         */
        _vdom:
            {
                type: 'div', cn: [
                    {tag: 'span', cls: ['neo-state-glyph']},
                    {tag: 'span', cls: ['neo-state-text']},
                    {tag: 'span', cls: ['neo-state-glyph']}
                ]
            }
    }

    /**
     * Triggered after the deactivateStateIcons config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetDeactivateStateIcons(value, oldValue) {
        this.updateStateIconNode(this.currentStateIcon)
    }

    /**
     * Triggered after the deactivateSideIcons config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetDeactivateSideIcons(value, oldValue) {
        this.updateSideIconNode(this.currentSideIcon)
    }

    /**
     * Triggered after the StateIcon config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetSideIcon(value, oldValue) {
        this.updateSideIconNode(value, oldValue)
    }

    /**
     * Triggered after the iconAlert config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetIconAlert(value, oldValue) {
        if (this.state === 'alert') {
            this.updateStateIconNode(value)
        }
    }

    /**
     * Triggered after the iconError config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetIconError(value, oldValue) {
        if (this.state === 'error') {
            this.updateStateIconNode(value)
        }
    }

    /**
     * Triggered after the iconInfo config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetIconInfo(value, oldValue) {
        if (this.state === 'info') {
            this.updateStateIconNode(value)
        }
    }

    /**
     * Triggered after the iconNeutral config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetIconNeutral(value, oldValue) {
        if (this.state === 'neutral') {
            this.updateStateIconNode(value)
        }
    }

    /**
     * Triggered after the sideIconSuccess config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetSideIconSuccess(value, oldValue) {
        if (this.state === 'success') {
            this.updateSideIconNode(value)
        }
    }

    /**
     * Triggered after the labelAlert config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetLabelAlert(value, oldValue) {
        if (this.state === 'alert') {
            this.updateLabelNode(value)
        }
    }

    /**
     * Triggered after the labelError config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetLabelError(value, oldValue) {
        if (this.state === 'error') {
            this.updateLabelNode(value)
        }
    }

    /**
     * Triggered after the labelInfo config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetLabelInfo(value, oldValue) {
        if (this.state === 'info') {
            this.updateLabelNode(value)
        }
    }

    /**
     * Triggered after the labelNeutral config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetLabelNeutral(value, oldValue) {
        if (this.state === 'neutral') {
            this.updateLabelNode(value)
        }
    }

    /**
     * Triggered after the labelSuccess config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetLabelSuccess(value, oldValue) {
        if (this.state === 'success') {
            this.updateLabelNode(value)
        }
    }


    /**
     * Triggered after the state config got changed
     * @param {String} value
     * @param {String} oldValue
     * @protected
     */
    afterSetState(value, oldValue) {

        let me        = this,
            cls       = me.cls,
            isEmpty   = !value || value === '',
            vdomRoot  = me.getVdomRoot(),
            labelNode = vdomRoot.cn[1];

        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(cls, 'neo-state-' + oldValue);
        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(cls, 'neo-state-' + value);

        me.cls = cls;

        labelNode.removeDom = isEmpty;

        if (!isEmpty) {
            let showLabel     = '';
            let showStateIcon = '';
            let showSideIcon  = '';

            switch (value) {
                case 'alert':
                    showLabel     = me.labelAlert;
                    showStateIcon = me.iconAlert;
                    showSideIcon  = me.sideIconAlert;
                    break;
                case 'error':
                    showLabel     = me.labelError;
                    showStateIcon = me.iconError;
                    showSideIcon  = me.sideIconError;
                    break;
                case 'info':
                    showLabel     = me.labelInfo;
                    showStateIcon = me.iconInfo;
                    showSideIcon  = me.sideIconInfo;
                    break;
                case 'neutral':
                    showLabel     = me.labelNeutral;
                    showStateIcon = me.iconNeutral;
                    showSideIcon  = me.sideIconNeutral;
                    break;
                case 'success':
                    showLabel     = me.labelSuccess;
                    showStateIcon = me.iconSuccess;
                    showSideIcon  = me.sideIconSuccess;
                    break;
            }

            labelNode.innerHTML = showLabel;

            me.updateStateIconNode(showStateIcon);
            me.updateSideIconNode(showSideIcon);
        }

        me.update()
    }

    /**
     * Triggered after the StateIcon config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetStateIcon(value, oldValue) {
        this.updateStateIconNode(value, oldValue)
    }

    /**
     * Triggered before the state config gets changed
     * @param {String} value
     * @param {String} oldValue
     * @returns {String}
     * @protected
     */
    beforeSetState(value, oldValue) {
        return this.beforeSetEnumValue(value, oldValue, 'state')
    }

    /**
     * Convenience shortcut
     * @returns {Object}
     */
    getSideIconNode() {
        return this.getVdomRoot().cn[2]
    }

    /**
     * Convenience shortcut
     * @returns {Object}
     */
    getStateIconNode() {
        return this.getVdomRoot().cn[0]
    }

    /**
     * Convenience shortcut
     * @returns {Object}
     */
    updateLabelNode(value) {
        let labelNode = this.getVdomRoot().cn[1];

        labelNode.innerHTML = value;
        labelNode.removeDom = !Boolean(value);

        this.update()
    }

    /**
     * Convenience shortcut
     * @returns {Object}
     */
    updateSideIconNode(value) {
        let me           = this,
            iconNode     = me.getSideIconNode(),
            currentValue = me.currentSideIcon;

        if (value && !Array.isArray(value)) {
            value = value.split(' ').filter(Boolean)
        }

        if (currentValue && !Array.isArray(currentValue)) {
            currentValue = value.split(' ').filter(Boolean)
        }

        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(iconNode.cls, currentValue);
        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(iconNode.cls, value);

        iconNode.removeDom = !value || value === '' || me.deactivateSideIcons;

        me.currentSideIcon = value;
        me.update()
    }

    /**
     * Convenience shortcut
     * @returns {Object}
     */
    updateStateIconNode(value) {
        let me           = this,
            iconNode     = me.getStateIconNode(),
            currentValue = me.currentStateIcon;

        if (value && !Array.isArray(value)) {
            value = value.split(' ').filter(Boolean)
        }

        if (currentValue && !Array.isArray(currentValue)) {
            currentValue = value.split(' ').filter(Boolean)
        }

        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(iconNode.cls, currentValue);
        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(iconNode.cls, value);

        iconNode.removeDom = !value || value === '' || me.deactivateStateIcons;

        me.currentStateIcon = value;
        me.update()
    }

}

Neo.setupClass(StatusBadge);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StatusBadge);


/***/ }),

/***/ "./src/form/field/Radio.mjs":
/*!**********************************!*\
  !*** ./src/form/field/Radio.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CheckBox.mjs */ "./src/form/field/CheckBox.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../manager/Component.mjs */ "./src/manager/Component.mjs");



/**
 * @class Neo.form.field.Radio
 * @extends Neo.form.field.CheckBox
 */
class Radio extends _CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.form.field.Radio'
         * @protected
         */
        className: 'Neo.form.field.Radio',
        /**
         * @member {String} ntype='radiofield'
         * @protected
         */
        ntype: 'radiofield',
        /**
         * @member {String[]} baseCls=['neo-radiofield','neo-checkboxfield']
         */
        baseCls: ['neo-radiofield', 'neo-checkboxfield'],
        /**
         * @member {String[]} iconCls=['far','fa-circle']
         */
        iconCls: ['far', 'fa-circle'],
        /**
         * @member {String} inputType='radio'
         */
        inputType: 'radio'
    }

    /**
     * Triggered after the checked config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @protected
     */
    afterSetChecked(value, oldValue) {
        super.afterSetChecked(value, oldValue);

        // update radios with the same name to be unchecked
        value && this.uncheckGroupItems()
    }

    /**
     * Radios should only fire change & fieldChange events if checked.
     * If there was just 1 radio, you can not uncheck it.
     * @param {*} value
     * @param {*} oldValue
     */
    fireChangeEvent(value, oldValue) {
        this.checked && super.fireChangeEvent(value, oldValue)
    }

    /**
     * @returns {String[]}
     */
    getGroupValue() {
        let value = super.getGroupValue();

        return value.length > 0 ? value[0] : []
    }

    /**
     * Radios do not fire a change event for "uncheck", so we need to iterate over other radios with the same name.
     */
    uncheckGroupItems() {
        let me = this,
            radios;

        // discuss: we could limit this to radios inside the same form, IF a top level form is used
        radios = _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].find({
            ntype: 'radiofield',
            name : me.name
        });

        radios.forEach(item => {
            if (item.id !== me.id && item._checked) {
                item.checked = false;
            }
        })
    }
}

Neo.setupClass(Radio);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Radio);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWV4YW1wbGVzX2NvbXBvbmVudF9zdGF0dXNiYWRnZV9hcHBfbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDUTtBQUNQO0FBQ1A7QUFDVztBQUNSOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrRUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG9FQUFRO0FBQzVCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsU0FBUztBQUNULG9CQUFvQixrRUFBVztBQUMvQjtBQUNBO0FBQ0EseUJBQXlCLDhDQUE4QztBQUN2RTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbUJBQW1CO0FBQ3hDO0FBQ0EsU0FBUztBQUNULG9CQUFvQixrRUFBVztBQUMvQjtBQUNBO0FBQ0EseUJBQXlCLDZDQUE2QztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbUJBQW1CO0FBQ3hDO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5QixrREFBa0Q7QUFDM0UscUJBQXFCLG1CQUFtQjtBQUN4QztBQUNBLFNBQVM7QUFDVCxvQkFBb0IsZ0VBQVM7QUFDN0I7QUFDQSx5QkFBeUIsaURBQWlEO0FBQzFFO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5QixxREFBcUQ7QUFDOUU7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGdFQUFTO0FBQzdCO0FBQ0EseUJBQXlCLGtEQUFrRDtBQUMzRSxxQkFBcUIsbUJBQW1CO0FBQ3hDO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5QixpREFBaUQ7QUFDMUU7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGdFQUFTO0FBQzdCO0FBQ0EseUJBQXlCLHFEQUFxRDtBQUM5RTtBQUNBLFNBQVM7QUFDVCxvQkFBb0IsZ0VBQVM7QUFDN0I7QUFDQSx5QkFBeUIsaURBQWlEO0FBQzFFLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGdFQUFTO0FBQzdCO0FBQ0EseUJBQXlCLGdEQUFnRDtBQUN6RTtBQUNBLFNBQVM7QUFDVCxvQkFBb0IsZ0VBQVM7QUFDN0I7QUFDQSx5QkFBeUIsb0RBQW9EO0FBQzdFO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5QixvREFBb0Q7QUFDN0UscUJBQXFCLG1CQUFtQjtBQUN4QztBQUNBLFNBQVM7QUFDVCxvQkFBb0IsZ0VBQVM7QUFDN0I7QUFDQSx5QkFBeUIsbURBQW1EO0FBQzVFO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGdFQUFTO0FBQzdCO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RSxxQkFBcUIsbUJBQW1CO0FBQ3hDO0FBQ0EsU0FBUztBQUNULG9CQUFvQixnRUFBUztBQUM3QjtBQUNBLHlCQUF5QixtREFBbUQ7QUFDNUU7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGdFQUFTO0FBQzdCO0FBQ0EseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isb0VBQVE7QUFDNUI7QUFDQTtBQUNBLHFCQUFxQixtQkFBbUI7QUFDeEMseUJBQXlCLDREQUE0RDtBQUNyRixTQUFTO0FBQ1Qsb0JBQW9CLG9FQUFRO0FBQzVCO0FBQ0E7QUFDQSx5QkFBeUIsMkRBQTJEO0FBQ3BGLFNBQVM7QUFDVCxvQkFBb0IsaUVBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFxRDtBQUM5RTtBQUNBLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGlFQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxREFBcUQ7QUFDOUU7QUFDQTtBQUNBLFNBQVM7QUFDVCxvQkFBb0IsaUVBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RTtBQUNBO0FBQ0EsU0FBUztBQUNULG9CQUFvQixpRUFBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGlFQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHNFQUFXO0FBQy9CO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQSxpRUFBZSxhQUFhLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsTW1COztBQUV6QztBQUNQLGNBQWMsMERBQWE7QUFDM0I7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0w0QztBQUNKOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBSTtBQUM5QjtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzQ0FBc0M7QUFDM0QscUJBQXFCLHFDQUFxQztBQUMxRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLHVEQUFRO0FBQ2hCLFFBQVEsdURBQVE7O0FBRWhCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSx1REFBUTtBQUNoQixRQUFRLHVEQUFROztBQUVoQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSx1REFBUTtBQUNoQixRQUFRLHVEQUFROztBQUVoQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsaUVBQWUsV0FBVyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQy9ibUI7QUFDYTs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVE7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDhEQUFnQjtBQUNqQztBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBLGlFQUFlLEtBQUssRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9leGFtcGxlcy9jb21wb25lbnQvc3RhdHVzYmFkZ2UvTWFpbkNvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2V4YW1wbGVzL2NvbXBvbmVudC9zdGF0dXNiYWRnZS9hcHAubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvY29tcG9uZW50L1N0YXR1c0JhZGdlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2Zvcm0vZmllbGQvUmFkaW8ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGVja0JveCBmcm9tICcuLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9DaGVja0JveC5tanMnO1xuaW1wb3J0IENvbmZpZ3VyYXRpb25WaWV3cG9ydCBmcm9tICcuLi8uLi9Db25maWd1cmF0aW9uVmlld3BvcnQubWpzJztcbmltcG9ydCBOdW1iZXJGaWVsZCBmcm9tICcuLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9OdW1iZXIubWpzJztcbmltcG9ydCBSYWRpbyBmcm9tICcuLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9SYWRpby5tanMnO1xuaW1wb3J0IFN0YXR1c0JhZGdlIGZyb20gJy4uLy4uLy4uL3NyYy9jb21wb25lbnQvU3RhdHVzQmFkZ2UubWpzJztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvVGV4dC5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBOZW8uZXhhbXBsZXMuY29tcG9uZW50LnN0YXR1c2JhZGdlLk1haW5Db250YWluZXJcbiAqIEBleHRlbmRzIE5lby5leGFtcGxlcy5Db25maWd1cmF0aW9uVmlld3BvcnRcbiAqL1xuY2xhc3MgTWFpbkNvbnRhaW5lciBleHRlbmRzIENvbmZpZ3VyYXRpb25WaWV3cG9ydCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmV4YW1wbGVzLmNvbXBvbmVudC5zdGF0dXNiYWRnZS5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgYXV0b01vdW50OiB0cnVlLFxuICAgICAgICBjb25maWdJdGVtTGFiZWxXaWR0aDogMTEwLFxuICAgICAgICBjb25maWdJdGVtV2lkdGg6IDIzMCxcbiAgICAgICAgbGF5b3V0OiB7IG50eXBlOiAnaGJveCcsIGFsaWduOiAnc3RyZXRjaCcgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbmZpZ3VyYXRpb25Db21wb25lbnRzKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbW9kdWxlOiBDaGVja0JveCxcbiAgICAgICAgICAgIGNoZWNrZWQ6IG1lLmV4YW1wbGVDb21wb25lbnQuY2xvc2FibGUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdjbG9zYWJsZScsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnY2xvc2FibGUnKSB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogTnVtYmVyRmllbGQsXG4gICAgICAgICAgICBjbGVhcmFibGU6IHRydWUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdoZWlnaHQnLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2hlaWdodCcpIH0sXG4gICAgICAgICAgICBtYXhWYWx1ZTogMTAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IDIwLFxuICAgICAgICAgICAgc3RlcFNpemU6IDIsXG4gICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5Ub3A6ICcxMHB4JyB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQuaGVpZ2h0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogTnVtYmVyRmllbGQsXG4gICAgICAgICAgICBjbGVhcmFibGU6IHRydWUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICd3aWR0aCcsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnd2lkdGgnKSB9LFxuICAgICAgICAgICAgbWF4VmFsdWU6IDMwMCxcbiAgICAgICAgICAgIG1pblZhbHVlOiAxMDAsXG4gICAgICAgICAgICBzdGVwU2l6ZTogNSxcbiAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogJzEwcHgnIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC53aWR0aFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ2xhYmVsIEFsZXJ0JyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdsYWJlbEFsZXJ0JykgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogJzIwcHgnIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5sYWJlbEFsZXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnaWNvbiBBbGVydCcsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnaWNvbkFsZXJ0JykgfSxcbiAgICAgICAgICAgIHZhbHVlOiBtZS5leGFtcGxlQ29tcG9uZW50Lmljb25BbGVydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ3NpZGUtaWNvbiBBbGVydCcsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnc2lkZUljb25BbGVydCcpIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5zaWRlSWNvbkFsZXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnbGFiZWwgRXJyb3InLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2xhYmVsRXJyb3InKSB9LFxuICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiAnMTBweCcgfSxcbiAgICAgICAgICAgIHZhbHVlOiBtZS5leGFtcGxlQ29tcG9uZW50LmxhYmVsRXJyb3JcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdpY29uIEVycm9yJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdpY29uRXJyb3InKSB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQuaWNvbkVycm9yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnc2lkZS1pY29uIEVycm9yJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdzaWRlSWNvbkVycm9yJykgfSxcbiAgICAgICAgICAgIHZhbHVlOiBtZS5leGFtcGxlQ29tcG9uZW50LnNpZGVJY29uRXJyb3JcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ2xhYmVsIEluZm8nLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2xhYmVsSW5mbycpIH0sXG4gICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5Ub3A6ICcxMHB4JyB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQubGFiZWxJbmZvXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnaWNvbiBJbmZvJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdpY29uSW5mbycpIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5pY29uSW5mb1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ3NpZGUtaWNvbiBJbmZvJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdzaWRlSWNvbkluZm8nKSB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQuc2lkZUljb25JbmZvIFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ2xhYmVsIE5ldXRyYWwnLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2xhYmVsTmV1dHJhbCcpIH0sXG4gICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5Ub3A6ICcxMHB4JyB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQubGFiZWxOZXV0cmFsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnaWNvbiBOZXV0cmFsJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdpY29uTmV1dHJhbCcpIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5pY29uTmV1dHJhbFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFRleHRGaWVsZCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ3NpZGUtaWNvbiBOZXV0cmFsJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdzaWRlSWNvbk5ldXRyYWwnKSB9LFxuICAgICAgICAgICAgdmFsdWU6IG1lLmV4YW1wbGVDb21wb25lbnQuc2lkZUljb25OZXV0cmFsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnbGFiZWwgU3VjY2VzcycsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnbGFiZWxTdWNjZXNzJykgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogJzEwcHgnIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5sYWJlbFN1Y2Nlc3NcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdpY29uIFN1Y2Nlc3MnLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2ljb25TdWNjZXNzJykgfSxcbiAgICAgICAgICAgIHZhbHVlOiBtZS5leGFtcGxlQ29tcG9uZW50Lmljb25TdWNjZXNzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogVGV4dEZpZWxkLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnc2lkZS1pY29uIFN1Y2Nlc3MnLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ3NpZGVJY29uU3VjY2VzcycpIH0sXG4gICAgICAgICAgICB2YWx1ZTogbWUuZXhhbXBsZUNvbXBvbmVudC5zaWRlSWNvblN1Y2Nlc3NcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBDaGVja0JveCxcbiAgICAgICAgICAgIGNoZWNrZWQ6IG1lLmV4YW1wbGVDb21wb25lbnQuZGVhY3RpdmF0ZVN0YXRlSWNvbnMsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdkZWFjdGl2YXRlIFN0YXRlIEljb25zJyxcbiAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblRvcDogJzIwcHgnIH0sXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnZGVhY3RpdmF0ZVN0YXRlSWNvbnMnKSB9LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IENoZWNrQm94LFxuICAgICAgICAgICAgY2hlY2tlZDogbWUuZXhhbXBsZUNvbXBvbmVudC5kZWFjdGl2YXRlU2lkZUljb25zLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnZGVhY3RpdmF0ZSBTaWRlIEljb25zJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uQ29uZmlnQ2hhbmdlLmJpbmQobWUsICdkZWFjdGl2YXRlU2lkZUljb25zJykgfSxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBSYWRpbyxcbiAgICAgICAgICAgIGNoZWNrZWQ6IG1lLmV4YW1wbGVDb21wb25lbnQuc3RhdGUgPT09ICdhbGVydCcsXG4gICAgICAgICAgICBoaWRlVmFsdWVMYWJlbDogZmFsc2UsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdzdGF0ZScsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vblJhZGlvQ2hhbmdlLmJpbmQobWUsICdzdGF0ZScsICdhbGVydCcpIH0sXG4gICAgICAgICAgICBuYW1lOiAnc3RhdGUnLFxuICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luVG9wOiAnMjBweCcgfSxcbiAgICAgICAgICAgIHZhbHVlTGFiZWxUZXh0OiAnYWxlcnQnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogUmFkaW8sXG4gICAgICAgICAgICBjaGVja2VkOiBtZS5leGFtcGxlQ29tcG9uZW50LnN0YXRlID09PSAnZXJyb3InLFxuICAgICAgICAgICAgaGlkZVZhbHVlTGFiZWw6IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uUmFkaW9DaGFuZ2UuYmluZChtZSwgJ3N0YXRlJywgJ2Vycm9yJykgfSxcbiAgICAgICAgICAgIG5hbWU6ICdzdGF0ZScsXG4gICAgICAgICAgICB2YWx1ZUxhYmVsVGV4dDogJ2Vycm9yJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IFJhZGlvLFxuICAgICAgICAgICAgY2hlY2tlZDogbWUuZXhhbXBsZUNvbXBvbmVudC5zdGF0ZSA9PT0gJ2luZm8nLFxuICAgICAgICAgICAgaGlkZVZhbHVlTGFiZWw6IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiAnJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczogeyBjaGFuZ2U6IG1lLm9uUmFkaW9DaGFuZ2UuYmluZChtZSwgJ3N0YXRlJywgJ2luZm8nKSB9LFxuICAgICAgICAgICAgbmFtZTogJ3N0YXRlJyxcbiAgICAgICAgICAgIHZhbHVlTGFiZWxUZXh0OiAnaW5mbydcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBSYWRpbyxcbiAgICAgICAgICAgIGNoZWNrZWQ6IG1lLmV4YW1wbGVDb21wb25lbnQuc3RhdGUgPT09ICduZXV0cmFsJyxcbiAgICAgICAgICAgIGhpZGVWYWx1ZUxhYmVsOiBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJycsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHsgY2hhbmdlOiBtZS5vblJhZGlvQ2hhbmdlLmJpbmQobWUsICdzdGF0ZScsICduZXV0cmFsJykgfSxcbiAgICAgICAgICAgIG5hbWU6ICdzdGF0ZScsXG4gICAgICAgICAgICB2YWx1ZUxhYmVsVGV4dDogJ25ldXRyYWwnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogUmFkaW8sXG4gICAgICAgICAgICBjaGVja2VkOiBtZS5leGFtcGxlQ29tcG9uZW50LnN0YXRlID09PSAnc3VjY2VzcycsXG4gICAgICAgICAgICBoaWRlVmFsdWVMYWJlbDogZmFsc2UsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICcnLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7IGNoYW5nZTogbWUub25SYWRpb0NoYW5nZS5iaW5kKG1lLCAnc3RhdGUnLCAnc3VjY2VzcycpIH0sXG4gICAgICAgICAgICBuYW1lOiAnc3RhdGUnLFxuICAgICAgICAgICAgdmFsdWVMYWJlbFRleHQ6ICdzdWNjZXNzJ1xuICAgICAgICB9XVxuICAgIH1cblxuICAgIGNyZWF0ZUV4YW1wbGVDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiBOZW8uY3JlYXRlKHtcbiAgICAgICAgICAgIG1vZHVsZTogU3RhdHVzQmFkZ2UsXG4gICAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgICAgc3RhdGU6ICdpbmZvJ1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuTmVvLnNldHVwQ2xhc3MoTWFpbkNvbnRhaW5lcik7XG5cbmV4cG9ydCBkZWZhdWx0IE1haW5Db250YWluZXI7XG4iLCJpbXBvcnQgTWFpbkNvbnRhaW5lciBmcm9tICcuL01haW5Db250YWluZXIubWpzJztcblxuZXhwb3J0IGNvbnN0IG9uU3RhcnQgPSAoKSA9PiBOZW8uYXBwKHtcbiAgICBtYWluVmlldzogTWFpbkNvbnRhaW5lcixcbiAgICBuYW1lICAgIDogJ05lby5leGFtcGxlcy5jb21wb25lbnQuc3RhdHVzYmFkZ2UnXG59KTtcbiIsImltcG9ydCBCYXNlICAgICBmcm9tICcuLi9jb21wb25lbnQvQmFzZS5tanMnO1xuaW1wb3J0IE5lb0FycmF5IGZyb20gJy4uL3V0aWwvQXJyYXkubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLmNvbXBvbmVudC5TdGF0dXNCYWRnZVxuICogQGV4dGVuZHMgTmVvLmNvbXBvbmVudC5CYXNlXG4gKi9cbmNsYXNzIFN0YXR1c0JhZGdlIGV4dGVuZHMgQmFzZSB7XG4gICAgLyoqXG4gICAgICogVmFsaWQgdmFsdWVzIGZvciBzdGF0ZVxuICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBzdGF0ZXM9WydhbGVydCcsJ2Vycm9yJywnaW5mbycsJ25ldXRyYWwnLCdzdWNjZXNzJ11cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyBzdGF0ZXMgPSBbJ2FsZXJ0JywgJ2Vycm9yJywgJ2luZm8nLCAnbmV1dHJhbCcsICdzdWNjZXNzJ11cblxuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLmNvbXBvbmVudC5TdGF0dXNCYWRnZSdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmNvbXBvbmVudC5TdGF0dXNCYWRnZScsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdzdGF0dXMtYmFkZ2UnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAnc3RhdHVzLWJhZGdlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBiYXNlQ2xzPVsnbmVvLXN0YXR1cy1iYWRnZSddXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGJhc2VDbHM6IFsnbmVvLXN0YXR1cy1iYWRnZSddLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGN1cnJlbnRTdGF0ZUljb249bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgY3VycmVudFN0YXRlSWNvbjogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjdXJyZW50U2lkZUljb249bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgY3VycmVudFNpZGVJY29uOiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogZmFsc2UgY2FsbHMgTmVvLk1haW4uc2V0Um91dGUoKVxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBkZWFjdGl2YXRlU3RhdGVJY29ucz1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZGVhY3RpdmF0ZVN0YXRlSWNvbnNfOiBmYWxzZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZhbHNlIGNhbGxzIE5lby5NYWluLnNldFJvdXRlKClcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gZGVhY3RpdmF0ZVNpZGVJY29ucz1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZGVhY3RpdmF0ZVNpZGVJY29uc186IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBpY29uQWxlcnQ9J2ZhLXRyaWFuZ2xlLWV4Y2xhbWF0aW9uJ1xuICAgICAgICAgKi9cbiAgICAgICAgaWNvbkFsZXJ0XzogJ2ZhIGZhLXRyaWFuZ2xlLWV4Y2xhbWF0aW9uJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gaWNvbkVycm9yPSdmYS14bWFyaydcbiAgICAgICAgICovXG4gICAgICAgIGljb25FcnJvcl86ICdmYSBmYS14bWFyaycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGljb25JbmZvPSdmYS1pbmZvJ1xuICAgICAgICAgKi9cbiAgICAgICAgaWNvbkluZm9fOiAnZmEgZmEtaW5mbycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGljb25OZXV0cmFsPSdmYS1jaXJjbGUnXG4gICAgICAgICAqL1xuICAgICAgICBpY29uTmV1dHJhbF86ICdmYSBmYS1jaXJjbGUnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBpY29uU3VjY2Vzcz0nZmEtY2hlY2snXG4gICAgICAgICAqL1xuICAgICAgICBpY29uU3VjY2Vzc186ICdmYSBmYS1jaGVjaycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGxhYmVsQWxlcnRfPSdBbGVydCdcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsQWxlcnRfOiAnQWxlcnQnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBsYWJlbEVycm9yXz0nRXJyb3InXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbEVycm9yXzogJ0Vycm9yJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbGFiZWxJbmZvXz0nSW5mbydcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsSW5mb186ICdJbmZvJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbGFiZWxOZXV0cmFsXz0nTmV1dHJhbCdcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsTmV1dHJhbF86ICdOZXV0cmFsJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbGFiZWxTdWNjZXNzXz0nU3VjY2VzcydcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsU3VjY2Vzc186ICdTdWNjZXNzJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gc2lkZUljb25BbGVydD0nZmEgZmEtcmVnaXN0ZXJlZCdcbiAgICAgICAgICovXG4gICAgICAgIHNpZGVJY29uQWxlcnRfOiAnZmEgZmEtcmVnaXN0ZXJlZCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHNpZGVJY29uRXJyb3I9J2ZhIGZhLXJlZ2lzdGVyZWQnXG4gICAgICAgICAqL1xuICAgICAgICBzaWRlSWNvbkVycm9yXzogJ2ZhIGZhLXJlZ2lzdGVyZWQnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBzaWRlSWNvbkluZm89J2ZhIGZhLXJlZ2lzdGVyZWQnXG4gICAgICAgICAqL1xuICAgICAgICBzaWRlSWNvbkluZm9fOiAnZmEgZmEtcmVnaXN0ZXJlZCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHNpZGVJY29uTmV1dHJhbD0nZmEgZmEtcmVnaXN0ZXJlZCdcbiAgICAgICAgICovXG4gICAgICAgIHNpZGVJY29uTmV1dHJhbF86ICdmYSBmYS1yZWdpc3RlcmVkJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gc2lkZUljb25TdWNjZXNzPSdmYSBmYS1yZWdpc3RlcmVkJ1xuICAgICAgICAgKi9cbiAgICAgICAgc2lkZUljb25TdWNjZXNzXzogJ2ZhIGZhLXJlZ2lzdGVyZWQnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBzdGF0ZV89J25ldXRyYWwnXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0ZV86ICduZXV0cmFsJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gX3Zkb21cbiAgICAgICAgICovXG4gICAgICAgIF92ZG9tOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLCBjbjogW1xuICAgICAgICAgICAgICAgICAgICB7dGFnOiAnc3BhbicsIGNsczogWyduZW8tc3RhdGUtZ2x5cGgnXX0sXG4gICAgICAgICAgICAgICAgICAgIHt0YWc6ICdzcGFuJywgY2xzOiBbJ25lby1zdGF0ZS10ZXh0J119LFxuICAgICAgICAgICAgICAgICAgICB7dGFnOiAnc3BhbicsIGNsczogWyduZW8tc3RhdGUtZ2x5cGgnXX1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBkZWFjdGl2YXRlU3RhdGVJY29ucyBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0RGVhY3RpdmF0ZVN0YXRlSWNvbnModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGVJY29uTm9kZSh0aGlzLmN1cnJlbnRTdGF0ZUljb24pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBkZWFjdGl2YXRlU2lkZUljb25zIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXREZWFjdGl2YXRlU2lkZUljb25zKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVNpZGVJY29uTm9kZSh0aGlzLmN1cnJlbnRTaWRlSWNvbilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIFN0YXRlSWNvbiBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0U2lkZUljb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2lkZUljb25Ob2RlKHZhbHVlLCBvbGRWYWx1ZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIGljb25BbGVydCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0SWNvbkFsZXJ0KHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2FsZXJ0Jykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZUljb25Ob2RlKHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBpY29uRXJyb3IgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEljb25FcnJvcih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGVJY29uTm9kZSh2YWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgaWNvbkluZm8gY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEljb25JbmZvKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2luZm8nKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlSWNvbk5vZGUodmFsdWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIGljb25OZXV0cmFsIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRJY29uTmV1dHJhbCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICduZXV0cmFsJykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZUljb25Ob2RlKHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBzaWRlSWNvblN1Y2Nlc3MgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFNpZGVJY29uU3VjY2Vzcyh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTaWRlSWNvbk5vZGUodmFsdWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIGxhYmVsQWxlcnQgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldExhYmVsQWxlcnQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnYWxlcnQnKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxhYmVsTm9kZSh2YWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgbGFiZWxFcnJvciBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0TGFiZWxFcnJvcih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGFiZWxOb2RlKHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBsYWJlbEluZm8gY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldExhYmVsSW5mbyh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdpbmZvJykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYWJlbE5vZGUodmFsdWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIGxhYmVsTmV1dHJhbCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0TGFiZWxOZXV0cmFsKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ25ldXRyYWwnKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxhYmVsTm9kZSh2YWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgbGFiZWxTdWNjZXNzIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRMYWJlbFN1Y2Nlc3ModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGFiZWxOb2RlKHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHN0YXRlIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFN0YXRlKHZhbHVlLCBvbGRWYWx1ZSkge1xuXG4gICAgICAgIGxldCBtZSAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgY2xzICAgICAgID0gbWUuY2xzLFxuICAgICAgICAgICAgaXNFbXB0eSAgID0gIXZhbHVlIHx8IHZhbHVlID09PSAnJyxcbiAgICAgICAgICAgIHZkb21Sb290ICA9IG1lLmdldFZkb21Sb290KCksXG4gICAgICAgICAgICBsYWJlbE5vZGUgPSB2ZG9tUm9vdC5jblsxXTtcblxuICAgICAgICBOZW9BcnJheS5yZW1vdmUoY2xzLCAnbmVvLXN0YXRlLScgKyBvbGRWYWx1ZSk7XG4gICAgICAgIE5lb0FycmF5LmFkZChjbHMsICduZW8tc3RhdGUtJyArIHZhbHVlKTtcblxuICAgICAgICBtZS5jbHMgPSBjbHM7XG5cbiAgICAgICAgbGFiZWxOb2RlLnJlbW92ZURvbSA9IGlzRW1wdHk7XG5cbiAgICAgICAgaWYgKCFpc0VtcHR5KSB7XG4gICAgICAgICAgICBsZXQgc2hvd0xhYmVsICAgICA9ICcnO1xuICAgICAgICAgICAgbGV0IHNob3dTdGF0ZUljb24gPSAnJztcbiAgICAgICAgICAgIGxldCBzaG93U2lkZUljb24gID0gJyc7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhbGVydCc6XG4gICAgICAgICAgICAgICAgICAgIHNob3dMYWJlbCAgICAgPSBtZS5sYWJlbEFsZXJ0O1xuICAgICAgICAgICAgICAgICAgICBzaG93U3RhdGVJY29uID0gbWUuaWNvbkFsZXJ0O1xuICAgICAgICAgICAgICAgICAgICBzaG93U2lkZUljb24gID0gbWUuc2lkZUljb25BbGVydDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICBzaG93TGFiZWwgICAgID0gbWUubGFiZWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXRlSWNvbiA9IG1lLmljb25FcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NpZGVJY29uICA9IG1lLnNpZGVJY29uRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgICAgICBzaG93TGFiZWwgICAgID0gbWUubGFiZWxJbmZvO1xuICAgICAgICAgICAgICAgICAgICBzaG93U3RhdGVJY29uID0gbWUuaWNvbkluZm87XG4gICAgICAgICAgICAgICAgICAgIHNob3dTaWRlSWNvbiAgPSBtZS5zaWRlSWNvbkluZm87XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ25ldXRyYWwnOlxuICAgICAgICAgICAgICAgICAgICBzaG93TGFiZWwgICAgID0gbWUubGFiZWxOZXV0cmFsO1xuICAgICAgICAgICAgICAgICAgICBzaG93U3RhdGVJY29uID0gbWUuaWNvbk5ldXRyYWw7XG4gICAgICAgICAgICAgICAgICAgIHNob3dTaWRlSWNvbiAgPSBtZS5zaWRlSWNvbk5ldXRyYWw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgICAgICAgICAgICBzaG93TGFiZWwgICAgID0gbWUubGFiZWxTdWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICBzaG93U3RhdGVJY29uID0gbWUuaWNvblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgICAgIHNob3dTaWRlSWNvbiAgPSBtZS5zaWRlSWNvblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYWJlbE5vZGUuaW5uZXJIVE1MID0gc2hvd0xhYmVsO1xuXG4gICAgICAgICAgICBtZS51cGRhdGVTdGF0ZUljb25Ob2RlKHNob3dTdGF0ZUljb24pO1xuICAgICAgICAgICAgbWUudXBkYXRlU2lkZUljb25Ob2RlKHNob3dTaWRlSWNvbik7XG4gICAgICAgIH1cblxuICAgICAgICBtZS51cGRhdGUoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgU3RhdGVJY29uIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRTdGF0ZUljb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGVJY29uTm9kZSh2YWx1ZSwgb2xkVmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSB0aGUgc3RhdGUgY29uZmlnIGdldHMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRWYWx1ZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGJlZm9yZVNldFN0YXRlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWZvcmVTZXRFbnVtVmFsdWUodmFsdWUsIG9sZFZhbHVlLCAnc3RhdGUnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIHNob3J0Y3V0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXRTaWRlSWNvbk5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFZkb21Sb290KCkuY25bMl1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBzaG9ydGN1dFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0U3RhdGVJY29uTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmRvbVJvb3QoKS5jblswXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIHNob3J0Y3V0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB1cGRhdGVMYWJlbE5vZGUodmFsdWUpIHtcbiAgICAgICAgbGV0IGxhYmVsTm9kZSA9IHRoaXMuZ2V0VmRvbVJvb3QoKS5jblsxXTtcblxuICAgICAgICBsYWJlbE5vZGUuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgIGxhYmVsTm9kZS5yZW1vdmVEb20gPSAhQm9vbGVhbih2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIHNob3J0Y3V0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB1cGRhdGVTaWRlSWNvbk5vZGUodmFsdWUpIHtcbiAgICAgICAgbGV0IG1lICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBpY29uTm9kZSAgICAgPSBtZS5nZXRTaWRlSWNvbk5vZGUoKSxcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IG1lLmN1cnJlbnRTaWRlSWNvbjtcblxuICAgICAgICBpZiAodmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudFZhbHVlICYmICFBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIH1cblxuICAgICAgICBOZW9BcnJheS5yZW1vdmUoaWNvbk5vZGUuY2xzLCBjdXJyZW50VmFsdWUpO1xuICAgICAgICBOZW9BcnJheS5hZGQoaWNvbk5vZGUuY2xzLCB2YWx1ZSk7XG5cbiAgICAgICAgaWNvbk5vZGUucmVtb3ZlRG9tID0gIXZhbHVlIHx8IHZhbHVlID09PSAnJyB8fCBtZS5kZWFjdGl2YXRlU2lkZUljb25zO1xuXG4gICAgICAgIG1lLmN1cnJlbnRTaWRlSWNvbiA9IHZhbHVlO1xuICAgICAgICBtZS51cGRhdGUoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIHNob3J0Y3V0XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICB1cGRhdGVTdGF0ZUljb25Ob2RlKHZhbHVlKSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgaWNvbk5vZGUgICAgID0gbWUuZ2V0U3RhdGVJY29uTm9kZSgpLFxuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gbWUuY3VycmVudFN0YXRlSWNvbjtcblxuICAgICAgICBpZiAodmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudFZhbHVlICYmICFBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIH1cblxuICAgICAgICBOZW9BcnJheS5yZW1vdmUoaWNvbk5vZGUuY2xzLCBjdXJyZW50VmFsdWUpO1xuICAgICAgICBOZW9BcnJheS5hZGQoaWNvbk5vZGUuY2xzLCB2YWx1ZSk7XG5cbiAgICAgICAgaWNvbk5vZGUucmVtb3ZlRG9tID0gIXZhbHVlIHx8IHZhbHVlID09PSAnJyB8fCBtZS5kZWFjdGl2YXRlU3RhdGVJY29ucztcblxuICAgICAgICBtZS5jdXJyZW50U3RhdGVJY29uID0gdmFsdWU7XG4gICAgICAgIG1lLnVwZGF0ZSgpXG4gICAgfVxuXG59XG5cbk5lby5zZXR1cENsYXNzKFN0YXR1c0JhZGdlKTtcblxuZXhwb3J0IGRlZmF1bHQgU3RhdHVzQmFkZ2U7XG4iLCJpbXBvcnQgQ2hlY2tCb3ggICAgICAgICBmcm9tICcuL0NoZWNrQm94Lm1qcyc7XG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICcuLi8uLi9tYW5hZ2VyL0NvbXBvbmVudC5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBOZW8uZm9ybS5maWVsZC5SYWRpb1xuICogQGV4dGVuZHMgTmVvLmZvcm0uZmllbGQuQ2hlY2tCb3hcbiAqL1xuY2xhc3MgUmFkaW8gZXh0ZW5kcyBDaGVja0JveCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uZm9ybS5maWVsZC5SYWRpbydcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmZvcm0uZmllbGQuUmFkaW8nLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0ncmFkaW9maWVsZCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdyYWRpb2ZpZWxkJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBiYXNlQ2xzPVsnbmVvLXJhZGlvZmllbGQnLCduZW8tY2hlY2tib3hmaWVsZCddXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1yYWRpb2ZpZWxkJywgJ25lby1jaGVja2JveGZpZWxkJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gaWNvbkNscz1bJ2ZhcicsJ2ZhLWNpcmNsZSddXG4gICAgICAgICAqL1xuICAgICAgICBpY29uQ2xzOiBbJ2ZhcicsICdmYS1jaXJjbGUnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gaW5wdXRUeXBlPSdyYWRpbydcbiAgICAgICAgICovXG4gICAgICAgIGlucHV0VHlwZTogJ3JhZGlvJ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgY2hlY2tlZCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldENoZWNrZWQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0Q2hlY2tlZCh2YWx1ZSwgb2xkVmFsdWUpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSByYWRpb3Mgd2l0aCB0aGUgc2FtZSBuYW1lIHRvIGJlIHVuY2hlY2tlZFxuICAgICAgICB2YWx1ZSAmJiB0aGlzLnVuY2hlY2tHcm91cEl0ZW1zKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSYWRpb3Mgc2hvdWxkIG9ubHkgZmlyZSBjaGFuZ2UgJiBmaWVsZENoYW5nZSBldmVudHMgaWYgY2hlY2tlZC5cbiAgICAgKiBJZiB0aGVyZSB3YXMganVzdCAxIHJhZGlvLCB5b3UgY2FuIG5vdCB1bmNoZWNrIGl0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlXG4gICAgICovXG4gICAgZmlyZUNoYW5nZUV2ZW50KHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmNoZWNrZWQgJiYgc3VwZXIuZmlyZUNoYW5nZUV2ZW50KHZhbHVlLCBvbGRWYWx1ZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nW119XG4gICAgICovXG4gICAgZ2V0R3JvdXBWYWx1ZSgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3VwZXIuZ2V0R3JvdXBWYWx1ZSgpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPiAwID8gdmFsdWVbMF0gOiBbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJhZGlvcyBkbyBub3QgZmlyZSBhIGNoYW5nZSBldmVudCBmb3IgXCJ1bmNoZWNrXCIsIHNvIHdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIG90aGVyIHJhZGlvcyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAgICovXG4gICAgdW5jaGVja0dyb3VwSXRlbXMoKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXMsXG4gICAgICAgICAgICByYWRpb3M7XG5cbiAgICAgICAgLy8gZGlzY3Vzczogd2UgY291bGQgbGltaXQgdGhpcyB0byByYWRpb3MgaW5zaWRlIHRoZSBzYW1lIGZvcm0sIElGIGEgdG9wIGxldmVsIGZvcm0gaXMgdXNlZFxuICAgICAgICByYWRpb3MgPSBDb21wb25lbnRNYW5hZ2VyLmZpbmQoe1xuICAgICAgICAgICAgbnR5cGU6ICdyYWRpb2ZpZWxkJyxcbiAgICAgICAgICAgIG5hbWUgOiBtZS5uYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJhZGlvcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgIT09IG1lLmlkICYmIGl0ZW0uX2NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbk5lby5zZXR1cENsYXNzKFJhZGlvKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=