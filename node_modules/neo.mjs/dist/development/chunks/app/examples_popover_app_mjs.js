"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["examples_popover_app_mjs"],{

/***/ "./examples/popover/MainContainer.mjs":
/*!********************************************!*\
  !*** ./examples/popover/MainContainer.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/component/Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ConfigurationViewport.mjs */ "./examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_plugin_Popover_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/plugin/Popover.mjs */ "./src/plugin/Popover.mjs");
/* harmony import */ var _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/button/Base.mjs */ "./src/button/Base.mjs");





/**
 * @class Neo.examples.popover.MainContainer
 * @extends Neo.examples.ConfigurationViewport
 */
class MainContainer extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        className           : 'Neo.examples.popover.MainContainer',
        autoMount           : true,
        configItemLabelWidth: 100,
        configItemWidth     : 230,
        layout              : {ntype: 'hbox', align: 'stretch'},
        cls                 : ['examples-container-accordion']
    }

    /**
     * @returns {*}
     */
    createExampleComponent() {
        return Neo.ntype({
            ntype : 'container',
            height: '30%',
            layout: {ntype: 'vbox', align: 'center', pack: 'center'},
            items : [{
                module: _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                height: 10
            }, {
                module : _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                width  : 200,
                text   : 'Click Me',
                plugins: [{
                    module: _src_plugin_Popover_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
                    align : 'bc-tc',
                    items : [{
                        ntype  : 'panel',
                        headers: [{
                            dock: 'top',
                            html: 'HEADER'
                        }],
                        items  : [{
                            html: 'This is a comment about the button'
                        }]
                    }]
                }]
            }]
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainer));


/***/ }),

/***/ "./examples/popover/app.mjs":
/*!**********************************!*\
  !*** ./examples/popover/app.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./examples/popover/MainContainer.mjs");


const onStart = () => Neo.app({
    mainView: _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
    name    : 'Neo.examples.popover'
});


/***/ }),

/***/ "./src/plugin/Base.mjs":
/*!*****************************!*\
  !*** ./src/plugin/Base.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");


/**
 * Abstract base class for plugin implementations.
 * Plugins are intended to get put into the plugins config of component.Base
 * to enhance them or add additional features
 * @class Neo.plugin.Base
 * @extends Neo.core.Base
 */
class Base extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.plugin.Base'
         * @protected
         */
        className: 'Neo.plugin.Base',
        /**
         * All plugin ntypes need to start with 'plugin-' to ensure that component.Base: getPlugin() can find them
         * @member {String} ntype='plugin'
         * @protected
         */
        ntype: 'plugin',
        /**
         * @member {Neo.component.Base} owner=null
         * @protected
         */
        owner: null
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me = this;

        if (me.owner.mounted) {
            me.onOwnerMounted();
        } else {
            me.owner.on('mounted', me.onOwnerMounted, me);
        }
    }

    /**
     * Override this method to apply changes to the owner Component when it does get mounted
     */
    onOwnerMounted() {

    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Base));


/***/ }),

/***/ "./src/plugin/Popover.mjs":
/*!********************************!*\
  !*** ./src/plugin/Popover.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/plugin/Base.mjs");
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array.mjs */ "./src/util/Array.mjs");




/**
 * Popover usable as tooltip
 * @class Neo.plugin.Popover
 * @extends Neo.plugin.Base
 *
 * @example
 *     module : Button,
 *     width  : 200,
 *     text   : 'Click Me',
 *     plugins: [{
 *         module: PopoverPlugin,
 *         align : 'bc-tc',
 *         items : [{
 *             ntype  : 'panel',
 *             headers: [{
 *                 dock: 'top',
 *                 html: 'HEADER'
 *             }],
 *             items  : [{
 *                 html: 'This is a comment about the button'
 *             }]
 *         }]
 *     }]
 */
class Popover extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Valid values for align
     * @member {String[]} alignValues=['bc-tc','tc-bc','tl-tr','tr-tl','cl-cr','cr-cl',null]
     * @protected
     * @static
     *
     * todo: add more
     */
    static alignValues = ['bc-tc', 'tc-bc', 'tl-tr', 'tr-tl', 'cl-cr', 'cr-cl', null]

    static config = {
        /**
         * @member {String} className='Neo.plugin.Popover'
         * @protected
         */
        className: 'Neo.plugin.Popover',
        /**
         * @member {String} ntype='plugin-popover'
         * @protected
         */
        ntype: 'plugin-popover',
        /**
         * Define popover to popover target alignment
         * Defaults to bottom center of popover is aligned to top center of owner
         * @member {String} align='bc-tc'
         */
        align_: 'bc-tc',
        /**
         * Custom cls to add to the owner component
         * @member {String} popoverBaseCls='neo-popover'
         */
        popoverBaseCls: 'neo-popover',
        /**
         * Custom cls to add to the owner component
         * @member {String} popovertargetCls='neo-popover-target'
         */
        popovertargetCls: 'neo-popover-target'
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        let me = this;

        super.construct(config);

        me.popoverId = Neo.getId('popover');

        // prepare owner
        me.preparePopoverTarget();
        me.addPopover();

        me.addListeners()
    }

    /**
     * @protected
     */
    addListeners() {
        const me = this;

        me.owner.addDomListeners([
            {mouseover: me.onTargetMouseOver, scope: me},
            {mouseout : me.onTargetMouseOut,  scope: me}
        ])
    }

    /**
     * Create the popover and add it to the parent component of the owner
     * @protected
     */
    addPopover() {
        const me      = this,
              {owner} = me,
              parent  = Neo.get(me.owner.parentId),
              popover = {
                  module: _container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                  id    : me.popoverId,

                  baseCls: [me.popoverBaseCls],
                  cls    : [me.align],

                  layout: 'base',
                  items : me.items || [],

                  vdom: {
                      // Possible Values are auto, manual.
                      popover: 'auto',
                      anchor : owner.id
                  }
              };

        parent.add(popover)
    }

    /**
     * Checks if the new value for "align" is valid
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     * @returns {String|null} value
     */
    beforeSetAlign(value, oldValue) {
        return this.testInputValue(value, oldValue, 'alignValues', 'align')
    }

    /**
     * @event mouseout
     * @param {Object} data
     * @protected
     */
    onTargetMouseOut(data) {
        Neo.main.addon.Popover.hide({id: data.component.id})
    }

    /**
     * @event mouseover
     * @param {Object} data
     * @protected
     */
    onTargetMouseOver(data) {
        Neo.main.addon.Popover.show({id: data.component.id})
    }

    /**
     * @protected
     */
    preparePopoverTarget() {
        const me         = this,
              target     = me.owner,
              targetVdom = target.vdom;

        target.addCls(me.popovertargetCls);
        targetVdom.popovertarget = me.popoverId
    }

    /**
     * Checks if the new value for propertyName is valid
     * @param {String|null} value
     * @param {String|null} oldValue
     * @param {String} validValuesName
     * @param {String} propertyName
     * @protected
     * @returns {String|null} value
     */
    testInputValue(value, oldValue, validValuesName, propertyName) {
        const validValues = this.getStaticConfig(validValuesName);

        if (!_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].hasItem(validValues, value)) {
            Neo.logError(this.id + ' -> layout: supported values for "' + propertyName + '" are', validValues);
            return oldValue
        }

        return value
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Popover));


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9leGFtcGxlc19wb3BvdmVyX2FwcF9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDQTtBQUNBO0FBQ0g7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtFQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0NBQStDO0FBQ3BFO0FBQ0Esd0JBQXdCLCtEQUFTO0FBQ2pDO0FBQ0EsYUFBYTtBQUNiLHlCQUF5Qiw0REFBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7O0FBRUEsaUVBQWUsNkJBQTZCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyREc7O0FBRXpDO0FBQ1AsY0FBYywwREFBYTtBQUMzQjtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMdUM7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFRO0FBQzNCO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLG9CQUFvQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwREQ7QUFDVTtBQUNIOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsWUFBWTtBQUNaLFFBQVE7QUFDUjtBQUNBLHNCQUFzQixpREFBSTtBQUMxQjtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLDJDQUEyQztBQUN4RCxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBLDBCQUEwQiwyREFBUztBQUNuQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUI7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzQkFBc0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0JBQXNCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBOztBQUVBLGFBQWEsdURBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9leGFtcGxlcy9wb3BvdmVyL01haW5Db250YWluZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9leGFtcGxlcy9wb3BvdmVyL2FwcC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy9wbHVnaW4vQmFzZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy9wbHVnaW4vUG9wb3Zlci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCAgICAgICAgICAgICBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzJztcbmltcG9ydCBDb25maWd1cmF0aW9uVmlld3BvcnQgZnJvbSAnLi4vQ29uZmlndXJhdGlvblZpZXdwb3J0Lm1qcyc7XG5pbXBvcnQgUG9wb3ZlclBsdWdpbiAgICAgICAgIGZyb20gJy4uLy4uL3NyYy9wbHVnaW4vUG9wb3Zlci5tanMnO1xuaW1wb3J0IEJ1dHRvbiAgICAgICAgICAgICAgICBmcm9tICcuLi8uLi9zcmMvYnV0dG9uL0Jhc2UubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLmV4YW1wbGVzLnBvcG92ZXIuTWFpbkNvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmV4YW1wbGVzLkNvbmZpZ3VyYXRpb25WaWV3cG9ydFxuICovXG5jbGFzcyBNYWluQ29udGFpbmVyIGV4dGVuZHMgQ29uZmlndXJhdGlvblZpZXdwb3J0IHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICBjbGFzc05hbWUgICAgICAgICAgIDogJ05lby5leGFtcGxlcy5wb3BvdmVyLk1haW5Db250YWluZXInLFxuICAgICAgICBhdXRvTW91bnQgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgY29uZmlnSXRlbUxhYmVsV2lkdGg6IDEwMCxcbiAgICAgICAgY29uZmlnSXRlbVdpZHRoICAgICA6IDIzMCxcbiAgICAgICAgbGF5b3V0ICAgICAgICAgICAgICA6IHtudHlwZTogJ2hib3gnLCBhbGlnbjogJ3N0cmV0Y2gnfSxcbiAgICAgICAgY2xzICAgICAgICAgICAgICAgICA6IFsnZXhhbXBsZXMtY29udGFpbmVyLWFjY29yZGlvbiddXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgY3JlYXRlRXhhbXBsZUNvbXBvbmVudCgpIHtcbiAgICAgICAgcmV0dXJuIE5lby5udHlwZSh7XG4gICAgICAgICAgICBudHlwZSA6ICdjb250YWluZXInLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMzAlJyxcbiAgICAgICAgICAgIGxheW91dDoge250eXBlOiAndmJveCcsIGFsaWduOiAnY2VudGVyJywgcGFjazogJ2NlbnRlcid9LFxuICAgICAgICAgICAgaXRlbXMgOiBbe1xuICAgICAgICAgICAgICAgIG1vZHVsZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMTBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUgOiBCdXR0b24sXG4gICAgICAgICAgICAgICAgd2lkdGggIDogMjAwLFxuICAgICAgICAgICAgICAgIHRleHQgICA6ICdDbGljayBNZScsXG4gICAgICAgICAgICAgICAgcGx1Z2luczogW3tcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlOiBQb3BvdmVyUGx1Z2luLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbiA6ICdiYy10YycsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG50eXBlICA6ICdwYW5lbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY2s6ICd0b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdIRUFERVInXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zICA6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1RoaXMgaXMgYSBjb21tZW50IGFib3V0IHRoZSBidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoTWFpbkNvbnRhaW5lcik7XG4iLCJpbXBvcnQgTWFpbkNvbnRhaW5lciBmcm9tICcuL01haW5Db250YWluZXIubWpzJztcblxuZXhwb3J0IGNvbnN0IG9uU3RhcnQgPSAoKSA9PiBOZW8uYXBwKHtcbiAgICBtYWluVmlldzogTWFpbkNvbnRhaW5lcixcbiAgICBuYW1lICAgIDogJ05lby5leGFtcGxlcy5wb3BvdmVyJ1xufSk7XG4iLCJpbXBvcnQgQ29yZUJhc2UgZnJvbSAnLi4vY29yZS9CYXNlLm1qcyc7XG5cbi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgcGx1Z2luIGltcGxlbWVudGF0aW9ucy5cbiAqIFBsdWdpbnMgYXJlIGludGVuZGVkIHRvIGdldCBwdXQgaW50byB0aGUgcGx1Z2lucyBjb25maWcgb2YgY29tcG9uZW50LkJhc2VcbiAqIHRvIGVuaGFuY2UgdGhlbSBvciBhZGQgYWRkaXRpb25hbCBmZWF0dXJlc1xuICogQGNsYXNzIE5lby5wbHVnaW4uQmFzZVxuICogQGV4dGVuZHMgTmVvLmNvcmUuQmFzZVxuICovXG5jbGFzcyBCYXNlIGV4dGVuZHMgQ29yZUJhc2Uge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLnBsdWdpbi5CYXNlJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8ucGx1Z2luLkJhc2UnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHBsdWdpbiBudHlwZXMgbmVlZCB0byBzdGFydCB3aXRoICdwbHVnaW4tJyB0byBlbnN1cmUgdGhhdCBjb21wb25lbnQuQmFzZTogZ2V0UGx1Z2luKCkgY2FuIGZpbmQgdGhlbVxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdwbHVnaW4nXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAncGx1Z2luJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge05lby5jb21wb25lbnQuQmFzZX0gb3duZXI9bnVsbFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBvd25lcjogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3QoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLmNvbnN0cnVjdChjb25maWcpO1xuXG4gICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKG1lLm93bmVyLm1vdW50ZWQpIHtcbiAgICAgICAgICAgIG1lLm9uT3duZXJNb3VudGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZS5vd25lci5vbignbW91bnRlZCcsIG1lLm9uT3duZXJNb3VudGVkLCBtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBhcHBseSBjaGFuZ2VzIHRvIHRoZSBvd25lciBDb21wb25lbnQgd2hlbiBpdCBkb2VzIGdldCBtb3VudGVkXG4gICAgICovXG4gICAgb25Pd25lck1vdW50ZWQoKSB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKEJhc2UpO1xuIiwiaW1wb3J0IEJhc2UgICAgICBmcm9tICcuL0Jhc2UubWpzJztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi4vY29udGFpbmVyL0Jhc2UubWpzJ1xuaW1wb3J0IE5lb0FycmF5ICBmcm9tIFwiLi4vdXRpbC9BcnJheS5tanNcIjtcblxuLyoqXG4gKiBQb3BvdmVyIHVzYWJsZSBhcyB0b29sdGlwXG4gKiBAY2xhc3MgTmVvLnBsdWdpbi5Qb3BvdmVyXG4gKiBAZXh0ZW5kcyBOZW8ucGx1Z2luLkJhc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIG1vZHVsZSA6IEJ1dHRvbixcbiAqICAgICB3aWR0aCAgOiAyMDAsXG4gKiAgICAgdGV4dCAgIDogJ0NsaWNrIE1lJyxcbiAqICAgICBwbHVnaW5zOiBbe1xuICogICAgICAgICBtb2R1bGU6IFBvcG92ZXJQbHVnaW4sXG4gKiAgICAgICAgIGFsaWduIDogJ2JjLXRjJyxcbiAqICAgICAgICAgaXRlbXMgOiBbe1xuICogICAgICAgICAgICAgbnR5cGUgIDogJ3BhbmVsJyxcbiAqICAgICAgICAgICAgIGhlYWRlcnM6IFt7XG4gKiAgICAgICAgICAgICAgICAgZG9jazogJ3RvcCcsXG4gKiAgICAgICAgICAgICAgICAgaHRtbDogJ0hFQURFUidcbiAqICAgICAgICAgICAgIH1dLFxuICogICAgICAgICAgICAgaXRlbXMgIDogW3tcbiAqICAgICAgICAgICAgICAgICBodG1sOiAnVGhpcyBpcyBhIGNvbW1lbnQgYWJvdXQgdGhlIGJ1dHRvbidcbiAqICAgICAgICAgICAgIH1dXG4gKiAgICAgICAgIH1dXG4gKiAgICAgfV1cbiAqL1xuY2xhc3MgUG9wb3ZlciBleHRlbmRzIEJhc2Uge1xuICAgIC8qKlxuICAgICAqIFZhbGlkIHZhbHVlcyBmb3IgYWxpZ25cbiAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYWxpZ25WYWx1ZXM9WydiYy10YycsJ3RjLWJjJywndGwtdHInLCd0ci10bCcsJ2NsLWNyJywnY3ItY2wnLG51bGxdXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKlxuICAgICAqIHRvZG86IGFkZCBtb3JlXG4gICAgICovXG4gICAgc3RhdGljIGFsaWduVmFsdWVzID0gWydiYy10YycsICd0Yy1iYycsICd0bC10cicsICd0ci10bCcsICdjbC1jcicsICdjci1jbCcsIG51bGxdXG5cbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5wbHVnaW4uUG9wb3ZlcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLnBsdWdpbi5Qb3BvdmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J3BsdWdpbi1wb3BvdmVyJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ3BsdWdpbi1wb3BvdmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBwb3BvdmVyIHRvIHBvcG92ZXIgdGFyZ2V0IGFsaWdubWVudFxuICAgICAgICAgKiBEZWZhdWx0cyB0byBib3R0b20gY2VudGVyIG9mIHBvcG92ZXIgaXMgYWxpZ25lZCB0byB0b3AgY2VudGVyIG9mIG93bmVyXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gYWxpZ249J2JjLXRjJ1xuICAgICAgICAgKi9cbiAgICAgICAgYWxpZ25fOiAnYmMtdGMnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VzdG9tIGNscyB0byBhZGQgdG8gdGhlIG93bmVyIGNvbXBvbmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHBvcG92ZXJCYXNlQ2xzPSduZW8tcG9wb3ZlcidcbiAgICAgICAgICovXG4gICAgICAgIHBvcG92ZXJCYXNlQ2xzOiAnbmVvLXBvcG92ZXInLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VzdG9tIGNscyB0byBhZGQgdG8gdGhlIG93bmVyIGNvbXBvbmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHBvcG92ZXJ0YXJnZXRDbHM9J25lby1wb3BvdmVyLXRhcmdldCdcbiAgICAgICAgICovXG4gICAgICAgIHBvcG92ZXJ0YXJnZXRDbHM6ICduZW8tcG9wb3Zlci10YXJnZXQnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdChjb25maWcpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBzdXBlci5jb25zdHJ1Y3QoY29uZmlnKTtcblxuICAgICAgICBtZS5wb3BvdmVySWQgPSBOZW8uZ2V0SWQoJ3BvcG92ZXInKTtcblxuICAgICAgICAvLyBwcmVwYXJlIG93bmVyXG4gICAgICAgIG1lLnByZXBhcmVQb3BvdmVyVGFyZ2V0KCk7XG4gICAgICAgIG1lLmFkZFBvcG92ZXIoKTtcblxuICAgICAgICBtZS5hZGRMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IG1lID0gdGhpcztcblxuICAgICAgICBtZS5vd25lci5hZGREb21MaXN0ZW5lcnMoW1xuICAgICAgICAgICAge21vdXNlb3ZlcjogbWUub25UYXJnZXRNb3VzZU92ZXIsIHNjb3BlOiBtZX0sXG4gICAgICAgICAgICB7bW91c2VvdXQgOiBtZS5vblRhcmdldE1vdXNlT3V0LCAgc2NvcGU6IG1lfVxuICAgICAgICBdKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgcG9wb3ZlciBhbmQgYWRkIGl0IHRvIHRoZSBwYXJlbnQgY29tcG9uZW50IG9mIHRoZSBvd25lclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZGRQb3BvdmVyKCkge1xuICAgICAgICBjb25zdCBtZSAgICAgID0gdGhpcyxcbiAgICAgICAgICAgICAge293bmVyfSA9IG1lLFxuICAgICAgICAgICAgICBwYXJlbnQgID0gTmVvLmdldChtZS5vd25lci5wYXJlbnRJZCksXG4gICAgICAgICAgICAgIHBvcG92ZXIgPSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGU6IENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgIGlkICAgIDogbWUucG9wb3ZlcklkLFxuXG4gICAgICAgICAgICAgICAgICBiYXNlQ2xzOiBbbWUucG9wb3ZlckJhc2VDbHNdLFxuICAgICAgICAgICAgICAgICAgY2xzICAgIDogW21lLmFsaWduXSxcblxuICAgICAgICAgICAgICAgICAgbGF5b3V0OiAnYmFzZScsXG4gICAgICAgICAgICAgICAgICBpdGVtcyA6IG1lLml0ZW1zIHx8IFtdLFxuXG4gICAgICAgICAgICAgICAgICB2ZG9tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gUG9zc2libGUgVmFsdWVzIGFyZSBhdXRvLCBtYW51YWwuXG4gICAgICAgICAgICAgICAgICAgICAgcG9wb3ZlcjogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgIGFuY2hvciA6IG93bmVyLmlkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgcGFyZW50LmFkZChwb3BvdmVyKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbmV3IHZhbHVlIGZvciBcImFsaWduXCIgaXMgdmFsaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKi9cbiAgICBiZWZvcmVTZXRBbGlnbih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVzdElucHV0VmFsdWUodmFsdWUsIG9sZFZhbHVlLCAnYWxpZ25WYWx1ZXMnLCAnYWxpZ24nKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBldmVudCBtb3VzZW91dFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uVGFyZ2V0TW91c2VPdXQoZGF0YSkge1xuICAgICAgICBOZW8ubWFpbi5hZGRvbi5Qb3BvdmVyLmhpZGUoe2lkOiBkYXRhLmNvbXBvbmVudC5pZH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IG1vdXNlb3ZlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uVGFyZ2V0TW91c2VPdmVyKGRhdGEpIHtcbiAgICAgICAgTmVvLm1haW4uYWRkb24uUG9wb3Zlci5zaG93KHtpZDogZGF0YS5jb21wb25lbnQuaWR9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcmVwYXJlUG9wb3ZlclRhcmdldCgpIHtcbiAgICAgICAgY29uc3QgbWUgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICAgIHRhcmdldCAgICAgPSBtZS5vd25lcixcbiAgICAgICAgICAgICAgdGFyZ2V0VmRvbSA9IHRhcmdldC52ZG9tO1xuXG4gICAgICAgIHRhcmdldC5hZGRDbHMobWUucG9wb3ZlcnRhcmdldENscyk7XG4gICAgICAgIHRhcmdldFZkb20ucG9wb3ZlcnRhcmdldCA9IG1lLnBvcG92ZXJJZFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbmV3IHZhbHVlIGZvciBwcm9wZXJ0eU5hbWUgaXMgdmFsaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbGlkVmFsdWVzTmFtZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eU5hbWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybnMge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqL1xuICAgIHRlc3RJbnB1dFZhbHVlKHZhbHVlLCBvbGRWYWx1ZSwgdmFsaWRWYWx1ZXNOYW1lLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgY29uc3QgdmFsaWRWYWx1ZXMgPSB0aGlzLmdldFN0YXRpY0NvbmZpZyh2YWxpZFZhbHVlc05hbWUpO1xuXG4gICAgICAgIGlmICghTmVvQXJyYXkuaGFzSXRlbSh2YWxpZFZhbHVlcywgdmFsdWUpKSB7XG4gICAgICAgICAgICBOZW8ubG9nRXJyb3IodGhpcy5pZCArICcgLT4gbGF5b3V0OiBzdXBwb3J0ZWQgdmFsdWVzIGZvciBcIicgKyBwcm9wZXJ0eU5hbWUgKyAnXCIgYXJlJywgdmFsaWRWYWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIG9sZFZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKFBvcG92ZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9