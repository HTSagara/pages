"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-apps_portal_view_home_MainContainer_mjs"],{

/***/ "./apps/portal/view/home/ContentBox.mjs":
/*!**********************************************!*\
  !*** ./apps/portal/view/home/ContentBox.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./src/component/Base.mjs");


/**
 * @class Portal.view.home.ContentBox
 * @extends Neo.component.Base
 */
class ContentBox extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.ContentBox'
         * @protected
         */
        className: 'Portal.view.home.ContentBox',
        /**
         * @member {String[]} baseCls=['portal-content-box']
         * @protected
         */
        baseCls: ['portal-content-box'],
        /**
         * @member {String[]|null} content_=null
         */
        content_: null,
        /**
         * @member {String|null} header_=null
         */
        header_: null,
        /**
         * @member {String|null} route_=null
         */
        route_: null,
        /**
         * @member {Object} _vdom
         */
        _vdom:
        {tag: 'a', cn: [
            {tag: 'h3', cls: ['portal-content-box-headline']},
            {tag: 'ul', cls: ['portal-content-box-content'], cn: []}
        ]}
    }

    /**
     * Triggered after the content config got changed
     * @param {String[]|null} value
     * @param {String[]|null} oldValue
     * @protected
     */
    afterSetContent(value, oldValue) {
        value?.forEach(item => {
            this.vdom.cn[1].cn.push({tag: 'li', html: item})
        })

        this.update()
    }

    /**
     * Triggered after the header config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetHeader(value, oldValue) {
        this.vdom.cn[0].html = value;
        this.update()
    }

    /**
     * Triggered after the route config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetRoute(value, oldValue) {
        this.vdom.href = value;
        this.update()
    }
}

Neo.setupClass(ContentBox);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContentBox);


/***/ }),

/***/ "./apps/portal/view/home/MainContainer.mjs":
/*!*************************************************!*\
  !*** ./apps/portal/view/home/MainContainer.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _parts_AfterMath_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parts/AfterMath.mjs */ "./apps/portal/view/home/parts/AfterMath.mjs");
/* harmony import */ var _parts_Colors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parts/Colors.mjs */ "./apps/portal/view/home/parts/Colors.mjs");
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _parts_Features_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parts/Features.mjs */ "./apps/portal/view/home/parts/Features.mjs");
/* harmony import */ var _parts_Helix_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parts/Helix.mjs */ "./apps/portal/view/home/parts/Helix.mjs");
/* harmony import */ var _parts_HelloWorld_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parts/HelloWorld.mjs */ "./apps/portal/view/home/parts/HelloWorld.mjs");
/* harmony import */ var _parts_MainNeo_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parts/MainNeo.mjs */ "./apps/portal/view/home/parts/MainNeo.mjs");








/**
 * @class Portal.view.home.MainContainer
 * @extends Neo.container.Base
 */
class MainContainer extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_2__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.MainContainer'
         * @protected
         */
        className: 'Portal.view.home.MainContainer',
        /**
         * @member {String[]} cls=['portal-home-maincontainer']
         */
        cls: ['portal-home-maincontainer'],
        /**
         * @member {Object[]} items
         */
        items: [
            {ntype: 'component', id: 'progress'},
            _parts_MainNeo_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
            _parts_Features_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
            _parts_HelloWorld_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            _parts_Colors_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            _parts_Helix_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
            _parts_AfterMath_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]
        ],
        /**
         * @member {Boolean} scrollable=true
         */
        scrollable: true,

        domListeners: [{
            scroll(event) {
                this.toggleCls('hide-sidebar', event.scrollTop > 80)
            }
        }]
    }
}

Neo.setupClass(MainContainer);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainContainer);


/***/ }),

/***/ "./apps/portal/view/home/parts/AfterMath.mjs":
/*!***************************************************!*\
  !*** ./apps/portal/view/home/parts/AfterMath.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");


/**
 * @class Portal.view.home.parts.AfterMath
 * @extends Neo.container.Base
 */
class AfterMath extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.AfterMath'
         * @protected
         */
        className: 'Portal.view.home.parts.AfterMath',

        cls: ['page', 'after-math'],

        layout: {ntype: 'vbox', align: 'stretch', pack: 'center'},
        /**
         * @member {Object[]} items
         */
        items: [{
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : 1
        }, {
            cls : 'neo-h1',
            flex: 'none',
            html: 'Additional Stuff'
        }, {
            cls : 'neo-h2',
            flex: 'none',
            html: 'More to come here',
            // height: 200
        }, {
            cls : 'neo-content',
            flex: 'none',
            html: 'Neo uses several cores to run the application. See the spinner on the page?',
            // height: 200
        }, {
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : 1
        }, {
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            cls   : 'home-footer',
            height: '40%',
            style : { // todo: css
                background: 'black',
                color     : 'white',
                height    : '40%',
                padding   : '15px'
            },
            html  : 'This is the footer'
        }]
    }
}

Neo.setupClass(AfterMath);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterMath);


/***/ }),

/***/ "./apps/portal/view/home/parts/Colors.mjs":
/*!************************************************!*\
  !*** ./apps/portal/view/home/parts/Colors.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../learn/LivePreview.mjs */ "./apps/portal/view/learn/LivePreview.mjs");



/**
 * @class Portal.view.home.parts.Colors
 * @extends Neo.container.Base
 */
class Colors extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.Colors'
         * @protected
         */
        className: 'Portal.view.home.parts.Colors',

        cls: ['page', 'cool-stuff'],

        responsive: {
            medium: {layout: {ntype: 'vbox', align: 'stretch', pack: 'center'}},
            large : {layout: {ntype: 'hbox', align: 'stretch', pack: 'center'}}
        },

        /**
         * @member {Object[]} items
         */
        items: [{
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : '1',
            style : {padding: '2rem'},
            layout: {ntype: 'vbox', align: 'center', pack: 'center'},
            items : [{
                cls : 'neo-h1',
                flex: 'none',
                html: 'Colors Dashboard'
            }, {
                cls : 'neo-h2',
                flex: 'none',
                html: 'Expand the widgets into multiple Windows'
            }, {
                cls : 'neo-content',
                flex: 'none',
                html: 'The State Management will continue to work.'
            }]
        }, {
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : '2',
            style : {background: 'grey', padding: '20px'},
            layout: {ntype: 'vbox', align: 'stretch', pack: 'center'},
            items : [{
                module    : _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                activeView: 'preview',
                cls       : ['page-live-preview'],
                height    : '100%',

                value: [
                    "import Viewport from '../../../../apps/colors/view/Viewport.mjs';",
                    "",
                    "class MainView extends Viewport {",
                    "    static config = {",
                    "        className: 'Portal.view.Colors',",
                    "        theme    : 'neo-theme-dark'",
                    "    }",
                    "}",
                    "",
                    "Neo.setupClass(MainView);"
                ].join('\n')
            }]
        }]
    }
}

Neo.setupClass(Colors);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Colors);


/***/ }),

/***/ "./apps/portal/view/home/parts/Features.mjs":
/*!**************************************************!*\
  !*** ./apps/portal/view/home/parts/Features.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _ContentBox_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ContentBox.mjs */ "./apps/portal/view/home/ContentBox.mjs");



/**
 * @class Portal.view.home.parts.Features
 * @extends Neo.container.Base
 */
class Features extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.Features'
         * @protected
         */
        className: 'Portal.view.home.parts.Features',
        /**
         * @member {String[]} cls=['portal-home-features','page']
         */
        cls: ['portal-home-features', 'page'],
        /**
         * @member {Object} layout={ntype:'hbox',align:'stretch',wrap:'wrap'}
         */
        layout: {ntype: 'hbox', align: 'stretch', wrap: 'wrap'},
        /**
         * @member {Object[]} items
         */
        items: [{
            module: _ContentBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            header: 'Next-Generation Runtime',
            route : '#/learn/WhyNeo-Quick',

            content: [
                'Multi-threaded',
                'Elegant state management',
                'Simple and powerful debugging'
            ]
        }, {
            module: _ContentBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            header: 'Extreme Speed',
            route : '#/learn/WhyNeo-Speed',

            content: [
                'Multi-threaded',
                'Over 40,000 delta updates per second',
                'Item 3'
            ]
        }]
    }
}

Neo.setupClass(Features);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Features);


/***/ }),

/***/ "./apps/portal/view/home/parts/Helix.mjs":
/*!***********************************************!*\
  !*** ./apps/portal/view/home/parts/Helix.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../learn/LivePreview.mjs */ "./apps/portal/view/learn/LivePreview.mjs");



/**
 * @class Portal.view.home.parts.Helix
 * @extends Neo.container.Base
 */
class Helix extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.Helix'
         * @protected
         */
        className: 'Portal.view.home.parts.Helix',

        cls: ['page', 'cool-stuff'],

        responsive: {
            medium: {layout: {ntype: 'vbox', align: 'stretch', pack: 'center'}},
            large : {layout: {ntype: 'hbox', align: 'stretch', pack: 'center'}}
        },

        /**
         * @member {Object[]} items
         */
        items: [{
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : '1',
            style : {padding: '2rem'},
            layout: {ntype: 'vbox', align: 'center', pack: 'center'},
            items : [{
                cls : 'neo-h1',
                flex: 'none',
                html: 'Interactive Views'
            }, {
                cls : 'neo-h2',
                flex: 'none',
                html: 'Expand the widget into multiple Windows'
            }, {
                cls : 'neo-content',
                flex: 'none',
                html: 'The State Management will continue to work.'
            }]
        }, {
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : '2',
            style : {background: 'grey', padding: '20px'},
            layout: {ntype: 'vbox', align: 'stretch', pack: 'center'},
            items : [{
                module    : _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                activeView: 'preview',
                cls       : ['page-live-preview'],
                height    : '100%',

                value: [
                    "import Viewport from '../../../../examples/component/multiWindowHelix/Viewport.mjs';",
                    "",
                    "class MainView extends Viewport {",
                    "    static config = {",
                    "        className           : 'Portal.view.MultiWindowHelix',",
                    "        showGitHubStarButton: false,",
                    "        theme               : 'neo-theme-dark'",
                    "    }",
                    "}",
                    "",
                    "Neo.setupClass(MainView);"
                ].join('\n')
            }]
        }]
    }
}

Neo.setupClass(Helix);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Helix);


/***/ }),

/***/ "./apps/portal/view/home/parts/HelloWorld.mjs":
/*!****************************************************!*\
  !*** ./apps/portal/view/home/parts/HelloWorld.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _preview_PageCodeContainer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../preview/PageCodeContainer.mjs */ "./apps/portal/view/home/preview/PageCodeContainer.mjs");



/**
 * @class Portal.view.home.parts.HelloWorld
 * @extends Neo.container.Base
 */
class HelloWorld extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.HelloWorld'
         * @protected
         */
        className: 'Portal.view.home.parts.HelloWorld',

        cls: ['page', 'hello-world'],
        /**
         * @member {Object} layout=null
         */
//        layout: null,

        responsiveConfig: {
            oldPhone: {maxWidth: 320},
            phone   : {maxWidth: 480},
            tablet  : {maxWidth: 770},
            medium  : {maxWidth: 840},
            large   : {minWidth: 841}
        },

        responsive: {
            medium: {layout: {ntype: 'vbox', align: 'stretch', pack: 'center'}},
            large : {layout: {ntype: 'hbox', align: 'stretch', pack: 'center'}}
        },

        /**
         * @member {Object[]} items
         */
        items: [{
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex  : '1',
            style : {padding: '2rem'},
            layout: {ntype: 'vbox', align: 'center', pack: 'center'},
            items : [{
                cls : 'neo-h1',
                id  : 'neo-hello-world-h1',
                flex: 'none',
                html: 'Hello World'
            }, {
                cls : 'neo-h2',
                flex: 'none',
                html: 'Your first code snippet'
            }, {
                cls : 'neo-content',
                flex: 'none',
                html: 'If you understand these lines, you are ready to start with Neo.mjs'
            }]
        }, {
            module: _preview_PageCodeContainer_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            flex: 0.8,
            value : [
                "import Container from '../../../../src/container/Base.mjs';",
                "",
                "class MainView extends Container {",
                "    static config = {",
                "        className: 'Portal.view.MainView',",
                "        layout   : {ntype:'vbox', align:'stretch'},",
                "        items    : [{",
                "            module: Container,",
                "            html  : 'Hello World'",
                "        }]",
                "    }",
                "}",
                "",
                "Neo.setupClass(MainView);"
            ].join('\n')
        }]
    }
}

Neo.setupClass(HelloWorld);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HelloWorld);


/***/ }),

/***/ "./apps/portal/view/home/parts/MainNeo.mjs":
/*!*************************************************!*\
  !*** ./apps/portal/view/home/parts/MainNeo.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/button/Base.mjs */ "./src/button/Base.mjs");
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");



/**
 * @class Portal.view.home.parts.MainNeo
 * @extends Neo.container.Base
 */
class MainNeo extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.parts.MainNeo'
         * @protected
         */
        className: 'Portal.view.home.parts.MainNeo',

        cls: ['page', 'landing-page'],

        layout: {ntype: 'vbox', align: 'center', pack: 'center'},
        /**
         * @member {Object[]} items
         */
        items: [{
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            cls   : ['vector'],
            flex  : 'none',
        }, {
            cls : 'neo-h1',
            flex: 'none',
            html: 'The High-Performance Web Framework for Next Generation Interfaces'
        }, {
            module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            cls   : ['button-group'],
            flex  : 'none',

            items: [{
                module : _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                cls    : ['get-started-button'],
                text   : 'Get started',
                flex   : 'none',
                route : '/learn'
            }, {
                module: _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                cls   : ['neo-github'],
                flex  : 'none',
                text  : 'View on GitHub',
                ui    : 'secondary',
                url   : 'https://github.com/neomjs/neo'
            }]
        }]
    }
}

Neo.setupClass(MainNeo);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainNeo);


/***/ }),

/***/ "./apps/portal/view/home/preview/PageCodeContainer.mjs":
/*!*************************************************************!*\
  !*** ./apps/portal/view/home/preview/PageCodeContainer.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../learn/LivePreview.mjs */ "./apps/portal/view/learn/LivePreview.mjs");



/**
 * @class Portal.view.home.preview.PageCodeContainer
 * @extends Neo.container.Base
 */
class PageCodeContainer extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Portal.view.home.preview.PageCodeContainer'
         * @protected
         */
        className: 'Portal.view.home.preview.PageCodeContainer',
        /**
         * @member {String} ntype='page-code-container'
         * @protected
         */
        ntype: 'page-code-container',
        /**
         * @member {String[]} cls=['page-code-container']
         * @protected
         */
        cls: ['page-code-container'],
        /**
         * @member {Object} layout={ntype:'vbox',align:'stretch',pack:'center'}
         */
        layout: {ntype: 'vbox', align: 'stretch', pack: 'center'},
        /**
         * @member {Object[]} items
         */
        items : [{
            module: _learn_LivePreview_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            cls   : ['live-preview']
        }],
        /**
         * @member {String|null} value_=null
         */
        value_: null,
    }

    /**
     * Triggered after the size config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetValue(value, oldValue) {
        this.items[0].value = value
    }
}

Neo.setupClass(PageCodeContainer);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageCodeContainer);


/***/ }),

/***/ "./apps/portal/view/learn/LivePreview.mjs":
/*!************************************************!*\
  !*** ./apps/portal/view/learn/LivePreview.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _src_component_wrapper_MonacoEditor_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/component/wrapper/MonacoEditor.mjs */ "./src/component/wrapper/MonacoEditor.mjs");
/* harmony import */ var _src_tab_Container_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/tab/Container.mjs */ "./src/tab/Container.mjs");




const
    classDeclarationRegex = /class\s+([a-zA-Z$_][a-zA-Z0-9$_]*)\s*(?:extends\s+[a-zA-Z$_][a-zA-Z0-9$_]*)?\s*{[\s\S]*?}/g,
    exportRegex           = /export\s+(?:default\s+)?(?:const|let|var|class|function|async\s+function|generator\s+function|async\s+generator\s+function|(\{[\s\S]*?\}))/g,
    importRegex           = /import\s+([\w-]+)\s+from\s+['"]([^'"]+)['"]/;

/**
 * @class Portal.view.learn.LivePreview
 * @extends Neo.container.Base
 */
class LivePreview extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Valid values for iconPosition
     * @member {String[]} activeViews=['preview','source']
     * @protected
     * @static
     */
    static activeViews = ['preview', 'source']

    static config = {
        /**
         * @member {String} className='Portal.view.learn.LivePreview'
         * @protected
         */
        className: 'Portal.view.learn.LivePreview',
        /**
         * @member {String} ntype='live-preview'
         * @protected
         */
        ntype: 'live-preview',
        /**
         * Valid values are 'preview' and 'source'
         * @member {String} activeView_='source'
         */
        activeView_: 'source',

        baseCls         : ['learn-live-preview'],
        value_          : null,
        autoMount       : true,
        autoRender      : true,
        disableRunSource: false,
        height          : 400,
        layout          : 'fit',
        /**
         * @member {Object[]} items
         */
        items: [{
            module             : _src_tab_Container_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
            cls                : ['live-preview-container'],
            reference          : 'tab-container',
            removeInactiveCards: false,

            items: [{
                module         : _src_component_wrapper_MonacoEditor_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                hideLabel      : true,
                style          : {height: '100%'},
                reference      : 'editor',
                tabButtonConfig: {
                    text: 'Source'
                },
                listeners      : {
                    editorChange: data => {
                        let container         = data.component.up({className: 'Portal.view.learn.LivePreview'});
                        container.editorValue = data.value;

                        if (container.previewContainer) {
                            container.doRunSource()
                        }
                    }
                }
            }, {
                module         : _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                reference      : 'preview',
                tabButtonConfig: {text: 'Preview'}
            }]
        }]
    }

    /**
     * Link the preview output to different targets
     * @member {Neo.component.Base} previewContainer=null
     */
    previewContainer = null

    /**
     * @returns {Neo.component.Base|null}
     */
    get tabContainer() {
        return this.getItem('tab-container')
    }

    /**
     * Triggered after the activeView config got changed
     * @param {String} value
     * @param {String} oldValue
     * @protected
     */
    afterSetActiveView(value, oldValue) {
        this.tabContainer.activeIndex = value === 'source' ? 0 : 1
    }

    /**
     * Triggered after the value config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetValue(value, oldValue) {
        if (value) {
            this.getItem('editor').value = value?.trim()
        }
    }

    /**
     * Triggered before the activeView config gets changed
     * @param {String} value
     * @param {String} oldValue
     * @returns {String}
     * @protected
     */
    beforeSetActiveView(value, oldValue) {
        return this.beforeSetEnumValue(value, oldValue, 'activeView')
    }

    /**
     *
     */
    async createPopupWindow() {
        let me      = this,
            winData = await Neo.Main.getWindowData(),
            rect    = await me.getDomRect(me.getReference('preview').id);

        let {height, left, top, width} = rect;

        height -= 50; // popup header in Chrome
        left   += winData.screenLeft;
        top    += (winData.outerHeight - winData.innerHeight + winData.screenTop);

        Neo.Main.windowOpen({
            url           : `./childapps/preview/index.html?id=${me.id}`,
            windowFeatures: `height=${height},left=${left},top=${top},width=${width}`,
            windowName    : me.id
        })
    }

    /**
     *
     */
    doRunSource() {
        if (this.disableRunSource) {
            return
        }

        let me                = this,
            source            = me.editorValue || me.value,
            cleanLines        = [],
            importModuleNames = [],
            moduleNameAndPath = [],
            className         = me.findLastClassName(source);

        source.split('\n').forEach(line => {
            let importMatch = line.match(importRegex);

            if (importMatch) {
                let moduleName = importMatch[1],
                    path       = importMatch[2];

                moduleNameAndPath.push({moduleName, path});

                importModuleNames.push(moduleName);
            } else if (line.match(exportRegex)) {
                // Skip export statements
            } else {
                cleanLines.push(`    ${line}`);
            }
        });

        var params = [];
        var vars   = [];
        // Figure out the parts of the source we'll be running.
        // o The promises/import() corresponding to the user's import statements
        // o The vars holding the name of the imported module based on the module name for each import
        // o The rest of the user-provided source
        // It'll end up looking like this:
        // Promise.all([
        //     import('../../../node_modules/neo.mjs/src/container/Base.mjs'),
        //     import('../../../node_modules/neo.mjs/src/button/Base.mjs')
        //   ]).then(([BaseModule, ButtonModule]) => {
        //       const Base = BaseModule.default;
        //       const Button = ButtonModule.default;
        //       // Class declaration goes here...
        //   });
        // Making the promise part of the eval seems weird, but it made it easier to
        // set up the import vars.

        let promises = moduleNameAndPath.map(item => {
            params.push(`${item.moduleName}Module`);
            vars.push(`    const ${item.moduleName} = ${item.moduleName}Module.default;`);
            return `import('${item.path}')`
        });

        const codeString = [
            'Promise.all([',
            `    ${promises.join(',\n')}`,
            `]).then(([${params.join(', ')}]) => {`,
            `${vars.join('\n')}`,
            `    ${cleanLines.join('\n')}`,
            '',
            `    if (${className} && Neo.component.Base.isPrototypeOf(${className})) {`,
            `        container.add({module:${className}})`,
            '    }',
            '})',
            '.catch(error => container.add({ntype:\'component\', html:error.message}));'
        ].join('\n')

        const container = me.getPreviewContainer();
        container.removeAll();

        try {
            new Function('container', codeString)(container);
        } catch (error) {
            container.add({
                ntype: 'component',
                html : error.message
            })
        }
    }

    /**
     * @param {String} sourceCode
     * @returns {String|null}
     */
    findLastClassName(sourceCode) {
        let lastClassName = null,
            match;

        // Iterate through all matches of the regular expression
        while ((match = classDeclarationRegex.exec(sourceCode)) !== null) {
            // Update the last class name found
            lastClassName = match[1]
        }

        return lastClassName
    }

    /**
     * @returns {Neo.component.Base|null}
     */
    getPreviewContainer() {
        let me = this;

        if (me.previewContainer) {
            return me.previewContainer
        }

        return me.getReference('preview')
    }

    /**
     * @param {Object} data
     * @param {Neo.component.Base} data.item
     * @param {Number} data.oldValue
     * @param {String} data.source
     * @param {Number} data.value
     */
    onActiveIndexChange(data) {
        if (data.item.reference === 'preview') {
            this.doRunSource()
        }

        this.getReference('popout-window-button').hidden = data.value !== 1
        this.disableRunSource = false;
    }

    /**
     *
     */
    onConstructed() {
        super.onConstructed();

        let me             = this,
            {tabContainer} = me;

        // we want to add a normal (non-header) button
        tabContainer.getTabBar().add({
            handler  : me.popoutPreview.bind(me),
            hidden   : tabContainer.activeIndex !== 1,
            iconCls  : 'far fa-window-maximize',
            reference: 'popout-window-button',
            style    : {marginLeft: 'auto'},
            ui       : 'ghost'
        });

        tabContainer.on('activeIndexChange', me.onActiveIndexChange, me);

        // changing the activeView initially will not trigger our onActiveIndexChange() logic
        me.activeView === 'preview' && me.doRunSource()
    }

    /**
     * @param {Object} data
     */
    async popoutPreview(data) {
        let me = this;

        data.component.disabled = true;
        await me.createPopupWindow();

        // this component requires a view controller to manage connected apps
        me.getController('viewport-controller')?.connectedApps.push(me.id)
    }
}

Neo.setupClass(LivePreview);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LivePreview);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWFwcHNfcG9ydGFsX3ZpZXdfaG9tZV9NYWluQ29udGFpbmVyX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRDs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0RBQUk7QUFDN0I7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsU0FBUztBQUNULGFBQWEsZ0RBQWdEO0FBQzdELGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNCQUFzQjtBQUMzRCxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlFQUFlLFVBQVUsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9FcUI7QUFDSDtBQUNnQjtBQUNkO0FBQ0g7QUFDSztBQUNIOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBUztBQUNyQztBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtB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U0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLHFCQUFxQjtBQUN4Qyx5QkFBeUIsa0JBQWtCLE9BQU87QUFDbEQsZUFBZSxnQkFBZ0I7QUFDL0IsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBLHVCQUF1QixXQUFXLHNDQUFzQyxVQUFVLElBQUk7QUFDdEYsb0NBQW9DLFNBQVMsV0FBVztBQUN4RCxrQkFBa0I7QUFDbEIsY0FBYztBQUNkLDRDQUE0Qyx3Q0FBd0MsR0FBRztBQUN2Rjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsY0FBYzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlFQUFlLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9hcHBzL3BvcnRhbC92aWV3L2hvbWUvQ29udGVudEJveC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvcG9ydGFsL3ZpZXcvaG9tZS9NYWluQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vYXBwcy9wb3J0YWwvdmlldy9ob21lL3BhcnRzL0FmdGVyTWF0aC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvcG9ydGFsL3ZpZXcvaG9tZS9wYXJ0cy9Db2xvcnMubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL3BvcnRhbC92aWV3L2hvbWUvcGFydHMvRmVhdHVyZXMubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL3BvcnRhbC92aWV3L2hvbWUvcGFydHMvSGVsaXgubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL3BvcnRhbC92aWV3L2hvbWUvcGFydHMvSGVsbG9Xb3JsZC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvcG9ydGFsL3ZpZXcvaG9tZS9wYXJ0cy9NYWluTmVvLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vYXBwcy9wb3J0YWwvdmlldy9ob21lL3ByZXZpZXcvUGFnZUNvZGVDb250YWluZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL3BvcnRhbC92aWV3L2xlYXJuL0xpdmVQcmV2aWV3Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgUG9ydGFsLnZpZXcuaG9tZS5Db250ZW50Qm94XG4gKiBAZXh0ZW5kcyBOZW8uY29tcG9uZW50LkJhc2VcbiAqL1xuY2xhc3MgQ29udGVudEJveCBleHRlbmRzIEJhc2Uge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nUG9ydGFsLnZpZXcuaG9tZS5Db250ZW50Qm94J1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5ob21lLkNvbnRlbnRCb3gnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGJhc2VDbHM9Wydwb3J0YWwtY29udGVudC1ib3gnXVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ3BvcnRhbC1jb250ZW50LWJveCddLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW118bnVsbH0gY29udGVudF89bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudF86IG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd8bnVsbH0gaGVhZGVyXz1udWxsXG4gICAgICAgICAqL1xuICAgICAgICBoZWFkZXJfOiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IHJvdXRlXz1udWxsXG4gICAgICAgICAqL1xuICAgICAgICByb3V0ZV86IG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IF92ZG9tXG4gICAgICAgICAqL1xuICAgICAgICBfdmRvbTpcbiAgICAgICAge3RhZzogJ2EnLCBjbjogW1xuICAgICAgICAgICAge3RhZzogJ2gzJywgY2xzOiBbJ3BvcnRhbC1jb250ZW50LWJveC1oZWFkbGluZSddfSxcbiAgICAgICAgICAgIHt0YWc6ICd1bCcsIGNsczogWydwb3J0YWwtY29udGVudC1ib3gtY29udGVudCddLCBjbjogW119XG4gICAgICAgIF19XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250ZW50IGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nW118bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0Q29udGVudCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFsdWU/LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZkb20uY25bMV0uY24ucHVzaCh7dGFnOiAnbGknLCBodG1sOiBpdGVtfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBoZWFkZXIgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEhlYWRlcih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy52ZG9tLmNuWzBdLmh0bWwgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgcm91dGUgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFJvdXRlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLnZkb20uaHJlZiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgfVxufVxuXG5OZW8uc2V0dXBDbGFzcyhDb250ZW50Qm94KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udGVudEJveDtcbiIsImltcG9ydCBBZnRlck1hdGggIGZyb20gJy4vcGFydHMvQWZ0ZXJNYXRoLm1qcyc7XG5pbXBvcnQgQ29sb3JzICAgICBmcm9tICcuL3BhcnRzL0NvbG9ycy5tanMnO1xuaW1wb3J0IENvbnRhaW5lciAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5pbXBvcnQgRmVhdHVyZXMgICBmcm9tICcuL3BhcnRzL0ZlYXR1cmVzLm1qcyc7XG5pbXBvcnQgSGVsaXggICAgICBmcm9tICcuL3BhcnRzL0hlbGl4Lm1qcyc7XG5pbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICcuL3BhcnRzL0hlbGxvV29ybGQubWpzJztcbmltcG9ydCBNYWluTmVvICAgIGZyb20gJy4vcGFydHMvTWFpbk5lby5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBQb3J0YWwudmlldy5ob21lLk1haW5Db250YWluZXJcbiAqIEBleHRlbmRzIE5lby5jb250YWluZXIuQmFzZVxuICovXG5jbGFzcyBNYWluQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J1BvcnRhbC52aWV3LmhvbWUuTWFpbkNvbnRhaW5lcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnUG9ydGFsLnZpZXcuaG9tZS5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9Wydwb3J0YWwtaG9tZS1tYWluY29udGFpbmVyJ11cbiAgICAgICAgICovXG4gICAgICAgIGNsczogWydwb3J0YWwtaG9tZS1tYWluY29udGFpbmVyJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICB7bnR5cGU6ICdjb21wb25lbnQnLCBpZDogJ3Byb2dyZXNzJ30sXG4gICAgICAgICAgICBNYWluTmVvLFxuICAgICAgICAgICAgRmVhdHVyZXMsXG4gICAgICAgICAgICBIZWxsb1dvcmxkLFxuICAgICAgICAgICAgQ29sb3JzLFxuICAgICAgICAgICAgSGVsaXgsXG4gICAgICAgICAgICBBZnRlck1hdGhcbiAgICAgICAgXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHNjcm9sbGFibGU9dHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2Nyb2xsYWJsZTogdHJ1ZSxcblxuICAgICAgICBkb21MaXN0ZW5lcnM6IFt7XG4gICAgICAgICAgICBzY3JvbGwoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNscygnaGlkZS1zaWRlYmFyJywgZXZlbnQuc2Nyb2xsVG9wID4gODApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgfVxufVxuXG5OZW8uc2V0dXBDbGFzcyhNYWluQ29udGFpbmVyKTtcblxuZXhwb3J0IGRlZmF1bHQgTWFpbkNvbnRhaW5lcjtcbiIsImltcG9ydCBDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIFBvcnRhbC52aWV3LmhvbWUucGFydHMuQWZ0ZXJNYXRoXG4gKiBAZXh0ZW5kcyBOZW8uY29udGFpbmVyLkJhc2VcbiAqL1xuY2xhc3MgQWZ0ZXJNYXRoIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J1BvcnRhbC52aWV3LmhvbWUucGFydHMuQWZ0ZXJNYXRoJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5ob21lLnBhcnRzLkFmdGVyTWF0aCcsXG5cbiAgICAgICAgY2xzOiBbJ3BhZ2UnLCAnYWZ0ZXItbWF0aCddLFxuXG4gICAgICAgIGxheW91dDoge250eXBlOiAndmJveCcsIGFsaWduOiAnc3RyZXRjaCcsIHBhY2s6ICdjZW50ZXInfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfSBpdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICBtb2R1bGU6IENvbnRhaW5lcixcbiAgICAgICAgICAgIGZsZXggIDogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbHMgOiAnbmVvLWgxJyxcbiAgICAgICAgICAgIGZsZXg6ICdub25lJyxcbiAgICAgICAgICAgIGh0bWw6ICdBZGRpdGlvbmFsIFN0dWZmJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbHMgOiAnbmVvLWgyJyxcbiAgICAgICAgICAgIGZsZXg6ICdub25lJyxcbiAgICAgICAgICAgIGh0bWw6ICdNb3JlIHRvIGNvbWUgaGVyZScsXG4gICAgICAgICAgICAvLyBoZWlnaHQ6IDIwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbHMgOiAnbmVvLWNvbnRlbnQnLFxuICAgICAgICAgICAgZmxleDogJ25vbmUnLFxuICAgICAgICAgICAgaHRtbDogJ05lbyB1c2VzIHNldmVyYWwgY29yZXMgdG8gcnVuIHRoZSBhcHBsaWNhdGlvbi4gU2VlIHRoZSBzcGlubmVyIG9uIHRoZSBwYWdlPycsXG4gICAgICAgICAgICAvLyBoZWlnaHQ6IDIwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IENvbnRhaW5lcixcbiAgICAgICAgICAgIGZsZXggIDogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtb2R1bGU6IENvbnRhaW5lcixcbiAgICAgICAgICAgIGNscyAgIDogJ2hvbWUtZm9vdGVyJyxcbiAgICAgICAgICAgIGhlaWdodDogJzQwJScsXG4gICAgICAgICAgICBzdHlsZSA6IHsgLy8gdG9kbzogY3NzXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICBjb2xvciAgICAgOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICA6ICc0MCUnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmcgICA6ICcxNXB4J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGh0bWwgIDogJ1RoaXMgaXMgdGhlIGZvb3RlcidcbiAgICAgICAgfV1cbiAgICB9XG59XG5cbk5lby5zZXR1cENsYXNzKEFmdGVyTWF0aCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFmdGVyTWF0aDtcbiIsImltcG9ydCBDb250YWluZXIgICBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvY29udGFpbmVyL0Jhc2UubWpzJztcbmltcG9ydCBMaXZlUHJldmlldyBmcm9tICcuLi8uLi9sZWFybi9MaXZlUHJldmlldy5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBQb3J0YWwudmlldy5ob21lLnBhcnRzLkNvbG9yc1xuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIENvbG9ycyBleHRlbmRzIENvbnRhaW5lciB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdQb3J0YWwudmlldy5ob21lLnBhcnRzLkNvbG9ycydcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnUG9ydGFsLnZpZXcuaG9tZS5wYXJ0cy5Db2xvcnMnLFxuXG4gICAgICAgIGNsczogWydwYWdlJywgJ2Nvb2wtc3R1ZmYnXSxcblxuICAgICAgICByZXNwb25zaXZlOiB7XG4gICAgICAgICAgICBtZWRpdW06IHtsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ3N0cmV0Y2gnLCBwYWNrOiAnY2VudGVyJ319LFxuICAgICAgICAgICAgbGFyZ2UgOiB7bGF5b3V0OiB7bnR5cGU6ICdoYm94JywgYWxpZ246ICdzdHJldGNoJywgcGFjazogJ2NlbnRlcid9fVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXG4gICAgICAgICAgICBmbGV4ICA6ICcxJyxcbiAgICAgICAgICAgIHN0eWxlIDoge3BhZGRpbmc6ICcycmVtJ30sXG4gICAgICAgICAgICBsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ2NlbnRlcicsIHBhY2s6ICdjZW50ZXInfSxcbiAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICBjbHMgOiAnbmVvLWgxJyxcbiAgICAgICAgICAgICAgICBmbGV4OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgaHRtbDogJ0NvbG9ycyBEYXNoYm9hcmQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2xzIDogJ25lby1oMicsXG4gICAgICAgICAgICAgICAgZmxleDogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGh0bWw6ICdFeHBhbmQgdGhlIHdpZGdldHMgaW50byBtdWx0aXBsZSBXaW5kb3dzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGNscyA6ICduZW8tY29udGVudCcsXG4gICAgICAgICAgICAgICAgZmxleDogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGh0bWw6ICdUaGUgU3RhdGUgTWFuYWdlbWVudCB3aWxsIGNvbnRpbnVlIHRvIHdvcmsuJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXG4gICAgICAgICAgICBmbGV4ICA6ICcyJyxcbiAgICAgICAgICAgIHN0eWxlIDoge2JhY2tncm91bmQ6ICdncmV5JywgcGFkZGluZzogJzIwcHgnfSxcbiAgICAgICAgICAgIGxheW91dDoge250eXBlOiAndmJveCcsIGFsaWduOiAnc3RyZXRjaCcsIHBhY2s6ICdjZW50ZXInfSxcbiAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICBtb2R1bGUgICAgOiBMaXZlUHJldmlldyxcbiAgICAgICAgICAgICAgICBhY3RpdmVWaWV3OiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgY2xzICAgICAgIDogWydwYWdlLWxpdmUtcHJldmlldyddLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICA6ICcxMDAlJyxcblxuICAgICAgICAgICAgICAgIHZhbHVlOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4uLy4uLy4uLy4uL2FwcHMvY29sb3JzL3ZpZXcvVmlld3BvcnQubWpzJztcIixcbiAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJjbGFzcyBNYWluVmlldyBleHRlbmRzIFZpZXdwb3J0IHtcIixcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgc3RhdGljIGNvbmZpZyA9IHtcIixcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIGNsYXNzTmFtZTogJ1BvcnRhbC52aWV3LkNvbG9ycycsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiICAgICAgICB0aGVtZSAgICA6ICduZW8tdGhlbWUtZGFyaydcIixcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgfVwiLFxuICAgICAgICAgICAgICAgICAgICBcIn1cIixcbiAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJOZW8uc2V0dXBDbGFzcyhNYWluVmlldyk7XCJcbiAgICAgICAgICAgICAgICBdLmpvaW4oJ1xcbicpXG4gICAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgIH1cbn1cblxuTmVvLnNldHVwQ2xhc3MoQ29sb3JzKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29sb3JzO1xuIiwiaW1wb3J0IENvbnRhaW5lciAgZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5pbXBvcnQgQ29udGVudEJveCBmcm9tICcuLi9Db250ZW50Qm94Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIFBvcnRhbC52aWV3LmhvbWUucGFydHMuRmVhdHVyZXNcbiAqIEBleHRlbmRzIE5lby5jb250YWluZXIuQmFzZVxuICovXG5jbGFzcyBGZWF0dXJlcyBleHRlbmRzIENvbnRhaW5lciB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdQb3J0YWwudmlldy5ob21lLnBhcnRzLkZlYXR1cmVzJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5ob21lLnBhcnRzLkZlYXR1cmVzJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9Wydwb3J0YWwtaG9tZS1mZWF0dXJlcycsJ3BhZ2UnXVxuICAgICAgICAgKi9cbiAgICAgICAgY2xzOiBbJ3BvcnRhbC1ob21lLWZlYXR1cmVzJywgJ3BhZ2UnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gbGF5b3V0PXtudHlwZTonaGJveCcsYWxpZ246J3N0cmV0Y2gnLHdyYXA6J3dyYXAnfVxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICdoYm94JywgYWxpZ246ICdzdHJldGNoJywgd3JhcDogJ3dyYXAnfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfSBpdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICBtb2R1bGU6IENvbnRlbnRCb3gsXG4gICAgICAgICAgICBoZWFkZXI6ICdOZXh0LUdlbmVyYXRpb24gUnVudGltZScsXG4gICAgICAgICAgICByb3V0ZSA6ICcjL2xlYXJuL1doeU5lby1RdWljaycsXG5cbiAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAnTXVsdGktdGhyZWFkZWQnLFxuICAgICAgICAgICAgICAgICdFbGVnYW50IHN0YXRlIG1hbmFnZW1lbnQnLFxuICAgICAgICAgICAgICAgICdTaW1wbGUgYW5kIHBvd2VyZnVsIGRlYnVnZ2luZydcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlOiBDb250ZW50Qm94LFxuICAgICAgICAgICAgaGVhZGVyOiAnRXh0cmVtZSBTcGVlZCcsXG4gICAgICAgICAgICByb3V0ZSA6ICcjL2xlYXJuL1doeU5lby1TcGVlZCcsXG5cbiAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAnTXVsdGktdGhyZWFkZWQnLFxuICAgICAgICAgICAgICAgICdPdmVyIDQwLDAwMCBkZWx0YSB1cGRhdGVzIHBlciBzZWNvbmQnLFxuICAgICAgICAgICAgICAgICdJdGVtIDMnXG4gICAgICAgICAgICBdXG4gICAgICAgIH1dXG4gICAgfVxufVxuXG5OZW8uc2V0dXBDbGFzcyhGZWF0dXJlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmVzO1xuIiwiaW1wb3J0IENvbnRhaW5lciAgIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9jb250YWluZXIvQmFzZS5tanMnO1xuaW1wb3J0IExpdmVQcmV2aWV3IGZyb20gJy4uLy4uL2xlYXJuL0xpdmVQcmV2aWV3Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIFBvcnRhbC52aWV3LmhvbWUucGFydHMuSGVsaXhcbiAqIEBleHRlbmRzIE5lby5jb250YWluZXIuQmFzZVxuICovXG5jbGFzcyBIZWxpeCBleHRlbmRzIENvbnRhaW5lciB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdQb3J0YWwudmlldy5ob21lLnBhcnRzLkhlbGl4J1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5ob21lLnBhcnRzLkhlbGl4JyxcblxuICAgICAgICBjbHM6IFsncGFnZScsICdjb29sLXN0dWZmJ10sXG5cbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgbWVkaXVtOiB7bGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJywgcGFjazogJ2NlbnRlcid9fSxcbiAgICAgICAgICAgIGxhcmdlIDoge2xheW91dDoge250eXBlOiAnaGJveCcsIGFsaWduOiAnc3RyZXRjaCcsIHBhY2s6ICdjZW50ZXInfX1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGl0ZW1zXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtczogW3tcbiAgICAgICAgICAgIG1vZHVsZTogQ29udGFpbmVyLFxuICAgICAgICAgICAgZmxleCAgOiAnMScsXG4gICAgICAgICAgICBzdHlsZSA6IHtwYWRkaW5nOiAnMnJlbSd9LFxuICAgICAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdjZW50ZXInLCBwYWNrOiAnY2VudGVyJ30sXG4gICAgICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICAgICAgY2xzIDogJ25lby1oMScsXG4gICAgICAgICAgICAgICAgZmxleDogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGh0bWw6ICdJbnRlcmFjdGl2ZSBWaWV3cydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjbHMgOiAnbmVvLWgyJyxcbiAgICAgICAgICAgICAgICBmbGV4OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgaHRtbDogJ0V4cGFuZCB0aGUgd2lkZ2V0IGludG8gbXVsdGlwbGUgV2luZG93cydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjbHMgOiAnbmVvLWNvbnRlbnQnLFxuICAgICAgICAgICAgICAgIGZsZXg6ICdub25lJyxcbiAgICAgICAgICAgICAgICBodG1sOiAnVGhlIFN0YXRlIE1hbmFnZW1lbnQgd2lsbCBjb250aW51ZSB0byB3b3JrLidcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogQ29udGFpbmVyLFxuICAgICAgICAgICAgZmxleCAgOiAnMicsXG4gICAgICAgICAgICBzdHlsZSA6IHtiYWNrZ3JvdW5kOiAnZ3JleScsIHBhZGRpbmc6ICcyMHB4J30sXG4gICAgICAgICAgICBsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ3N0cmV0Y2gnLCBwYWNrOiAnY2VudGVyJ30sXG4gICAgICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICAgICAgbW9kdWxlICAgIDogTGl2ZVByZXZpZXcsXG4gICAgICAgICAgICAgICAgYWN0aXZlVmlldzogJ3ByZXZpZXcnLFxuICAgICAgICAgICAgICAgIGNscyAgICAgICA6IFsncGFnZS1saXZlLXByZXZpZXcnXSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgICAgOiAnMTAwJScsXG5cbiAgICAgICAgICAgICAgICB2YWx1ZTogW1xuICAgICAgICAgICAgICAgICAgICBcImltcG9ydCBWaWV3cG9ydCBmcm9tICcuLi8uLi8uLi8uLi9leGFtcGxlcy9jb21wb25lbnQvbXVsdGlXaW5kb3dIZWxpeC9WaWV3cG9ydC5tanMnO1wiLFxuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBcImNsYXNzIE1haW5WaWV3IGV4dGVuZHMgVmlld3BvcnQge1wiLFxuICAgICAgICAgICAgICAgICAgICBcIiAgICBzdGF0aWMgY29uZmlnID0ge1wiLFxuICAgICAgICAgICAgICAgICAgICBcIiAgICAgICAgY2xhc3NOYW1lICAgICAgICAgICA6ICdQb3J0YWwudmlldy5NdWx0aVdpbmRvd0hlbGl4JyxcIixcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIHNob3dHaXRIdWJTdGFyQnV0dG9uOiBmYWxzZSxcIixcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIHRoZW1lICAgICAgICAgICAgICAgOiAnbmVvLXRoZW1lLWRhcmsnXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiICAgIH1cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ9XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiTmVvLnNldHVwQ2xhc3MoTWFpblZpZXcpO1wiXG4gICAgICAgICAgICAgICAgXS5qb2luKCdcXG4nKVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICB9XG59XG5cbk5lby5zZXR1cENsYXNzKEhlbGl4KTtcblxuZXhwb3J0IGRlZmF1bHQgSGVsaXg7XG4iLCJpbXBvcnQgQ29udGFpbmVyICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5pbXBvcnQgTGl2ZVByZXZpZXdDb250YWluZXIgZnJvbSAnLi4vcHJldmlldy9QYWdlQ29kZUNvbnRhaW5lci5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBQb3J0YWwudmlldy5ob21lLnBhcnRzLkhlbGxvV29ybGRcbiAqIEBleHRlbmRzIE5lby5jb250YWluZXIuQmFzZVxuICovXG5jbGFzcyBIZWxsb1dvcmxkIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J1BvcnRhbC52aWV3LmhvbWUucGFydHMuSGVsbG9Xb3JsZCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnUG9ydGFsLnZpZXcuaG9tZS5wYXJ0cy5IZWxsb1dvcmxkJyxcblxuICAgICAgICBjbHM6IFsncGFnZScsICdoZWxsby13b3JsZCddLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fSBsYXlvdXQ9bnVsbFxuICAgICAgICAgKi9cbi8vICAgICAgICBsYXlvdXQ6IG51bGwsXG5cbiAgICAgICAgcmVzcG9uc2l2ZUNvbmZpZzoge1xuICAgICAgICAgICAgb2xkUGhvbmU6IHttYXhXaWR0aDogMzIwfSxcbiAgICAgICAgICAgIHBob25lICAgOiB7bWF4V2lkdGg6IDQ4MH0sXG4gICAgICAgICAgICB0YWJsZXQgIDoge21heFdpZHRoOiA3NzB9LFxuICAgICAgICAgICAgbWVkaXVtICA6IHttYXhXaWR0aDogODQwfSxcbiAgICAgICAgICAgIGxhcmdlICAgOiB7bWluV2lkdGg6IDg0MX1cbiAgICAgICAgfSxcblxuICAgICAgICByZXNwb25zaXZlOiB7XG4gICAgICAgICAgICBtZWRpdW06IHtsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ3N0cmV0Y2gnLCBwYWNrOiAnY2VudGVyJ319LFxuICAgICAgICAgICAgbGFyZ2UgOiB7bGF5b3V0OiB7bnR5cGU6ICdoYm94JywgYWxpZ246ICdzdHJldGNoJywgcGFjazogJ2NlbnRlcid9fVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXG4gICAgICAgICAgICBmbGV4ICA6ICcxJyxcbiAgICAgICAgICAgIHN0eWxlIDoge3BhZGRpbmc6ICcycmVtJ30sXG4gICAgICAgICAgICBsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ2NlbnRlcicsIHBhY2s6ICdjZW50ZXInfSxcbiAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICBjbHMgOiAnbmVvLWgxJyxcbiAgICAgICAgICAgICAgICBpZCAgOiAnbmVvLWhlbGxvLXdvcmxkLWgxJyxcbiAgICAgICAgICAgICAgICBmbGV4OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgaHRtbDogJ0hlbGxvIFdvcmxkJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGNscyA6ICduZW8taDInLFxuICAgICAgICAgICAgICAgIGZsZXg6ICdub25lJyxcbiAgICAgICAgICAgICAgICBodG1sOiAnWW91ciBmaXJzdCBjb2RlIHNuaXBwZXQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2xzIDogJ25lby1jb250ZW50JyxcbiAgICAgICAgICAgICAgICBmbGV4OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgaHRtbDogJ0lmIHlvdSB1bmRlcnN0YW5kIHRoZXNlIGxpbmVzLCB5b3UgYXJlIHJlYWR5IHRvIHN0YXJ0IHdpdGggTmVvLm1qcydcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogTGl2ZVByZXZpZXdDb250YWluZXIsXG4gICAgICAgICAgICBmbGV4OiAwLjgsXG4gICAgICAgICAgICB2YWx1ZSA6IFtcbiAgICAgICAgICAgICAgICBcImltcG9ydCBDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICBcImNsYXNzIE1haW5WaWV3IGV4dGVuZHMgQ29udGFpbmVyIHtcIixcbiAgICAgICAgICAgICAgICBcIiAgICBzdGF0aWMgY29uZmlnID0ge1wiLFxuICAgICAgICAgICAgICAgIFwiICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5NYWluVmlldycsXCIsXG4gICAgICAgICAgICAgICAgXCIgICAgICAgIGxheW91dCAgIDoge250eXBlOid2Ym94JywgYWxpZ246J3N0cmV0Y2gnfSxcIixcbiAgICAgICAgICAgICAgICBcIiAgICAgICAgaXRlbXMgICAgOiBbe1wiLFxuICAgICAgICAgICAgICAgIFwiICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXCIsXG4gICAgICAgICAgICAgICAgXCIgICAgICAgICAgICBodG1sICA6ICdIZWxsbyBXb3JsZCdcIixcbiAgICAgICAgICAgICAgICBcIiAgICAgICAgfV1cIixcbiAgICAgICAgICAgICAgICBcIiAgICB9XCIsXG4gICAgICAgICAgICAgICAgXCJ9XCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICBcIk5lby5zZXR1cENsYXNzKE1haW5WaWV3KTtcIlxuICAgICAgICAgICAgXS5qb2luKCdcXG4nKVxuICAgICAgICB9XVxuICAgIH1cbn1cblxuTmVvLnNldHVwQ2xhc3MoSGVsbG9Xb3JsZCk7XG5cbmV4cG9ydCBkZWZhdWx0IEhlbGxvV29ybGQ7XG4iLCJpbXBvcnQgQnV0dG9uICAgIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9idXR0b24vQmFzZS5tanMnO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuLi8uLi8uLi8uLi8uLi9zcmMvY29udGFpbmVyL0Jhc2UubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgUG9ydGFsLnZpZXcuaG9tZS5wYXJ0cy5NYWluTmVvXG4gKiBAZXh0ZW5kcyBOZW8uY29udGFpbmVyLkJhc2VcbiAqL1xuY2xhc3MgTWFpbk5lbyBleHRlbmRzIENvbnRhaW5lciB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdQb3J0YWwudmlldy5ob21lLnBhcnRzLk1haW5OZW8nXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ1BvcnRhbC52aWV3LmhvbWUucGFydHMuTWFpbk5lbycsXG5cbiAgICAgICAgY2xzOiBbJ3BhZ2UnLCAnbGFuZGluZy1wYWdlJ10sXG5cbiAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdjZW50ZXInLCBwYWNrOiAnY2VudGVyJ30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXG4gICAgICAgICAgICBjbHMgICA6IFsndmVjdG9yJ10sXG4gICAgICAgICAgICBmbGV4ICA6ICdub25lJyxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2xzIDogJ25lby1oMScsXG4gICAgICAgICAgICBmbGV4OiAnbm9uZScsXG4gICAgICAgICAgICBodG1sOiAnVGhlIEhpZ2gtUGVyZm9ybWFuY2UgV2ViIEZyYW1ld29yayBmb3IgTmV4dCBHZW5lcmF0aW9uIEludGVyZmFjZXMnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZTogQ29udGFpbmVyLFxuICAgICAgICAgICAgY2xzICAgOiBbJ2J1dHRvbi1ncm91cCddLFxuICAgICAgICAgICAgZmxleCAgOiAnbm9uZScsXG5cbiAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIG1vZHVsZSA6IEJ1dHRvbixcbiAgICAgICAgICAgICAgICBjbHMgICAgOiBbJ2dldC1zdGFydGVkLWJ1dHRvbiddLFxuICAgICAgICAgICAgICAgIHRleHQgICA6ICdHZXQgc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgZmxleCAgIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgIHJvdXRlIDogJy9sZWFybidcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IEJ1dHRvbixcbiAgICAgICAgICAgICAgICBjbHMgICA6IFsnbmVvLWdpdGh1YiddLFxuICAgICAgICAgICAgICAgIGZsZXggIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgIHRleHQgIDogJ1ZpZXcgb24gR2l0SHViJyxcbiAgICAgICAgICAgICAgICB1aSAgICA6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgIHVybCAgIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9uZW9tanMvbmVvJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICB9XG59XG5cbk5lby5zZXR1cENsYXNzKE1haW5OZW8pO1xuXG5leHBvcnQgZGVmYXVsdCBNYWluTmVvO1xuIiwiaW1wb3J0IENvbnRhaW5lciAgIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9jb250YWluZXIvQmFzZS5tanMnO1xuaW1wb3J0IExpdmVQcmV2aWV3IGZyb20gJy4uLy4uL2xlYXJuL0xpdmVQcmV2aWV3Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIFBvcnRhbC52aWV3LmhvbWUucHJldmlldy5QYWdlQ29kZUNvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIFBhZ2VDb2RlQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J1BvcnRhbC52aWV3LmhvbWUucHJldmlldy5QYWdlQ29kZUNvbnRhaW5lcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnUG9ydGFsLnZpZXcuaG9tZS5wcmV2aWV3LlBhZ2VDb2RlQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J3BhZ2UtY29kZS1jb250YWluZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAncGFnZS1jb2RlLWNvbnRhaW5lcicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gY2xzPVsncGFnZS1jb2RlLWNvbnRhaW5lciddXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsczogWydwYWdlLWNvZGUtY29udGFpbmVyJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGxheW91dD17bnR5cGU6J3Zib3gnLGFsaWduOidzdHJldGNoJyxwYWNrOidjZW50ZXInfVxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJywgcGFjazogJ2NlbnRlcid9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGl0ZW1zXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICBtb2R1bGU6IExpdmVQcmV2aWV3LFxuICAgICAgICAgICAgY2xzICAgOiBbJ2xpdmUtcHJldmlldyddXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IHZhbHVlXz1udWxsXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZV86IG51bGwsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBzaXplIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRWYWx1ZSh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1swXS52YWx1ZSA9IHZhbHVlXG4gICAgfVxufVxuXG5OZW8uc2V0dXBDbGFzcyhQYWdlQ29kZUNvbnRhaW5lcik7XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VDb2RlQ29udGFpbmVyO1xuIiwiaW1wb3J0IENvbnRhaW5lciAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29udGFpbmVyL0Jhc2UubWpzJztcbmltcG9ydCBNb25hY29FZGl0b3IgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC93cmFwcGVyL01vbmFjb0VkaXRvci5tanMnXG5pbXBvcnQgVGFiQ29udGFpbmVyIGZyb20gJy4uLy4uLy4uLy4uL3NyYy90YWIvQ29udGFpbmVyLm1qcyc7XG5cbmNvbnN0XG4gICAgY2xhc3NEZWNsYXJhdGlvblJlZ2V4ID0gL2NsYXNzXFxzKyhbYS16QS1aJF9dW2EtekEtWjAtOSRfXSopXFxzKig/OmV4dGVuZHNcXHMrW2EtekEtWiRfXVthLXpBLVowLTkkX10qKT9cXHMqe1tcXHNcXFNdKj99L2csXG4gICAgZXhwb3J0UmVnZXggICAgICAgICAgID0gL2V4cG9ydFxccysoPzpkZWZhdWx0XFxzKyk/KD86Y29uc3R8bGV0fHZhcnxjbGFzc3xmdW5jdGlvbnxhc3luY1xccytmdW5jdGlvbnxnZW5lcmF0b3JcXHMrZnVuY3Rpb258YXN5bmNcXHMrZ2VuZXJhdG9yXFxzK2Z1bmN0aW9ufChcXHtbXFxzXFxTXSo/XFx9KSkvZyxcbiAgICBpbXBvcnRSZWdleCAgICAgICAgICAgPSAvaW1wb3J0XFxzKyhbXFx3LV0rKVxccytmcm9tXFxzK1snXCJdKFteJ1wiXSspWydcIl0vO1xuXG4vKipcbiAqIEBjbGFzcyBQb3J0YWwudmlldy5sZWFybi5MaXZlUHJldmlld1xuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIExpdmVQcmV2aWV3IGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICAvKipcbiAgICAgKiBWYWxpZCB2YWx1ZXMgZm9yIGljb25Qb3NpdGlvblxuICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBhY3RpdmVWaWV3cz1bJ3ByZXZpZXcnLCdzb3VyY2UnXVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGFjdGl2ZVZpZXdzID0gWydwcmV2aWV3JywgJ3NvdXJjZSddXG5cbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J1BvcnRhbC52aWV3LmxlYXJuLkxpdmVQcmV2aWV3J1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdQb3J0YWwudmlldy5sZWFybi5MaXZlUHJldmlldycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdsaXZlLXByZXZpZXcnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAnbGl2ZS1wcmV2aWV3JyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkIHZhbHVlcyBhcmUgJ3ByZXZpZXcnIGFuZCAnc291cmNlJ1xuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGFjdGl2ZVZpZXdfPSdzb3VyY2UnXG4gICAgICAgICAqL1xuICAgICAgICBhY3RpdmVWaWV3XzogJ3NvdXJjZScsXG5cbiAgICAgICAgYmFzZUNscyAgICAgICAgIDogWydsZWFybi1saXZlLXByZXZpZXcnXSxcbiAgICAgICAgdmFsdWVfICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgYXV0b01vdW50ICAgICAgIDogdHJ1ZSxcbiAgICAgICAgYXV0b1JlbmRlciAgICAgIDogdHJ1ZSxcbiAgICAgICAgZGlzYWJsZVJ1blNvdXJjZTogZmFsc2UsXG4gICAgICAgIGhlaWdodCAgICAgICAgICA6IDQwMCxcbiAgICAgICAgbGF5b3V0ICAgICAgICAgIDogJ2ZpdCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgbW9kdWxlICAgICAgICAgICAgIDogVGFiQ29udGFpbmVyLFxuICAgICAgICAgICAgY2xzICAgICAgICAgICAgICAgIDogWydsaXZlLXByZXZpZXctY29udGFpbmVyJ10sXG4gICAgICAgICAgICByZWZlcmVuY2UgICAgICAgICAgOiAndGFiLWNvbnRhaW5lcicsXG4gICAgICAgICAgICByZW1vdmVJbmFjdGl2ZUNhcmRzOiBmYWxzZSxcblxuICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgbW9kdWxlICAgICAgICAgOiBNb25hY29FZGl0b3IsXG4gICAgICAgICAgICAgICAgaGlkZUxhYmVsICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0eWxlICAgICAgICAgIDoge2hlaWdodDogJzEwMCUnfSxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2UgICAgICA6ICdlZGl0b3InLFxuICAgICAgICAgICAgICAgIHRhYkJ1dHRvbkNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnU291cmNlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvckNoYW5nZTogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyICAgICAgICAgPSBkYXRhLmNvbXBvbmVudC51cCh7Y2xhc3NOYW1lOiAnUG9ydGFsLnZpZXcubGVhcm4uTGl2ZVByZXZpZXcnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZWRpdG9yVmFsdWUgPSBkYXRhLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnByZXZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZG9SdW5Tb3VyY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgIDogQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZSAgICAgIDogJ3ByZXZpZXcnLFxuICAgICAgICAgICAgICAgIHRhYkJ1dHRvbkNvbmZpZzoge3RleHQ6ICdQcmV2aWV3J31cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGluayB0aGUgcHJldmlldyBvdXRwdXQgdG8gZGlmZmVyZW50IHRhcmdldHNcbiAgICAgKiBAbWVtYmVyIHtOZW8uY29tcG9uZW50LkJhc2V9IHByZXZpZXdDb250YWluZXI9bnVsbFxuICAgICAqL1xuICAgIHByZXZpZXdDb250YWluZXIgPSBudWxsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7TmVvLmNvbXBvbmVudC5CYXNlfG51bGx9XG4gICAgICovXG4gICAgZ2V0IHRhYkNvbnRhaW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbSgndGFiLWNvbnRhaW5lcicpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBhY3RpdmVWaWV3IGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEFjdGl2ZVZpZXcodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMudGFiQ29udGFpbmVyLmFjdGl2ZUluZGV4ID0gdmFsdWUgPT09ICdzb3VyY2UnID8gMCA6IDFcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHZhbHVlIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRWYWx1ZSh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdldEl0ZW0oJ2VkaXRvcicpLnZhbHVlID0gdmFsdWU/LnRyaW0oKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSB0aGUgYWN0aXZlVmlldyBjb25maWcgZ2V0cyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9sZFZhbHVlXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYmVmb3JlU2V0QWN0aXZlVmlldyh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlU2V0RW51bVZhbHVlKHZhbHVlLCBvbGRWYWx1ZSwgJ2FjdGl2ZVZpZXcnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlUG9wdXBXaW5kb3coKSB7XG4gICAgICAgIGxldCBtZSAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIHdpbkRhdGEgPSBhd2FpdCBOZW8uTWFpbi5nZXRXaW5kb3dEYXRhKCksXG4gICAgICAgICAgICByZWN0ICAgID0gYXdhaXQgbWUuZ2V0RG9tUmVjdChtZS5nZXRSZWZlcmVuY2UoJ3ByZXZpZXcnKS5pZCk7XG5cbiAgICAgICAgbGV0IHtoZWlnaHQsIGxlZnQsIHRvcCwgd2lkdGh9ID0gcmVjdDtcblxuICAgICAgICBoZWlnaHQgLT0gNTA7IC8vIHBvcHVwIGhlYWRlciBpbiBDaHJvbWVcbiAgICAgICAgbGVmdCAgICs9IHdpbkRhdGEuc2NyZWVuTGVmdDtcbiAgICAgICAgdG9wICAgICs9ICh3aW5EYXRhLm91dGVySGVpZ2h0IC0gd2luRGF0YS5pbm5lckhlaWdodCArIHdpbkRhdGEuc2NyZWVuVG9wKTtcblxuICAgICAgICBOZW8uTWFpbi53aW5kb3dPcGVuKHtcbiAgICAgICAgICAgIHVybCAgICAgICAgICAgOiBgLi9jaGlsZGFwcHMvcHJldmlldy9pbmRleC5odG1sP2lkPSR7bWUuaWR9YCxcbiAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzOiBgaGVpZ2h0PSR7aGVpZ2h0fSxsZWZ0PSR7bGVmdH0sdG9wPSR7dG9wfSx3aWR0aD0ke3dpZHRofWAsXG4gICAgICAgICAgICB3aW5kb3dOYW1lICAgIDogbWUuaWRcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGRvUnVuU291cmNlKCkge1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlUnVuU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBzb3VyY2UgICAgICAgICAgICA9IG1lLmVkaXRvclZhbHVlIHx8IG1lLnZhbHVlLFxuICAgICAgICAgICAgY2xlYW5MaW5lcyAgICAgICAgPSBbXSxcbiAgICAgICAgICAgIGltcG9ydE1vZHVsZU5hbWVzID0gW10sXG4gICAgICAgICAgICBtb2R1bGVOYW1lQW5kUGF0aCA9IFtdLFxuICAgICAgICAgICAgY2xhc3NOYW1lICAgICAgICAgPSBtZS5maW5kTGFzdENsYXNzTmFtZShzb3VyY2UpO1xuXG4gICAgICAgIHNvdXJjZS5zcGxpdCgnXFxuJykuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgIGxldCBpbXBvcnRNYXRjaCA9IGxpbmUubWF0Y2goaW1wb3J0UmVnZXgpO1xuXG4gICAgICAgICAgICBpZiAoaW1wb3J0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW9kdWxlTmFtZSA9IGltcG9ydE1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgICBwYXRoICAgICAgID0gaW1wb3J0TWF0Y2hbMl07XG5cbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lQW5kUGF0aC5wdXNoKHttb2R1bGVOYW1lLCBwYXRofSk7XG5cbiAgICAgICAgICAgICAgICBpbXBvcnRNb2R1bGVOYW1lcy5wdXNoKG1vZHVsZU5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLm1hdGNoKGV4cG9ydFJlZ2V4KSkge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgZXhwb3J0IHN0YXRlbWVudHNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW5MaW5lcy5wdXNoKGAgICAgJHtsaW5lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgIHZhciB2YXJzICAgPSBbXTtcbiAgICAgICAgLy8gRmlndXJlIG91dCB0aGUgcGFydHMgb2YgdGhlIHNvdXJjZSB3ZSdsbCBiZSBydW5uaW5nLlxuICAgICAgICAvLyBvIFRoZSBwcm9taXNlcy9pbXBvcnQoKSBjb3JyZXNwb25kaW5nIHRvIHRoZSB1c2VyJ3MgaW1wb3J0IHN0YXRlbWVudHNcbiAgICAgICAgLy8gbyBUaGUgdmFycyBob2xkaW5nIHRoZSBuYW1lIG9mIHRoZSBpbXBvcnRlZCBtb2R1bGUgYmFzZWQgb24gdGhlIG1vZHVsZSBuYW1lIGZvciBlYWNoIGltcG9ydFxuICAgICAgICAvLyBvIFRoZSByZXN0IG9mIHRoZSB1c2VyLXByb3ZpZGVkIHNvdXJjZVxuICAgICAgICAvLyBJdCdsbCBlbmQgdXAgbG9va2luZyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIFByb21pc2UuYWxsKFtcbiAgICAgICAgLy8gICAgIGltcG9ydCgnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL25lby5tanMvc3JjL2NvbnRhaW5lci9CYXNlLm1qcycpLFxuICAgICAgICAvLyAgICAgaW1wb3J0KCcuLi8uLi8uLi9ub2RlX21vZHVsZXMvbmVvLm1qcy9zcmMvYnV0dG9uL0Jhc2UubWpzJylcbiAgICAgICAgLy8gICBdKS50aGVuKChbQmFzZU1vZHVsZSwgQnV0dG9uTW9kdWxlXSkgPT4ge1xuICAgICAgICAvLyAgICAgICBjb25zdCBCYXNlID0gQmFzZU1vZHVsZS5kZWZhdWx0O1xuICAgICAgICAvLyAgICAgICBjb25zdCBCdXR0b24gPSBCdXR0b25Nb2R1bGUuZGVmYXVsdDtcbiAgICAgICAgLy8gICAgICAgLy8gQ2xhc3MgZGVjbGFyYXRpb24gZ29lcyBoZXJlLi4uXG4gICAgICAgIC8vICAgfSk7XG4gICAgICAgIC8vIE1ha2luZyB0aGUgcHJvbWlzZSBwYXJ0IG9mIHRoZSBldmFsIHNlZW1zIHdlaXJkLCBidXQgaXQgbWFkZSBpdCBlYXNpZXIgdG9cbiAgICAgICAgLy8gc2V0IHVwIHRoZSBpbXBvcnQgdmFycy5cblxuICAgICAgICBsZXQgcHJvbWlzZXMgPSBtb2R1bGVOYW1lQW5kUGF0aC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChgJHtpdGVtLm1vZHVsZU5hbWV9TW9kdWxlYCk7XG4gICAgICAgICAgICB2YXJzLnB1c2goYCAgICBjb25zdCAke2l0ZW0ubW9kdWxlTmFtZX0gPSAke2l0ZW0ubW9kdWxlTmFtZX1Nb2R1bGUuZGVmYXVsdDtgKTtcbiAgICAgICAgICAgIHJldHVybiBgaW1wb3J0KCcke2l0ZW0ucGF0aH0nKWBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY29kZVN0cmluZyA9IFtcbiAgICAgICAgICAgICdQcm9taXNlLmFsbChbJyxcbiAgICAgICAgICAgIGAgICAgJHtwcm9taXNlcy5qb2luKCcsXFxuJyl9YCxcbiAgICAgICAgICAgIGBdKS50aGVuKChbJHtwYXJhbXMuam9pbignLCAnKX1dKSA9PiB7YCxcbiAgICAgICAgICAgIGAke3ZhcnMuam9pbignXFxuJyl9YCxcbiAgICAgICAgICAgIGAgICAgJHtjbGVhbkxpbmVzLmpvaW4oJ1xcbicpfWAsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIGAgICAgaWYgKCR7Y2xhc3NOYW1lfSAmJiBOZW8uY29tcG9uZW50LkJhc2UuaXNQcm90b3R5cGVPZigke2NsYXNzTmFtZX0pKSB7YCxcbiAgICAgICAgICAgIGAgICAgICAgIGNvbnRhaW5lci5hZGQoe21vZHVsZToke2NsYXNzTmFtZX19KWAsXG4gICAgICAgICAgICAnICAgIH0nLFxuICAgICAgICAgICAgJ30pJyxcbiAgICAgICAgICAgICcuY2F0Y2goZXJyb3IgPT4gY29udGFpbmVyLmFkZCh7bnR5cGU6XFwnY29tcG9uZW50XFwnLCBodG1sOmVycm9yLm1lc3NhZ2V9KSk7J1xuICAgICAgICBdLmpvaW4oJ1xcbicpXG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbWUuZ2V0UHJldmlld0NvbnRhaW5lcigpO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ldyBGdW5jdGlvbignY29udGFpbmVyJywgY29kZVN0cmluZykoY29udGFpbmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGQoe1xuICAgICAgICAgICAgICAgIG50eXBlOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgICBodG1sIDogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzb3VyY2VDb2RlXG4gICAgICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGZpbmRMYXN0Q2xhc3NOYW1lKHNvdXJjZUNvZGUpIHtcbiAgICAgICAgbGV0IGxhc3RDbGFzc05hbWUgPSBudWxsLFxuICAgICAgICAgICAgbWF0Y2g7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBtYXRjaGVzIG9mIHRoZSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGNsYXNzRGVjbGFyYXRpb25SZWdleC5leGVjKHNvdXJjZUNvZGUpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXN0IGNsYXNzIG5hbWUgZm91bmRcbiAgICAgICAgICAgIGxhc3RDbGFzc05hbWUgPSBtYXRjaFsxXVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3RDbGFzc05hbWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7TmVvLmNvbXBvbmVudC5CYXNlfG51bGx9XG4gICAgICovXG4gICAgZ2V0UHJldmlld0NvbnRhaW5lcigpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBpZiAobWUucHJldmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIG1lLnByZXZpZXdDb250YWluZXJcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZS5nZXRSZWZlcmVuY2UoJ3ByZXZpZXcnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtOZW8uY29tcG9uZW50LkJhc2V9IGRhdGEuaXRlbVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkYXRhLm9sZFZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEuc291cmNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRhdGEudmFsdWVcbiAgICAgKi9cbiAgICBvbkFjdGl2ZUluZGV4Q2hhbmdlKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuaXRlbS5yZWZlcmVuY2UgPT09ICdwcmV2aWV3Jykge1xuICAgICAgICAgICAgdGhpcy5kb1J1blNvdXJjZSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldFJlZmVyZW5jZSgncG9wb3V0LXdpbmRvdy1idXR0b24nKS5oaWRkZW4gPSBkYXRhLnZhbHVlICE9PSAxXG4gICAgICAgIHRoaXMuZGlzYWJsZVJ1blNvdXJjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgb25Db25zdHJ1Y3RlZCgpIHtcbiAgICAgICAgc3VwZXIub25Db25zdHJ1Y3RlZCgpO1xuXG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICB7dGFiQ29udGFpbmVyfSA9IG1lO1xuXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gYWRkIGEgbm9ybWFsIChub24taGVhZGVyKSBidXR0b25cbiAgICAgICAgdGFiQ29udGFpbmVyLmdldFRhYkJhcigpLmFkZCh7XG4gICAgICAgICAgICBoYW5kbGVyICA6IG1lLnBvcG91dFByZXZpZXcuYmluZChtZSksXG4gICAgICAgICAgICBoaWRkZW4gICA6IHRhYkNvbnRhaW5lci5hY3RpdmVJbmRleCAhPT0gMSxcbiAgICAgICAgICAgIGljb25DbHMgIDogJ2ZhciBmYS13aW5kb3ctbWF4aW1pemUnLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAncG9wb3V0LXdpbmRvdy1idXR0b24nLFxuICAgICAgICAgICAgc3R5bGUgICAgOiB7bWFyZ2luTGVmdDogJ2F1dG8nfSxcbiAgICAgICAgICAgIHVpICAgICAgIDogJ2dob3N0J1xuICAgICAgICB9KTtcblxuICAgICAgICB0YWJDb250YWluZXIub24oJ2FjdGl2ZUluZGV4Q2hhbmdlJywgbWUub25BY3RpdmVJbmRleENoYW5nZSwgbWUpO1xuXG4gICAgICAgIC8vIGNoYW5naW5nIHRoZSBhY3RpdmVWaWV3IGluaXRpYWxseSB3aWxsIG5vdCB0cmlnZ2VyIG91ciBvbkFjdGl2ZUluZGV4Q2hhbmdlKCkgbG9naWNcbiAgICAgICAgbWUuYWN0aXZlVmlldyA9PT0gJ3ByZXZpZXcnICYmIG1lLmRvUnVuU291cmNlKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGFzeW5jIHBvcG91dFByZXZpZXcoZGF0YSkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIGRhdGEuY29tcG9uZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgbWUuY3JlYXRlUG9wdXBXaW5kb3coKTtcblxuICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCByZXF1aXJlcyBhIHZpZXcgY29udHJvbGxlciB0byBtYW5hZ2UgY29ubmVjdGVkIGFwcHNcbiAgICAgICAgbWUuZ2V0Q29udHJvbGxlcigndmlld3BvcnQtY29udHJvbGxlcicpPy5jb25uZWN0ZWRBcHBzLnB1c2gobWUuaWQpXG4gICAgfVxufVxuXG5OZW8uc2V0dXBDbGFzcyhMaXZlUHJldmlldyk7XG5cbmV4cG9ydCBkZWZhdWx0IExpdmVQcmV2aWV3O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9