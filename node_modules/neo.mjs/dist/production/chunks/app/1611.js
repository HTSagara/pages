"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[1611],{3495:(e,t,a)=>{a.d(t,{Z:()=>p});var l=a(1509),n=a(9119),o=a(6975),s=a(3921),i=a(1345);const r=[{name:"neo-theme-light",label:"Theme Light"},{name:"neo-theme-dark",label:"Theme Dark"},{name:"neo-theme-neo-light",label:"Theme Neo-Light"}];class d extends i.Z{static config={className:"Neo.examples.ConfigurationContainer",ntype:"configuration-viewport",layout:{ntype:"hbox",align:"stretch"},configItemLabelWidth:150,configItemWidth:270,configPanelFlex:1,configPanelMinWidth:350,exampleComponent:null,exampleComponentFlex:2};onConstructed(){let e,t=this,a=t.exampleContainerConfig?.style;a&&delete t.exampleContainerConfig.style,t.exampleComponent=t.createExampleComponent(),t.configurationComponents=t.createConfigurationComponents()||[],e=t.exampleComponent.getTheme(),t.items=[{module:n.Z,items:[t.exampleComponent],flex:t.exampleComponentFlex,layout:"base",style:{overflow:"auto",padding:"20px",...a},...t.exampleContainerConfig},{module:s.Z,cls:["neo-panel","neo-container","neo-configuration-panel"],flex:t.configPanelFlex,style:{margin:"20px",minWidth:t.configPanelMinWidth},headers:[{dock:"top",style:{borderLeft:0,borderRight:0,borderTop:0},items:[{ntype:"label",text:"Configuration"},{ntype:"component",flex:1},{module:l.Z,handler:t.onSwitchTheme.bind(t),id:t.id+"__switchThemeButton",text:"neo-theme-dark"===e?"Theme Light":"Theme Dark"}]}],items:[{module:n.Z,layout:{ntype:"vbox",align:null},style:{overflowY:"auto",padding:"10px"},cls:["neo-configuration-panel-body"],itemDefaults:{clearToOriginalValue:!0,labelWidth:t.configItemLabelWidth,width:t.configItemWidth},items:[...t.configurationComponents,{module:l.Z,handler:(0,o.p7)(t.onSwitchTheme,t,"cmp"),style:{marginTop:"20px"},text:"neo-theme-dark"===e?"Theme Light":"Theme Dark",width:130},{module:l.Z,handler:t.logInstance.bind(t),text:"Log Instance",width:130}]}]}],super.onConstructed()}createConfigurationComponents(){return null}createExampleComponent(){return null}logInstance(e){console.log(this.exampleComponent)}onConfigChange(e,t){this.exampleComponent[e]=t.value}onRadioChange(e,t,a){!0===a.value&&(this.exampleComponent[e]=t)}onSwitchTheme(e,t){let a,l,n,o,s,i=e.component,d=r.length;r.forEach(((e,t)=>{i.text===e.label&&(l=e.name,s=t)})),a=(s+d+1)%d,n=(s+d-1)%d,o=r[n].name,i.text=r[a].label,"cmp"===t?this.exampleComponent.theme=l:(console.log(l,o),Neo.applyDeltas(this.appName,{cls:{add:[l],remove:[o]}}))}}Neo.applyClassConfig(d);const p=d},1611:(e,t,a)=>{a.r(t),a.d(t,{onStart:()=>c});var l=a(3495),n=a(9147),o=a(1211),s=a(2577),i=a(947),r=a(5328);class d extends i.Z{static config={className:"Neo.layout.Form",ntype:"layout-form",gap_:null,prefix:"neo-layout-form-"};afterSetGap(e,t){if(!e&&!t)return;let a=Neo.getComponent(this.containerId),l=a.wrapperStyle;l.gap=e,a.wrapperStyle=l}applyChildAttributes(e,t){e.ignoreLayout||("fieldset"===e.ntype?e.wrapperCls=r.Z.union(e.wrapperCls,"neo-layout-form-subfieldset"):"legend"===e.ntype?e.wrapperCls=r.Z.union(e.wrapperCls,"neo-layout-form-legend"):e.wrapperCls=r.Z.union(e.wrapperCls,"neo-layout-form-item"))}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Form: applyRenderAttributes -> container not yet created",this.containerId),r.Z.add(t,"neo-layout-form"),e.wrapperCls=t}removeChildAttributes(e){let t=e.wrapperStyle||{};t.flex=e.flex||null,e.wrapperStyle=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Form: removeRenderAttributes -> container not yet created",this.containerId),r.Z.remove(t,"neo-layout-form"),e.wrapperCls=t}updateInputValue(e,t,a){let l=Neo.getComponent(this.containerId),n=this.prefix,o=l?.wrapperCls;l?.rendered&&(r.Z.remove(o,n+a+"-"+t),null!==e&&r.Z.add(o,n+a+"-"+e),l.wrapperCls=o)}}Neo.applyClassConfig(d);class p extends l.Z{static config={className:"Neo.examples.layout.form.MainContainer",autoMount:!0,configItemLabelWidth:160,layout:{ntype:"hbox",align:"stretch"}};createConfigurationComponents(){let e=this;return[{ntype:"component",html:"On the left you see<ul>Form > layout-form<li>textfield<li>textfield<li>Fieldset inside the form with another > layout-form<ul><li>textfield<li>textfield</ul></ul>"},{module:s.Z,clearable:!0,labelText:"gap (row column)",listeners:{change:{fn:function(e){const t=this.exampleComponent;t.layout.gap=e.value,t.down("fieldset").layout.gap=e.value},scope:this}},value:"0 .5rem"},{module:s.Z,clearable:!0,labelText:"Textfield 01 Label",listeners:{change:e.updateLabelFromTextField.bind(e,1)},value:"This is a wide label inside Form"},{module:s.Z,clearable:!0,labelText:"Textfield 02 Label",listeners:{change:e.updateLabelFromTextField.bind(e,2)},value:"Small label"},{module:s.Z,clearable:!0,labelText:"Textfield 03 Label",listeners:{change:e.updateLabelFromTextField.bind(e,3)},value:"I am inside a fieldset"},{module:s.Z,clearable:!0,labelText:"Textfield 04 Label",listeners:{change:e.updateLabelFromTextField.bind(e,4)},value:"Fieldset with layout-form"}]}createExampleComponent(){return Neo.create(n.Z,{layout:{ntype:"layout-form",gap:"0 .5rem"},itemDefaults:{ntype:"textfield",clearable:!0,value:"Layout Demo"},items:[{labelText:"This is a wide Label inside Form",name:1},{labelText:"Small Label",name:2},{module:o.Z,title:"Fieldset with Layout",layout:{ntype:"layout-form",gap:"0 .5rem"},itemDefaults:{ntype:"textfield",clearable:!0,value:"Layout Demo"},items:[{labelText:"I am inside a fieldset",name:3},{labelText:"Fieldset with layout-form",name:4}]}]})}updateLabelFromTextField(e,t){this.exampleComponent.down({ntype:"textfield",name:e}).labelText=t.value}}Neo.applyClassConfig(p);const u=p,c=()=>Neo.app({mainView:u,name:"Neo.examples.layout.form"})},3921:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(9119);a(5031);class n extends l.Z{static config={className:"Neo.container.Panel",ntype:"panel",baseCls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1};construct(e){super.construct(e);let t=this;t.hasHeaders()&&!0===t.verticalHeadersFirst&&(t.layout={ntype:"hbox",align:"stretch"})}static createHeaderConfig(e){if("NeoInstance"===Neo.typeOf(e))return e;let t={flex:"0 1 auto"};return e.module||e.ntype||(t.cls=["neo-panel-header-toolbar","neo-toolbar"],t.ntype="toolbar"),e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Array.isArray(e.items)&&e.items.forEach((e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])})),{...t,...e}}createItems(){let e=this,t=e.containerConfig;if(e.hasHeaders()){let a,l=!1===e.verticalHeadersFirst,o=e.headers||[],s=o.filter((e=>e.dock===(l?"bottom":"right"))),i=o.filter((e=>e.dock===(l?"left":"top"))),r=o.filter((e=>e.dock===(l?"right":"bottom"))),d=o.filter((e=>e.dock===(l?"top":"left"))),p=s.length>0||d.length>0,u=i.length>0||r.length>0,c=e.items,m=[],h=[];d.forEach((e=>{h.push(n.createHeaderConfig(e))})),u&&(l&&p||!l&&p)?(i.forEach((e=>{m.push(n.createHeaderConfig(e))})),a={ntype:"container",flex:1,items:c,itemDefaults:e.itemDefaults,...t},m.push({...e.headerDefaults,...a}),r.forEach((e=>{m.push(n.createHeaderConfig(e))})),h.push({ntype:"container",items:m,layout:{ntype:l?"hbox":"vbox",align:"stretch"}})):(a={ntype:"container",flex:1,items:c,itemDefaults:e.itemDefaults,...t},h.push({...e.headerDefaults,...a})),s.forEach((e=>{h.push(n.createHeaderConfig(e))})),e.items=h,e.itemDefaults=null,super.createItems()}else t&&e.set(t),super.createItems()}hasHeaders(){return Array.isArray(this.headers)&&this.headers.length>0}}Neo.applyClassConfig(n);const o=n},1345:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(9119);class n extends l.Z{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"]};onConstructed(){super.onConstructed(),this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:this.appName,cls:["neo-body-viewport"]})}}Neo.applyClassConfig(n);const o=n},9147:(e,t,a)=>{a.d(t,{Z:()=>r});var l=a(9119),n=a(3980),o=a(6717),s=a(5328);class i extends l.Z{static config={className:"Neo.form.Container",ntype:"form-container",baseCls:["neo-form-container"],vdom:{tag:"form",cn:[],onsubmit:"return false;"}};static adjustTreeLeaves(e={},t,a,l=""){let n,o,s;Object.entries(e).forEach((([i,r])=>{n=!0,o=""===l?i:`${l}.${i}`,s=Neo.typeOf(r),"Array"!==s&&"Object"!==s||(n=a.includes(o),"Array"===s?r.forEach(((e,l)=>{"Object"===Neo.typeOf(e)&&this.adjustTreeLeaves(e,t,a,`${o}[${l}]`)})):"Object"===s&&this.adjustTreeLeaves(r,t,a,o)),n&&(e[i]=i===t?r:{[t]:r})}))}findNotLoadedModules(e=this,t=[]){return e.items.forEach((a=>{"Function"!==Neo.typeOf(a.module)||a.isLoading?a.items&&this.findNotLoadedModules(a,t):t.push({item:a,parent:e})})),t}async getField(e){await this.loadModules();let t,a=o.Z.getChildComponents(this);for(t of a)if(t instanceof n.Z&&(t.name===e||t.id===e))return t;return null}getFieldPath(e){let t=e.formGroup?e.formGroup.split("."):[];return t.push(e.name||e.id),t.join(".")}async getFields(){let e=[];return await this.loadModules(),o.Z.getChildComponents(this).forEach((t=>{t instanceof n.Z&&e.push(t)})),e}async getValues(){let e,t,a,l,n,o=await this.getFields(),s=Neo.form.field.Radio,i={};return o.forEach((o=>{n=o.getValue(),o.name?(e=o.name,o.formGroup&&(e=o.formGroup+"."+e),l=e.split("."),t=l.pop(),a=Neo.nsWithArrays(l,!0,i)):(t=o.id,a=i),s&&o instanceof s?Object.hasOwn(a,t)?n!==o.uncheckedValue&&(a[t]=n):a[t]=n:Object.hasOwn(a,t)&&void 0!==n?(a[t]===o.uncheckedValue?a[t]=[]:Array.isArray(a[t])||(a[t]=[a[t]]),n!==o.uncheckedValue&&a[t].unshift(n)):void 0!==n&&(a[t]=n)})),i}async isValid(){let e=await this.getFields(),t=0,a=e.length;for(;t<a;t++)if(!e[t].isValid())return!1;return!0}async loadModules(){let e=this.findNotLoadedModules(),t=[];return e.forEach((e=>{t.push(e.parent.layout.loadModule(e.item))})),e=await Promise.all(t),e}async reset(e={}){let t,a,l=this;(await l.getFields()).forEach((n=>{t=l.getFieldPath(n),a=Neo.nsWithArrays(t,!1,e),n.reset(t?a:null)}))}async setConfigs(e={},t=!1){let a,l,n,o,s,i=this;(await i.getFields()).forEach((r=>{o=i.getFieldPath(r),a=Neo.nsWithArrays(o,!1,e),a&&(t&&(r.suspendEvents=!0),l=Neo.form.field?.CheckBox&&r instanceof Neo.form.field.CheckBox,n=Neo.form.field?.Radio&&r instanceof Neo.form.field.Radio,s=a.value,(l||n)&&Object.hasOwn(a,"value")&&(a=Neo.clone(a,!0),n?a.checked=r.value===s:l&&("Array"===Neo.typeOf(s)?s.includes(r.value)&&(a.checked=!0):a.checked=r.value===s),delete a.value),r.set(a),t&&delete r.suspendEvents)}))}async setValues(e={},t=!1){let a,l=await this.getFields(),n=[];l.map((e=>{a=e.getPath(),a&&s.Z.add(n,a)})),e=Neo.clone(e,!0),i.adjustTreeLeaves(e,"value",n),await this.setConfigs(e,t)}async validate(){let e,t=!0;return(await this.getFields()).forEach((a=>{e=a.validate?.(!1),e||(t=!1)})),t}}Neo.applyClassConfig(i);const r=i},1211:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(9147),n=a(4022);class o extends n.Z{static config={className:"Neo.component.Legend",ntype:"legend",baseCls:["neo-legend"],iconCls_:"far fa-check",text_:"",useIcon_:!0,_vdom:{tag:"legend",cn:[{vtype:"text"},{vtype:"text"}]}};afterSetIconCls(e,t){this.vdom.cn[0].html=`<i class="neo-legend-icon ${e}"></i>`,this.update()}afterSetText(e,t){this.vdom.cn[1].html=e,this.update()}afterSetUseIcon(e,t){this.vdom.cn[0].removeDom=!e,this.update()}}Neo.applyClassConfig(o);const s=o;var i=a(5328);class r extends l.Z{static config={className:"Neo.form.Fieldset",ntype:"fieldset",baseCls:["neo-fieldset"],collapsed_:!1,collapsible_:!0,disableItemsOnCollapse_:!0,hasLabelClickListener:!1,iconClsChecked_:"far fa-check",iconClsUnchecked_:"far fa-square",itemsDisabledMap:null,legend:null,legendConfig:null,title_:"",vdom:{tag:"fieldset",cn:[]}};afterSetCollapsed(e,t){let a=this;i.Z[e?"add":"remove"](a._cls,"neo-collapsed"),void 0!==t&&(a.items.forEach(((t,l)=>{0===l&&t instanceof s?t.iconCls=e?a.iconClsUnchecked:a.iconClsChecked:(a.disableItemsOnCollapse&&(a.itemsDisabledMap=a.itemsDisabledMap||[],e?t.disabled?a.itemsDisabledMap.push(t.id):t._disabled=!0:a.itemsDisabledMap.includes(t.id)||(t._disabled=!1)),t.vdom.removeDom=e)})),e||(a.itemsDisabledMap=[])),a.update()}afterSetCollapsible(e,t){let a=this,l=a.cls;i.Z[e?"add":"remove"](l,"neo-collapsible"),a.cls=l,a.legend&&(a.legend.useIcon=e),e&&!a.hasLabelClickListener&&(a.hasLabelClickListener=!0,a.addDomListeners({click:a.onLegendClick,delegate:"neo-legend"}))}afterSetIconClsChecked(e,t){void 0!==t&&this.updateLegend()}afterSetIconClsUnchecked(e,t){void 0!==t&&this.updateLegend()}afterSetTitle(e,t){this.updateLegend()}onConstructed(){super.onConstructed(),this.collapsed&&this.afterSetCollapsed(!0,!1)}onLegendClick(e){let t=this;t.collapsible&&(t.collapsed=!t.collapsed)}updateLegend(){let e=this,t=e.collapsed?e.iconClsUnchecked:e.iconClsChecked,a=e.title;""===t&&""===a?e.legend&&(e.legend.vdom.reomveDom=!0):e.legend?(e.legend.setSilent({iconCls:t,text:a}),delete e.legend.vdom.reomveDom):e.legend=e.insert(0,{module:s,iconCls:t,text:a,...e.legendConfig}),e.update()}}Neo.applyClassConfig(r);const d=r},3980:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(4022),n=a(6717);class o extends l.Z{static delayable={fireChangeEvent:{type:"debounce",timer:1e3},fireUserChangeEvent:{type:"debounce",timer:1e3}};static config={className:"Neo.form.field.Base",ntype:"basefield",formGroup_:null,name_:null,renderName_:!0,renderPath:!0,value_:null};formGroupString=null;path=null;afterSetName(e,t){let a=this;a.renderName&&a.changeInputElKey("name",a.renderPath?a.getPath():e)}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}beforeGetFormGroup(e){let t,a=this,l=[];return a.formGroupString?a.formGroupString:(e&&l.push(e),n.Z.getParents(a).forEach((e=>{e.formGroup&&l.unshift(e.formGroup)})),t=l.join("."),a.formGroupString=t,t)}changeInputElKey(e,t,a=!1){let l=this;t||Neo.isBoolean(t)||0===t?l.getInputEl()[e]=t:delete l.getInputEl()[e],!a&&l.update()}doFireChangeEvent(e,t,a){let l=this,o=Neo.form?.Container,s="field"+Neo.capitalize(a),i={component:l,oldValue:t,value:e};Neo.isFunction(l.getGroupValue)&&(i.groupValue=l.getGroupValue()),l.fire(a,i),l.suspendEvents||n.Z.getParents(l).forEach((e=>{o&&e instanceof o&&e.fire(s,i)}))}fireChangeEvent(e,t){this.doFireChangeEvent(e,t,"change")}fireUserChangeEvent(e,t){this.doFireChangeEvent(e,t,"userChange")}getClosestForm(){let e,t=this,a=Neo.form?.Container;for(e of n.Z.getParents(t))if(a&&e instanceof a)return e;return null}getInputEl(){return this.vdom}getPath(){let e,t=this;if(!t.name)return null;if(!t.path){if(e=t.formGroup?t.formGroup.split("."):[],t.name&&e.push(t.name),e.length<1)return null;t.path=e.join(".")}return t.path||(t.path="none"),"none"===t.path?null:t.path}getValue(){return this.value}isValid(){return!0}onFocusLeave(e){super.onFocusLeave?.(e);let t=this,a=Neo.form?.Container,l={...e,component:t,value:t.getValue()};Neo.isFunction(t.getGroupValue)&&(l.groupValue=t.getGroupValue()),t.suspendEvents||n.Z.getParents(t).forEach((e=>{a&&e instanceof a&&e.fire("fieldFocusLeave",l)}))}reset(e=null){this.value=e}validate(e=!0){return!0}}Neo.applyClassConfig(o);const s=o}}]);