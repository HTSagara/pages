"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[1263],{4058:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>C});var a=n(7885),s=n(3303),r=n(8202);class o extends r.A{static config={className:"Neo.examples.table.covid.Model",fields:[{name:"active",type:"Integer"},{name:"cases",type:"Integer"},{name:"casesPerOneMillion",type:"Integer"},{name:"country",type:"String"},{name:"countryInfo",type:"Object"},{name:"critical",type:"Integer"},{name:"deaths",type:"Integer"},{name:"index",type:"Integer"},{name:"infected",type:"Integer"},{name:"recovered",type:"Integer"},{name:"tests",type:"Integer"},{name:"testsPerOneMillion",type:"Integer"},{name:"todayCases",type:"Integer"},{name:"todayDeaths",type:"Integer"}]}}Neo.setupClass(o);const i=o;class l extends s.A{static config={className:"Neo.examples.table.covid.Store",keyProperty:"country",model:i,sorters:[{property:"active",direction:"DESC"}]}}Neo.setupClass(l);const c=l;var d=n(5800);class u extends d.A{apiUrl="https://disease.sh/v3/covid-19/countries";static config={className:"Neo.examples.table.covid.TableContainerController"};construct(e){super.construct(e),this.loadData()}addStoreItems(e){let t=this.component.store;e.forEach((e=>{e.country.includes('"')&&(e.country=e.country.replace('"',"'")),e.casesPerOneMillion=e.casesPerOneMillion>e.cases?"N/A":e.casesPerOneMillion||0,e.infected=e.casesPerOneMillion})),t.data=e}loadData(){let e=this;fetch(e.apiUrl).then((e=>e.json())).catch((t=>console.log("Can’t access "+e.apiUrl,t))).then((t=>e.addStoreItems(t)))}}Neo.setupClass(u);const p=u;var m=n(2583);class h extends m.A{static flagRegEx=/ /gi;static locales="default";static config={className:"Neo.examples.table.covid.Util"};static formatInfected(e){let t=e.value;return Neo.isNumber(t)?(t=Math.round(t/100),t/=100,t=t.toFixed(2)+" %",t.toLocaleString(h.locales)):t||"N/A"}static formatNumber(e,t){let n=e.value;return Neo.isNumber(n)?(n=n.toLocaleString(h.locales),"string"!=typeof t?n:`<span style="color:${t};">${n}</span>`):n||"N/A"}static getCountryFlagUrl(e){let t=e.toLowerCase().replace(h.flagRegEx,"-");if(t={bosnia:"bosnia-and-herzegovina","cabo-verde":"cape-verde",car:"central-african-republic","caribbean-netherlands":"netherlands","channel-islands":"jersey","côte-d'ivoire":"ivory-coast",congo:"republic-of-the-congo","congo,-the-democratic-republic-of-the":"democratic-republic-of-congo",curaçao:"curacao",czechia:"czech-republic","diamond-princess":"japan",drc:"democratic-republic-of-congo","el-salvador":"salvador",eswatini:"swaziland","faeroe-islands":"faroe-islands","falkland-islands-(malvinas)":"falkland-islands","french-guiana":"france",guadeloupe:"france","holy-see-(vatican-city-state)":"vatican-city","iran,-islamic-republic-of":"iran","lao-people's-democratic-republic":"laos","libyan-arab-jamahiriya":"libya",macedonia:"republic-of-macedonia","marshall-islands":"marshall-island",mayotte:"france","moldova,-republic-of":"moldova","ms-zaandam":"netherlands","new-caledonia":"france","palestinian-territory,-occupied":"palestine",poland:"republic-of-poland",réunion:"france","s.-korea":"south-korea","st.-barth":"st-barts","saint-helena":"united-kingdom","saint-lucia":"st-lucia","saint-martin":"sint-maarten","saint-pierre-miquelon":"france","saint-vincent-and-the-grenadines":"st-vincent-and-the-grenadines","syrian-arab-republic":"syria","tanzania,-united-republic-of":"tanzania","timor-leste":"east-timor","turks-and-caicos-islands":"turks-and-caicos","u.s.-virgin-islands":"virgin-islands",uae:"united-arab-emirates",uk:"united-kingdom",usa:"united-states-of-america",uzbekistan:"uzbekistn","venezuela,-bolivarian-republic-of":"venezuela","viet-nam":"vietnam","wallis-and-futuna":"france"}[t]||t,Neo.config.isGitHubPages){let e=`../../../../resources/images/flaticon/country_flags/png/${t}.png`;return"development"!==Neo.config.environment&&(e=`../../${e}`),e}return`https://raw.githubusercontent.com/neomjs/pages/main/resources/images/flaticon/country_flags/png/${t}.png`}static indexRenderer(e){return{cls:["neo-index-column","neo-table-cell"],html:e.index+1}}}Neo.setupClass(h);const f=h;class g extends a.A{static config={className:"Neo.examples.table.covid.TableContainer",cls:["covid-country-table"],columnDefaults:{cellAlign:"right",defaultSortDirection:"DESC",renderer:f.formatNumber},columns:[{cls:["neo-index-column","neo-table-header-button"],dataField:"index",dock:"left",minWidth:40,text:"#",renderer:f.indexRenderer,width:40},{cellAlign:"left",dataField:"country",defaultSortDirection:"ASC",dock:"left",text:"Country",width:200,renderer:e=>({cls:["neo-country-column","neo-table-cell"],html:['<div style="display: flex; align-items: center">','<img style="height:20px; margin-right:10px; width:20px;" src="'+f.getCountryFlagUrl(e.value)+'">'+e.value,"</div>"].join("")})},{dataField:"cases",text:"Cases"},{dataField:"casesPerOneMillion",text:"Cases / 1M"},{dataField:"infected",text:"Infected",renderer:e=>f.formatInfected(e)},{dataField:"active",text:"Active",renderer:e=>f.formatNumber(e,"#64B5F6")},{dataField:"recovered",text:"Recovered",renderer:e=>f.formatNumber(e,"#28ca68")},{dataField:"critical",text:"Critical",renderer:e=>f.formatNumber(e,"orange")},{dataField:"deaths",text:"Deaths",renderer:e=>f.formatNumber(e,"#fb6767")},{dataField:"todayCases",text:"Cases today"},{dataField:"todayDeaths",text:"Deaths today",renderer:e=>f.formatNumber(e,"#fb6767")},{dataField:"tests",text:"Tests"},{dataField:"testsPerOneMillion",text:"Tests / 1M"}],controller:p,store:c}}Neo.setupClass(g);const v=g;var b=n(2930);class y extends b.A{static config={className:"Neo.examples.table.covid.MainContainer",items:[v],layout:{ntype:"fit"},style:{padding:"20px"}}}Neo.setupClass(y);const N=y,C=()=>Neo.app({mainView:N,name:"Neo.examples.table.covid"})},2930:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(232);class s extends a.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"]};onConstructed(){super.onConstructed();let{appName:e,windowId:t}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:e,cls:["neo-body-viewport"],windowId:t})}}Neo.setupClass(s);const r=s},5800:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(2432),s=n(599);class r extends a.A{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t,n=this,a=n.component;n.references={},a.isConstructed?n.onComponentConstructed():t=a.on("constructed",(()=>{a.un("constructed",t),n.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,t){let n=this,a=n.parent;return!(!t||!t.resolveCallback(e,t).fn)||(Neo.isFunction(n[e])?n:a?a.getHandlerScope(e):null)}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e=this;return e.parent?e.parent:e.component.parent?.getController()||null}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}getStore(e){return this.getModel().getStore(e)}onComponentConstructed(){}parseConfig(e=this.component){let t,n,a=this,r=e.handler,o=e.listeners,i=e.reference,l=e.validator;r&&"string"==typeof r&&(n=a.getHandlerScope(r,e),!0!==n&&(e.handler=n[r].bind(e.handlerScope||n))),o&&Object.entries(o).forEach((([r,i])=>{"scope"!==r&&"delegate"!==r&&(Neo.isString(i)?(t=i,n=a.getHandlerScope(t,e),n?!0!==n&&(o[r]={},o[r].fn=n[t].bind(n)):s.A.logError("Unknown event handler for",t,e)):i.forEach((s=>{Neo.isObject(s)&&s.hasOwnProperty("fn")&&Neo.isString(s.fn)&&(t=s.fn,n=a.getHandlerScope(t,e),n?!0!==n&&(s.fn=n[t].bind(n)):console.error("Unknown event handler for",t,e))})))})),Neo.isString(l)&&(n=a.getHandlerScope(l),n?e.validator=n[l].bind(n):s.A.logError("Unknown validator for",e.id,e)),i&&(a.references[i]=e)}parseDomListeners(e=this.component){let t,n,a=this,r=e.domListeners;r&&r.forEach((r=>{Object.entries(r).forEach((([o,i])=>{t=null,"scope"!==o&&"delegate"!==o&&(Neo.isString(i)?t=i:Neo.isObject(i)&&i.hasOwnProperty("fn")&&Neo.isString(i.fn)&&(t=i.fn),t&&(n=a.getHandlerScope(t),n?r[o]=n[t].bind(n):s.A.logError("Unknown domEvent handler for",t,e)))}))}))}removeReference(e){let t,n=this.references;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}}Neo.setupClass(r);const o=r},3293:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(5608),s=n(293),r=n(6270);class o extends a.A{static delayable={fireChangeEvent:{type:"debounce",timer:1e3},fireUserChangeEvent:{type:"debounce",timer:1e3}};static isTouchedEvents=["focusEnter","focusLeave"];static config={className:"Neo.form.field.Base",ntype:"basefield",formGroup_:null,isTouched_:!1,isTouchedEvent_:"focusLeave",name_:null,renderName_:!0,renderPath:!0,value_:null};formGroupString=null;get isDirty(){let e=this.originalConfig.value,t=this.value;return t!==e&&Neo.isEmpty(t)!==Neo.isEmpty(e)}path=null;afterSetIsTouched(e,t){let n=this.cls;r.A.toggle(n,"neo-is-touched",e),this.cls=n}afterSetName(e,t){let n=this;n.renderName&&n.changeInputElKey("name",n.renderPath?n.getPath():e)}afterSetRole(e,t){this.getInputEl().role=e,this.update()}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}beforeGetFormGroup(e){let t,n=this,a=[];return n.formGroupString?n.formGroupString:(e&&a.push(e),s.A.getParents(n).forEach((e=>{e.formGroup&&a.unshift(e.formGroup)})),t=a.join("."),n.formGroupString=t,t)}beforeSetIsTouchedEvent(e,t){return this.beforeSetEnumValue(e,t,"isTouchedEvent")}changeInputElKey(e,t,n=!1){let a=this;t||Neo.isBoolean(t)||0===t?a.getInputEl()[e]=t:delete a.getInputEl()[e],!n&&a.update()}doFireChangeEvent(e,t,n){let a=this,r=Neo.form?.Container,o="field"+Neo.capitalize(n),i={component:a,oldValue:t,value:e};Neo.isFunction(a.getGroupValue)&&(i.groupValue=a.getGroupValue()),a.fire(n,i),a.suspendEvents||s.A.getParents(a).forEach((e=>{r&&e instanceof r&&e.fire(o,i)}))}fireChangeEvent(e,t){this.doFireChangeEvent(e,t,"change")}fireUserChangeEvent(e,t){this.doFireChangeEvent(e,t,"userChange")}getClosestForm(){let e,t=this,n=Neo.form?.Container;for(e of s.A.getParents(t))if(n&&e instanceof n)return e;return null}getInputEl(){return this.vdom}getPath(){let e,t=this;if(!t.name)return null;if(!t.path){if(e=t.formGroup?t.formGroup.split("."):[],t.name&&e.push(t.name),e.length<1)return null;t.path=e.join(".")}return t.path||(t.path="none"),"none"===t.path?null:t.path}getValue(){return this.value}isValid(){return!0}onFocusEnter(e){super.onFocusLeave(e),"focusEnter"===this.isTouchedEvent&&(this.isTouched=!0)}onFocusLeave(e){super.onFocusLeave(e);let t=this,n=Neo.form?.Container,a={...e,component:t,value:t.getValue()};"focusLeave"===t.isTouchedEvent&&(t.isTouched=!0),Neo.isFunction(t.getGroupValue)&&(a.groupValue=t.getGroupValue()),t.suspendEvents||s.A.getParents(t).forEach((e=>{n&&e instanceof n&&e.fire("fieldFocusLeave",a)}))}reset(e=null){this.originalConfig.value=e,this.value=e}validate(e=!0){return!0}}Neo.setupClass(o);const i=o},6556:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(2583),s=n(6270);n(5691);class r extends a.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,n=this.items,a){if(e=e.isRecord?view.getItemId(e):Neo.isObject(e)?e.id:e,n.includes(e)){let r=this,o=r.view,i=o.getVdomChild(e);i&&(i.cls=s.A.remove(i.cls||[],a||r.selectedCls),i["aria-selected"]=!1),s.A.remove(n,e),t||(o.update(),r.fire("selectionChange",{selection:n}))}else t||this.fire("noChange")}deselectAll(e){let t=this,n=[...t.items],a=t.view;n.length?(n.forEach((e=>{t.deselect(e,!0)})),!e&&n.length>0&&a.update(),t.fire("selectionChange",{selection:this.items})):e||t.fire("noChange")}destroy(){this.unregister(),super.destroy()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,n=e.cls||[];t.cls&&!n.includes(t.cls)&&(n.push(t.cls),e.cls=n),t.view=e,t.addDomListener()}removeDomListeners(){let e=this,t=e.view,n=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&s.A.remove(n,t)})),t.domListeners=n}select(e,t=this.items,n){let a=this,{view:r}=a;e=(e=Array.isArray(e)?e:[e]).map((e=>e.isRecord?r.getItemId(e):Neo.isObject(e)?e.id:e)),Neo.isEqual(t,e)?a.fire("noChange"):(a.singleSelect&&a.deselectAll(!0),e.forEach(((e,t)=>{(e=r.getVdomChild(e))&&(e.cls=s.A.add(e.cls||[],n||a.selectedCls),e["aria-selected"]=!0)})),s.A.add(t,e),!r.silentSelect&&r.update(),r.onSelect?.(e),a.fire("selectionChange",{selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(s.A.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}Neo.setupClass(r);const o=r}}]);