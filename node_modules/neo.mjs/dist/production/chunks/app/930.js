"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[930],{930:(e,t,o)=>{o.d(t,{Z:()=>c});var r=o(4022),a=o(9375);class i extends a.Z{static config={className:"Neo.layout.Base",ntype:"layout-base",appName_:null,containerId:null,isLayout:!0};afterSetAppName(e,t){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}applyChildAttributes(e){}applyRenderAttributes(){}destroy(){let e=this;e.bind&&Neo.getComponent(e.containerId).getModel()?.removeBindings(e.id),super.destroy()}getModel(e){return Neo.getComponent(this.containerId).getModel()}initConfig(e,t){super.initConfig(e,t);let o=this;o.bind&&Neo.getComponent(o.containerId).getModel()?.parseConfig(o)}removeChildAttributes(e){}removeRenderAttributes(){}}Neo.applyClassConfig(i);const n=i;var s=o(5328);Neo.applyClassConfig(class extends n{static activeItemCls="neo-active-item";static inactiveItemCls="neo-inactive-item";static itemCls="neo-layout-card-item";static config={className:"Neo.layout.Card",ntype:"layout-card",activeIndex_:0,removeInactiveCards:!0};async afterSetActiveIndex(e,t){let o,r,a,i,n,l,p,d=this,c=d.containerId,u=Neo.getComponent(c)||Neo.get(c),m=d.constructor,y=!1,h=d.removeInactiveCards;if(Neo.isNumber(e)&&u){for(i=u.items,n=i.length,i[e]||Neo.error("Trying to activate a non existing card",e,i),o=0;o<n;o++)if(l=i[o].module,o===e&&"Function"===Neo.typeOf(l)){y=!0;break}for(o=0;o<n;o++)r=o===e,a=i[o],l=a.module,r&&"Function"===Neo.typeOf(l)&&(a=await d.loadModule(a,o)),a instanceof Neo.core.Base&&(p=a.wrapperCls,s.Z.remove(p,r?m.inactiveItemCls:m.activeItemCls),s.Z.add(p,r?m.activeItemCls:m.inactiveItemCls),h||y?(a.wrapperCls=p,r?(delete a.vdom.removeDom,a.activate?.()):h&&(a.mounted=!1,a.vdom.removeDom=!0)):a.wrapperCls=p);(h||y)&&u.update()}}applyChildAttributes(e,t,o=!1){let r=this,a=r.activeIndex===t,i=r.constructor,n=e.wrapperCls,l=e.vdom;s.Z.add(n,i.itemCls),s.Z.add(n,a?i.activeItemCls:i.inactiveItemCls),!o&&r.removeInactiveCards?(e.wrapperCls=n,l.removeDom=!a,e.update()):e.wrapperCls=n}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Card: applyRenderAttributes -> container not yet created",this.containerId),s.Z.add(t,"neo-layout-card"),e.wrapperCls=t}async loadModule(e,t){let o,r,a=this,i=a.containerId,n=Neo.getComponent(i)||Neo.get(i),s=n.items,l=a.constructor,p=n.vdom,d=e.module;return Neo.isNumber(t)||(t=s.indexOf(e)),e.isLoading=!0,d=await d(),d=d.default,o=d.prototype,r=e.wrapperCls||o.constructor.config.wrapperCls||[],e.className=o.className,e.wrapperCls=[...r,l.itemCls],e.module=d,delete e.isLoading,delete e.vdom,s[t]=e=Neo.create(e),a.removeInactiveCards&&(e.vdom.removeDom=!0),n.fire("cardLoaded",{item:e}),p.cn[t]=e.vdom,e}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Card: removeRenderAttributes -> container not yet created",this.containerId),s.Z.remove(t,"neo-layout-card"),e.wrapperCls=t}});Neo.applyClassConfig(class extends n{static config={className:"Neo.layout.Fit",ntype:"layout-fit"};applyChildAttributes(e,t){e.ignoreLayout||(e.wrapperCls=s.Z.union(e.wrapperCls,"neo-layout-fit-item"))}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Fit: applyRenderAttributes -> container not yet created",this.containerId),s.Z.add(t,"neo-layout-fit"),e.wrapperCls=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Fit: removeRenderAttributes -> container not yet created",this.containerId),s.Z.remove(t,"neo-layout-fit"),e.wrapperCls=t}});Neo.applyClassConfig(class extends n{static config={className:"Neo.layout.Grid",ntype:"layout-grid"};applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.wrapperCls||[];e||Neo.logError("layout.Grid: applyRenderAttributes -> container not yet created",this.containerId),s.Z.add(t,"neo-layout-grid"),e.wrapperCls=t}});class l extends n{static alignValues=["center","end","start","stretch",null];static directionValues=["column","column-reverse","row","row-reverse",null];static packValues=["center","end","start",null];static wrapValues=["nowrap","wrap","wrap-reverse"];static config={className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"};afterSetAlign(e,t){t&&this.updateInputValue(e,t,"align")}afterSetDirection(e,t){t&&this.updateInputValue(e,t,"direction")}afterSetPack(e,t){t&&this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){t&&this.updateInputValue(e,t,"wrap")}applyChildAttributes(e){let t=e.wrapperStyle,o=t.flex||e.flex||("stretch"===this.align?1:"0 1 auto");1===o&&(o="1 1 auto"),t.flex=o,e.wrapperStyle=t}applyRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),o=e.prefix,r=t?.wrapperCls||[];t||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),s.Z.add(r,o+"container"),e.align&&s.Z.add(r,o+"align-"+e.align),e.direction&&s.Z.add(r,o+"direction-"+e.direction),e.pack&&s.Z.add(r,o+"pack-"+e.pack),e.wrap&&s.Z.add(r,o+"wrap-"+e.wrap),t.wrapperCls=r}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e){let t=e.wrapperStyle||{};t.flex=e.flex||null,e.wrapperStyle=t}removeRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),o=e.prefix,r=t?.wrapperCls||[];t||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),s.Z.remove(r,o+"container"),e.align&&s.Z.remove(r,o+"align-"+e.align),e.direction&&s.Z.remove(r,o+"direction-"+e.direction),e.pack&&s.Z.remove(r,o+"pack-"+e.pack),e.wrap&&s.Z.remove(r,o+"wrap-"+e.wrap),t.wrapperCls=r}testInputValue(e,t,o,r){const a=this.getStaticConfig(o);return s.Z.hasItem(a,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+r+'" are',a),t)}updateInputValue(e,t,o){let r=Neo.getComponent(this.containerId),a=this.prefix,i=r?.wrapperCls;r?.rendered&&(s.Z.remove(i,a+o+"-"+t),null!==e&&s.Z.add(i,a+o+"-"+e),r.wrapperCls=i)}}Neo.applyClassConfig(l);const p=l;Neo.applyClassConfig(class extends p{static config={className:"Neo.layout.HBox",ntype:"layout-hbox",direction:"row"};applyChildAttributes(e){!e.width&&super.applyChildAttributes(e)}});Neo.applyClassConfig(class extends p{static config={className:"Neo.layout.VBox",ntype:"layout-vbox",direction:"column"};applyChildAttributes(e){!e.height&&super.applyChildAttributes(e)}}),o(8041);class d extends r.Z{static config={className:"Neo.container.Base",ntype:"container",baseCls:["neo-container"],itemDefaults_:null,items_:[],layout_:{ntype:"vbox",align:"stretch"},_vdom:{cn:[]}};add(e){let t=this;return t.insert(t.items?t.items.length:0,e)}afterSetAppName(e,t){let o=this;super.afterSetAppName(e,t),e&&o.items&&o.items.forEach((t=>{Neo.isObject(t)&&(t.appName=e)})),e&&o.layout&&(o.layout.appName=e)}afterSetLayout(e,t){this.rendered&&(t.removeRenderAttributes(),e.applyRenderAttributes(),this.items.forEach(((o,r)=>{t.removeChildAttributes(o,r),e.applyChildAttributes(o,r)})))}afterSetMounted(e,t){super.afterSetMounted(e,t),void 0!==t&&setTimeout((()=>{let t=this.items,o=0,r=t.length;for(;o<r;o++)t[o].vdom.removeDom||(t[o].mounted=e)}),1)}afterSetRendering(e,t){if(void 0!==t){let t=this.items,o=0,r=t.length;for(;o<r;o++)t[o].vdom.removeDom||(t[o].rendering=e)}}beforeSetLayout(e,t){return this.createLayout(e)}createItem(e,t){let o,a,i=this,n={appName:i.appName,parentId:i.id,parentIndex:t},s={...i.itemDefaults};switch(s&&(e.module&&delete s.ntype,e.ntype&&delete s.module),Neo.typeOf(e)){case"NeoClass":e=Neo.create({...s,module:e,...n});break;case"NeoInstance":e.set(n),e.getController()?.parseConfig(e),e.getModel()?.parseConfig(e);break;case"Object":s&&Neo.assignDefaults(e,s),e.module||e.ntype||e.className||(e.module=r.Z),a=e.module,o=a&&!a.isClass&&Neo.isFunction(a),a&&!o&&(e.className=a.prototype.className),"this"===e.handlerScope&&(e.handlerScope=i,"String"===Neo.typeOf(e.handler)&&"Function"===Neo.typeOf(i[e.handler])&&(e.handler=i[e.handler])),Object.assign(e,n),o?e.vdom=Object.assign(e.vdom||{},{removeDom:!0}):e=Neo[e.className?"create":"ntype"](e);break;case"String":e=Neo.create({module:r.Z,vdom:{innerHTML:e},...n})}return e}createItems(){let e=this,t=e._items,o=e.getVdomItemsRoot(),r=e.layout;o.cn=[],t.forEach(((a,i)=>{t[i]=a=e.createItem(a,i),a instanceof Neo.core.Base&&r.applyChildAttributes(a,i),o.cn.push(a.vdom)})),e.update()}createLayout(e){let t=this;return e&&(e instanceof n&&e.isLayout?(e.appName=t.appName,e.containerId=t.id):((e=t.parseLayoutClass(e)).appName=t.appName,e.containerId=t.id,e=Neo.ntype(e))),e}destroy(e=!1,t=!1){this.items.forEach((e=>{e.destroy?.(!1,!0)})),super.destroy(e,t)}getVdomItemsRoot(){return this.getVdomRoot()}indexOf(e){let t=this,o=0,r=t.items?.length||0;for(Neo.isString(e)||(e=e.id);o<r;o++)if(t.items[o].id===e)return o;return-1}insert(e,t,o=!1){let r,a,i,n=this,s=n.items;if(Array.isArray(t)){for(r=0,a=t.length,i=[];r<a;r++)i.unshift(n.insert(e,t[a-1-r],!0));t=i}else t=n.createItem(t,e),n.layout.applyChildAttributes(t,e,!0),s.splice(e,0,t),n.items=s,n.getVdomItemsRoot().cn.splice(e,0,t.vdom);return o||n.promiseVdomUpdate().then((()=>{n.fire("insert",{index:e,item:t})})),t}mergeConfig(...e){let t=super.mergeConfig(...e);return t.itemDefaults&&(this._itemDefaults=Neo.clone(t.itemDefaults,!0,!0),delete t.itemDefaults),t.items&&(this._items=Neo.clone(t.items,!0,!0),delete t.items),t}moveTo(e,t){let o=this.items[e];return e!==t&&this.switchItems(t,e),o}onConstructed(){let e=this;e._layout=e.createLayout(e.layout),e._layout.applyRenderAttributes(),super.onConstructed(),e.parseItemConfigs(e.items),e.createItems()}parseLayoutClass(e){return Neo.isObject(e)?e.ntype.indexOf("layout-")<0&&(e.ntype="layout-"+e.ntype):e=e.indexOf("layout-")<0?{ntype:"layout-"+e}:{ntype:e},e}remove(e,t=!0,o=!1){let r=[...this.items],a=0,i=r.length;for(;a<i;a++)r[a].id===e.id&&this.removeAt(a,t,o)}removeAll(e=!0,t=!1){let o=this;o.items.forEach((t=>{e?t.destroy(!0,!0):t.mounted=!1})),o.items=[],o.getVdomItemsRoot().cn=[],t&&!e||o.update()}removeAt(e,t=!0,o=!1){let r,a=this,i=a.items,n=a.vdom;e>=i.length?Neo.warn("Container.removeAt: index >= items.length. "+a.id):(r=i[e],i.splice(e,1),a.getVdomItemsRoot().cn.splice(e,1),a[o||t?"_vdom":"vdom"]=n,t?r.destroy(!0,o):r.mounted=!1)}removeLast(e=!0,t=!1){this.removeAt(this.items.length-1,e,t)}replaceAt(e,t,o=!0,r=!1){this.removeAt(e,o,!0),this.insert(e,t,r)}switchItems(e,t){let o=this,r=Neo.isNumber(e)?e:o.indexOf(e),a=Neo.isNumber(t)?t:o.indexOf(t);s.Z.move(o.items,a,r),s.Z.move(o.getVdomItemsRoot().cn,a,r),o.update()}}Neo.applyClassConfig(d);const c=d}}]);