"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[5542],{5542:(t,e,a)=>{a.d(e,{Z:()=>v});var n=a(9119),o=a(7921),i=a(5031);class r extends i.Z{static config={className:"Neo.tab.header.Toolbar",ntype:"tab-header-toolbar",baseCls:["neo-tab-header-toolbar","neo-toolbar"],useActiveTabIndicator_:!0};afterSetSortable(t,e){let n=this;t&&!n.sortZone&&a.e(6638).then(a.bind(a,6638)).then((t=>{n.sortZone=Neo.create({module:t.default,appName:n.appName,boundaryContainerId:n.id,owner:n,...n.sortZoneConfig})}))}afterSetUseActiveTabIndicator(t,e){if(void 0!==e){let e=this;e.items.forEach((e=>{e._useActiveTabIndicator=t,e.updateUseActiveTabIndicator(!0)})),e.update()}}createItems(){let t=this,e=t.itemDefaults||{};e.useActiveTabIndicator=t.useActiveTabIndicator,t.itemDefaults=e,super.createItems()}getLayoutConfig(){let t;switch(this.dock){case"bottom":case"top":t={ntype:"hbox",align:"center",pack:"start"};break;case"left":t={ntype:"vbox",align:"center",direction:"column-reverse",pack:"end"};break;case"right":t={ntype:"vbox",align:"center",direction:"column",pack:"start"}}return t}moveTo(t,e){let a=super.moveTo(t,e);return t!==e&&this.items.forEach(((t,e)=>{t.index=e})),a}}Neo.applyClassConfig(r);const s=r;var c=a(5328),d=a(4022);class l extends d.Z{static config={className:"Neo.tab.Strip",ntype:"tab-strip",baseCls:["neo-tab-strip"],tabContainerId:null,useActiveTabIndicator_:!0,_vdom:{cn:[{cls:["neo-active-tab-indicator"]}]}};afterSetUseActiveTabIndicator(t,e){if(void 0!==e){let e=this;e.vdom.cn[0].removeDom=!t,e.mounted&&t?e.getActiveTabRectThenMove():e.update()}}getActiveTabRectThenMove(t){let e=this,a=[],n=e.getTabContainer();e.vnode&&(t?a.push(n.getTabAtIndex(t.value),n.getTabAtIndex(t.oldValue)):a.push(n.getTabAtIndex(n.activeIndex)),a=a.map((t=>t?.id)).filter(Boolean),e.useActiveTabIndicator&&e.getDomRect(a).then((t=>{e.moveActiveIndicator(t)})))}getTabContainer(){return Neo.getComponent(this.tabContainerId)}moveActiveIndicator(t){let e,a,n=this,o=t[1]||t[0];if(n.useActiveTabIndicator){switch(e=n.vdom.cn[0],a=n.getTabContainer(),a.tabBarPosition){case"bottom":case"top":e.style={height:null,left:`${o.left}px`,top:null,width:`${o.width}px`};break;case"left":case"right":e.style={height:`${o.height}px`,left:null,top:`${o.top}px`,width:null}}t[1]?(e.style.opacity=0,n.update(),setTimeout((()=>{n.moveActiveIndicator([t[0]])}),50)):(e.style.opacity=1,n.update(),setTimeout((()=>{e.style.opacity=0,n.update()}),300))}}onConstructed(){super.onConstructed();let t=this;t.getTabContainer().on({activeIndexChange:t.getActiveTabRectThenMove,scope:t})}}Neo.applyClassConfig(l);const b=l;class u extends n.Z{static tabBarPositions=["top","right","bottom","left"];static config={className:"Neo.tab.Container",ntype:"tab-container",activeIndex_:0,activateInsertedTabs:!1,baseCls:["neo-tab-container"],cardContainerId:null,contentContainerDefaults:null,headerToolbarDefaults:null,plain_:!0,removeInactiveCards:!0,sortable_:!1,tabBarId:null,tabStripDefaults:null,tabStripId:null,tabBarPosition_:"top",tabContainerCls:"neo-tab-container",useActiveTabIndicator_:!0};add(t){return this.insert(this.getTabBar().items.length,t)}async afterSetActiveIndex(t,e){let a=this,n=Neo.getComponent(a.cardContainerId);Neo.isNumber(t)&&t>-1&&!n?a.on("constructed",(()=>{a.afterSetActiveIndex(t,e)})):Neo.isNumber(t)&&t>-1&&(n.layout._activeIndex=t,await n.layout.afterSetActiveIndex(t,e),void 0!==e&&(a.updateTabButtons(),a.fire("activeIndexChange",{item:a.getActiveCard(),oldValue:e,value:t})))}afterSetPlain(t,e){let a=this,n=a.cls;c.Z[t?"unshift":"remove"](n,a.tabContainerCls+"-plain"),a.cls=n}afterSetSortable(t,e){void 0!==e&&(this.getTabBar().sortable=t)}afterSetTabBarPosition(t,e){let a=this,n=a.cls;c.Z.remove(n,"neo-"+e),c.Z.add(n,"neo-"+t),a.cls=n,a.rendered&&(a.layout=a.getLayoutConfig(),a.getTabBar().dock=t,a.getTabStrip().cls=["neo-tab-strip","neo-dock-"+t],a.fire("tabBarPositionChange",{component:a,oldValue:e,value:t}))}afterSetUseActiveTabIndicator(t,e){void 0!==e&&(this.getTabBar().useActiveTabIndicator=t,this.getTabStrip().useActiveTabIndicator=t)}beforeSetTabBarPosition(t,e){return this.beforeSetEnumValue(t,e,"tabBarPosition")}createItems(){let t=this,e=t.items||[],a=[],n=[];Object.assign(t,{cardContainerId:t.cardContainerId||Neo.getId("container"),tabBarId:t.tabBarId||Neo.getId("tab-header-toolbar"),tabStripId:t.tabStripId||Neo.getId("tab-strip")}),e.forEach(((e,o)=>{a.push(t.getTabButtonConfig(e.tabButtonConfig,o)),e instanceof Neo.component.Base||(e={flex:1,...t.itemDefaults,isTab:!0,...e}),n.push(e)})),t.items=[{module:s,dock:t.tabBarPosition,flex:"none",id:t.tabBarId,items:a,sortable:t.sortable,useActiveTabIndicator:t.useActiveTabIndicator,...t.headerToolbarDefaults},{module:b,cls:["neo-tab-strip","neo-dock-"+t.tabBarPosition],flex:"none",id:t.tabStripId,tabContainerId:t.id,useActiveTabIndicator:t.useActiveTabIndicator,...t.tabStripDefaults},{ntype:"container",cls:["neo-container","neo-tab-content-container"],id:t.cardContainerId,itemDefaults:t.itemDefaults,items:n,layout:{ntype:"card",activeIndex:t.activeIndex,removeInactiveCards:t.removeInactiveCards},useActiveTabIndicator:t.useActiveTabIndicator,...t.contentContainerDefaults}],t.itemDefaults=null,super.createItems()}getActiveCard(){return this.getCardContainer().items[this.activeIndex]||null}getCard(t){return this.getCardContainer().items[t]||null}getCardContainer(){return Neo.getComponent(this.cardContainerId)}getCount(){return this.getTabBar().items.length}getLayoutConfig(){let t=null;switch(this.tabBarPosition){case"bottom":t={ntype:"vbox",align:"stretch",direction:"column-reverse",pack:"start"};break;case"left":t={ntype:"hbox",align:"stretch",direction:"row",pack:"start"};break;case"right":t={ntype:"hbox",align:"stretch",direction:"row-reverse",pack:"start"};break;case"top":t={ntype:"vbox",align:"stretch"}}return t}getTabAtIndex(t){return this.getTabBar().items[t]||null}getTabBar(){return Neo.getComponent(this.tabBarId)}getTabButtonConfig(t,e){let a=this;return{module:o.Z,flex:"none",index:e,pressed:a.activeIndex===e,domListeners:[{click:function(t){a.activeIndex=t.component.index},scope:a}],...t}}getTabStrip(){return Neo.getComponent(this.tabStripId)}insert(t,e,a=!1){let n,o,i,r,s,c,d=this,l=d.getCardContainer(),b=d.getTabBar(),u=!1;if(Array.isArray(e)){for(n=0,o=e.length,i=[];n<o;n++)i.unshift(d.insert(t,e[o-1-n],!0));r=i}else if("object"==typeof e){for(n=0,o=l.items.length;n<o;n++)if(l.items[n].id===e.id){u=!0,r=l.items[n],d.activateInsertedTabs&&(d.activeIndex=n);break}if(!u){for(c=e.tabButtonConfig,s=b.insert(t,d.getTabButtonConfig(c,t)),n=0,o=b.items.length;n<o;n++)b.items[n].index=n;e.flex=1,r=l.insert(t,e,a),d.activateInsertedTabs&&(d.vnode?s.on("mounted",d.onTabButtonMounted,d):d.activeIndex=t)}}return!a&&d.updateTabButtons(),r}moveTo(t,e){let a,n,o=this,i=o.getCardContainer(),r=o.getTabBar(),s=r.items[o.activeIndex];return r.moveTo(t,e),a=s.index,a!==o.activeIndex&&(o._activeIndex=a,i.layout._activeIndex=a),n=i.moveTo(t,e),o.fire("moveTo",{fromIndex:t,toIndex:e}),n}onConstructed(){this._layout=this.getLayoutConfig(),super.onConstructed()}onTabButtonMounted(t){let e,a,n=this,o=n.getCardContainer(),i=n.getTabBar(),r=0,s=i.items.length,c=-1;for(;r<s;r++)if(i.items[r].id===t){c=r;break}c>-1&&(e=o.items[c],n.vnode&&!e.mounted?a=e.on("mounted",(()=>{e.un("mounted",a),n.activeIndex=c})):n.activeIndex=c)}remove(t,e=!0,a=!1){let n=[...this.getCardContainer().items],o=0,i=n.length;for(;o<i;o++)n[o].id===t.id&&this.removeAt(o,e,a)}removeAt(t,e=!0,a=!1){let n,o,i=this,r=i.activeIndex,s=i.getCardContainer(),c=i.getTabBar();for(s.removeAt(t,e,a),c.removeAt(t,!0,!1),t<r?(i._activeIndex=r-1,s.layout._activeIndex=r-1):t===r&&(i.activeIndex=r-1),n=0,o=c.items.length;n<o;n++)c.items[n].index=n}updateTabButtons(){let t=this.activeIndex;(this.getTabBar().items||[]).forEach(((e,a)=>{e.pressed=a===t}))}}Neo.applyClassConfig(u);const v=u},7921:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(1509);class o extends n.Z{static config={className:"Neo.tab.header.Button",ntype:"tab-header-button",baseCls:["neo-tab-header-button","neo-button"],useActiveTabIndicator_:!0,_vdom:{tag:"button",type:"button",cn:[{tag:"span",cls:["neo-button-glyph"]},{tag:"span",cls:["neo-button-text"]},{cls:["neo-button-badge"]},{cls:["neo-button-ripple-wrapper"],cn:[{cls:["neo-button-ripple"]}]},{cls:["neo-tab-button-indicator"]}]}};afterSetUseActiveTabIndicator(t,e){this.updateUseActiveTabIndicator()}showRipple(t){!this.pressed&&super.showRipple(t)}updateUseActiveTabIndicator(t=!1){let e=this,a=e.vdom;a.cn[4].removeDom=!e.useActiveTabIndicator,e[t?"_vdom":"vdom"]=a}}Neo.applyClassConfig(o);const i=o}}]);