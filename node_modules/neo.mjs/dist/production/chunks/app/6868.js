"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6868],{6868:(e,t,l)=>{l.r(t),l.d(t,{onStart:()=>h}),l(3216);var s=l(2309),o=(l(6785),l(5262),l(5959)),n=l(2281);class i extends n.Z{static config={className:"Neo.examples.tableStore.MainModel",fields:[{name:"country",type:"string"},{name:"firstname",type:"string"},{name:"githubId",type:"string"},{name:"lastname",type:"string"}]}}Neo.applyClassConfig(i);const a=i;class d extends o.Z{static config={className:"Neo.examples.tableStore.MainStore",keyProperty:"githubId",model:a,data:[{country:"Germany",firstname:"Tobias",githubId:"tobiu",lastname:"Uhlig"},{country:"USA",firstname:"Rich",githubId:"rwaters",lastname:"Waters"},{country:"Germany",firstname:"Nils",githubId:"mrsunshine",lastname:"Dehl"},{country:"USA",firstname:"Gerard",githubId:"camtnbikerrwc",lastname:"Horan"},{country:"Slovakia",firstname:"Jozef",githubId:"jsakalos",lastname:"Sakalos"},{country:"Germany",firstname:"Bastian",githubId:"bhaustein",lastname:"Haustein"}]}}Neo.applyClassConfig(d);const c=d;l(8031),l(3310);var r=l(7613),m=l(1345);class u extends m.Z{static config={className:"Neo.examples.tableStore.MainContainer",layout:{ntype:"vbox",align:"stretch"},style:{padding:"20px"},items:[{ntype:"toolbar",flex:"0 1 auto",style:{marginBottom:"5px",padding:0},items:[{ntype:"label",style:{margin:"4px 10px 0 5px"},text:"Table & Store (Click or Drag Table Headers)"},{ntype:"component",flex:1},{ntype:"button",iconCls:"fa fa-edit",style:{marginRight:"10px"},text:"Change Cell Value",handler:function(){let e=Neo.getComponent("myTableStoreContainer").store.items[0];e.firstname=e.firstname+'<span style="color:red;"> Foo</span>'}},{ntype:"button",iconCls:"fa fa-edit",style:{marginRight:"10px"},text:"Update all cells 100x",handler:function(){let e,t,l,s=Neo.getComponent("myTableStoreContainer").store,o=s.getCount(),n=0,i='<span style="color:red;">Foo</span> ',a='<span style="color:blue;">Bar</span> ';for(;n<100;n++)for(e=0;e<o;e++)l=s.items[e],Object.entries(l).forEach((([e,s])=>{"githubId"!==e&&(t=s.includes(i)?s.replace(i,a):s.includes(a)?s.replace(a,i):i+s,l[e]=t)}))}},{ntype:"button",iconCls:"fa fa-sync-alt",text:"Reset Sorting",handler:function(){Neo.getComponent("myTableStoreContainer").store.sort()}}]},{ntype:"toolbar",flex:"0 1 auto",style:{marginBottom:"10px",padding:0},items:[{ntype:"label",text:"Selection Model:",style:{margin:"0 10px 0 5px"}},{ntype:"radiofield",checked:!0,hideLabel:!0,hideValueLabel:!1,name:"selectionModel",value:"selection-table-cellmodel",valueLabelText:"Cell",listeners:{change:function(e){e.value&&(Neo.getComponent("myTableStoreContainer").selectionModel={ntype:this.value})}}},{ntype:"radiofield",hideLabel:!0,hideValueLabel:!1,name:"selectionModel",style:{marginLeft:"20px"},value:"selection-table-columnmodel",valueLabelText:"Column",listeners:{change:function(e){e.value&&(Neo.getComponent("myTableStoreContainer").selectionModel={ntype:this.value})}}},{ntype:"radiofield",hideLabel:!0,hideValueLabel:!1,name:"selectionModel",style:{marginLeft:"20px"},value:"selection-table-rowmodel",valueLabelText:"Row",listeners:{change:function(e){e.value&&(Neo.getComponent("myTableStoreContainer").selectionModel={ntype:this.value})}}},{ntype:"radiofield",hideLabel:!0,hideValueLabel:!1,name:"selectionModel",style:{marginLeft:"20px"},value:"selection-table-cellcolumnmodel",valueLabelText:"Cell & Column",listeners:{change:function(e){e.value&&(Neo.getComponent("myTableStoreContainer").selectionModel={ntype:this.value})}}},{ntype:"radiofield",hideLabel:!0,hideValueLabel:!1,name:"selectionModel",style:{marginLeft:"20px"},value:"selection-table-cellrowmodel",valueLabelText:"Cell & Row",listeners:{change:function(e){e.value&&(Neo.getComponent("myTableStoreContainer").selectionModel={ntype:this.value})}}}]},{module:r.Z,id:"myTableStoreContainer",selectionModel:s.Z,store:c,width:"100%",wrapperStyle:{height:"300px"},columns:[{dataField:"firstname",text:"Firstname"},{dataField:"lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"country",text:"Country"}]}]}}Neo.applyClassConfig(u);const p=u,h=()=>Neo.app({mainView:p,name:"Neo.examples.tableStore"})},6020:(e,t,l)=>{l.d(t,{Z:()=>i});var s=l(9375),o=l(5328);l(2544);class n extends s.Z{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,l=this.items,s){let n,i=this.view,a=i.getVdomChild(e);a&&(n=a.cls||[],o.Z.remove(n,s||this.selectedCls),a.cls=n),o.Z.remove(l,e),!t&&i.update()}deselectAll(e){let t=this,l=[...t.items],s=t.view;l.forEach((e=>{t.deselect(e,!0)})),!e&&l.length>0&&s.update()}destroy(){this.unregister(),super.destroy()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,l=e.cls||[];t.cls&&!l.includes(t.cls)&&(l.push(t.cls),e.cls=l),t.view=e,t.addDomListener()}removeDomListeners(){let e=this,t=e.view,l=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&o.Z.remove(l,t)})),t.domListeners=l}select(e,t=this.items,l){e=Array.isArray(e)?e:[e];let s,n=this,i=n.view,a=i.vdom;Neo.isEqual(t,e)||(n.singleSelect&&n.deselectAll(!0),e.forEach((e=>{"string"==typeof e&&(e=i.getVdomChild(e)),e&&(s=e.cls||[],o.Z.add(s,l||n.selectedCls),e.cls=s)})),o.Z.add(t,e),i[i.silentSelect?"_vdom":"vdom"]=a,i.onSelect?.(e))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(o.Z.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}Neo.applyClassConfig(n);const i=n},3216:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(2309),o=l(5262),n=l(6500);class i extends s.Z{static config={className:"Neo.selection.table.CellColumnModel",ntype:"selection-table-cellcolumnmodel",cls:"neo-selection-cellcolumnmodel",selectedColumnCellCls:"selected-column-cell",selectedColumnCellIds:null};construct(e){super.construct(e),this.selectedColumnCellIds=[]}deselectAllCells(e){let t=this,l=[...t.selectedColumnCellIds],s=t.view;l.forEach((e=>{t.deselect(e,!0,t.selectedColumnCellIds,t.selectedColumnCellCls)})),!e&&s.update()}onCellClick(e){let t,l,s,i=this,a=o.Z.getCellId(e.path);a&&(l=o.Z.getColumnIndex(a,i.view.items[0].items),s=n.Z.findVdomChild(i.view.vdom,{tag:"tbody"}).vdom,t=n.Z.getColumnNodesIds(s,l),i.deselectAllCells(!0),i.select(t,i.selectedColumnCellIds,i.selectedColumnCellCls)),super.onCellClick(e)}onNavKeyColumn(e,t){let l,s,i=this,a=o.Z.getCellId(e.path).split("__")[2],d=i.view.columns.map((e=>e.dataField)),c=(d.indexOf(a)+t)%d.length;for(;c<0;)c+=d.length;s=n.Z.findVdomChild(i.view.vdom,{tag:"tbody"}).vdom,l=n.Z.getColumnNodesIds(s,c),i.deselectAllCells(!0),i.select(l,i.selectedColumnCellIds,i.selectedColumnCellCls),super.onNavKeyColumn(e,t)}unregister(){this.deselectAllCells(),super.unregister()}}Neo.applyClassConfig(i);const a=i},6785:(e,t,l)=>{l.d(t,{Z:()=>d});var s=l(2309),o=l(5328),n=l(3310),i=l(6500);class a extends s.Z{static config={className:"Neo.selection.table.CellRowModel",ntype:"selection-table-cellrowmodel",cls:"neo-selection-cellrowmodel",selectedRowIds:null};construct(e){super.construct(e),this.selectedRowIds=[]}deselectAllRows(e){let t=this,l=[...t.selectedRowIds],s=t.view;l.forEach((e=>{t.deselectRow(e,!0)})),!e&&s.update()}deselectRow(e,t){let l,s=this,n=s.view,i=n.getVdomChild(e);i&&(l=i.cls||[],o.Z.remove(l,s.selectedCls),i.cls=l),o.Z.remove(s.selectedRowIds,e),!t&&n.update()}onCellClick(e){let t=n.Z.getRowNode(e.path),l=t?.id;l&&(this.deselectAllRows(!0),this.selectRow(l)),super.onCellClick(e)}onNavKeyRow(e,t){super.onNavKeyRow(e,t);let l,s=this,o=n.Z.getRowNode(e.path),a=s.view,d=a.store,c=i.Z.findVdomChild(a.vdom,o.id),r=(c.index+t)%d.getCount(),m=c.parentNode;for(;r<0;)r+=d.getCount();l=m.cn[r].id,l&&(s.deselectAllRows(!0),s.selectRow(l))}selectRow(e,t){let l,s=this,n=s.view,i=e&&n.getVdomChild(e);i&&(l=i.cls||[],o.Z.add(l,s.selectedCls),i.cls=l,s.selectedRowIds.push(e)),!t&&n.update()}unregister(){this.deselectAllRows(),super.unregister()}}Neo.applyClassConfig(a);const d=a},5262:(e,t,l)=>{l.d(t,{Z:()=>i});var s=l(6020),o=l(6500);class n extends s.Z{static config={className:"Neo.selection.table.ColumnModel",ntype:"selection-table-columnmodel",cls:"neo-selection-columnmodel"};addDomListener(){let e=this;e.view.addDomListeners({click:e.onCellClick,delegate:".neo-table-cell",scope:e})}static getCellId(e){let t=null,l=0,s=e.length;for(;l<s;l++)if("td"===e[l].tagName){t=e[l].id;break}return t}static getColumnIndex(e,t){let l=e.split("__")[2];return t.map((e=>e.dataField)).indexOf(l)}onCellClick(e){let t,l,s,i=this,a=n.getCellId(e.path);a&&(l=n.getColumnIndex(a,i.view.items[0].items),s=o.Z.findVdomChild(i.view.vdom,{tag:"tbody"}).vdom,t=o.Z.getColumnNodesIds(s,l),i.select(t))}onKeyDownLeft(e){this.onNavKeyColumn(e,-1)}onKeyDownRight(e){this.onNavKeyColumn(e,1)}onNavKeyColumn(e,t){let l,s,i,a=this,d=n.getCellId(e.path).split("__"),c=d[2],r=a.view,m=r.columns.map((e=>e.dataField)),u=(m.indexOf(c)+t)%m.length;for(;u<0;)u+=m.length;d[2]=m[u],s=d.join("__"),i=o.Z.findVdomChild(a.view.vdom,{tag:"tbody"}).vdom,l=o.Z.getColumnNodesIds(i,u),a.select(l),r.focus(s)}register(e){super.register(e);let t=this.id,l=this.view;l.keys?._keys.push({fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t})}unregister(){let e=this.id,t=this.view;t.keys?.removeKeys([{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e}]),super.unregister()}}Neo.applyClassConfig(n);const i=n}}]);