"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[1126],{1126:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>f});var o=n(4022),a=n(3846);class l extends a.Z{static config={className:"NeoApp.view.MainComponentController"};onButtonClick(e){let t=this.getReference("table");switch(e.path[0].id){case"add":t.add();break;case"clear":t.clear();break;case"runlots":t.runlots()}}}Neo.applyClassConfig(l);const r=l;var s=n(395),c=n(6351);function d(e){return Math.round(1e3*Math.random())%e}class i extends c.Z{static config={className:"NeoApp.TableCollection",idCounter:1};buildData(e=1e3){let t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],a=[],l=0;for(;l<e;l++)a.push({id:this.idCounter++,label:t[d(t.length)]+" "+n[d(n.length)]+" "+o[d(o.length)]});return a}}Neo.applyClassConfig(i);const p=i;class m extends o.Z{static config={className:"NeoApp.view.TableComponent",baseCls:["table","table-hover","table-striped","test-data"],store_:p,_vdom:{tag:"table",cn:[{tag:"tbody",id:"tbody",cn:[]}]}};construct(e){super.construct(e),Neo.main.addon.CloneNode.createNode({id:this.id,tag:"tr",html:['<td class="col-md-1"></td>','<td class="col-md-4"><a class="lbl"></a></td>','<td class="col-md-1"><a class="remove"><span class="remove glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>','<td class="col-md-6"></td>'].join(""),paths:{id:"0",label:"1/0"}})}add(){let e=this.store,t=e.buildData();e.add(t),Neo.main.addon.CloneNode.applyClones({data:t,id:this.id,parentId:"tbody"})}beforeSetStore(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e)}clear(){let e=this.store;e.getCount()>0&&(e.clear(),Neo.applyDeltas(this.appName,{action:"setTextContent",id:"tbody",value:""}))}createTableRow(e){return{tag:"tr",cn:[{tag:"td",cls:["col-md-1"],html:e.id},{tag:"td",cls:["col-md-4"],cn:[{tag:"a",cls:["lbl"],html:e.label}]},{tag:"td",cls:["col-md-1"],cn:[{tag:"a",cls:["remove"],cn:[{tag:"span",cls:["remove","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}]},{tag:"td",cls:["col-md-6"]}]}}runlots(){let e=this,t=e.store,n=t.buildData(1e4);e.clear(),t.add(n),Neo.main.addon.CloneNode.applyClones({data:n,id:e.id,parentId:"tbody"})}}Neo.applyClassConfig(m);const h=m;var g=n(6500);class u extends o.Z{static config={className:"NeoApp.view.MainComponent",autoMount:!0,baseCls:["container"],controller:r,domListeners:[{click:"onButtonClick",delegate:".btn"}],table:null,_vdom:{cls:["container"],cn:[{cls:["jumbotron"],cn:[{cls:["row"],cn:[{cls:["col-md-6"],cn:[{cls:["row"],cn:[{tag:"h1",html:"neo.mjs"}]}]},{cls:["col-md-6"],cn:[{cls:["row"],flag:"row",cn:[]}]}]}]},{tag:"span",cls:["preloadicon","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}};construct(e){super.construct(e),this.createColumns(),this.createTable()}createColumns(){let e,t=this.vdom,n=g.Z.getByFlag(t,"row"),o=0,a=[{id:"run",html:"Create 1,000 rows"},{id:"runlots",html:"Create 10,000 rows"},{id:"add",html:"Append 1,000 rows"},{id:"update",html:"Update every 10th row"},{id:"clear",html:"Clear"},{id:"swaprows",html:"Swap Rows"}];for(;o<6;o++)e=a[o],n.cn.push({cls:["col-sm-6 smallpad"],cn:[{tag:"button",type:"button",cls:["btn","btn-primary","btn-block"],id:e.id,html:e.html}]})}createTable(){let e=this;e.table=Neo.create({module:h,appName:e.appName,parentId:e.id,reference:"table"}),e.vdom.cn.splice(1,0,e.table.vdom),e.update()}}Neo.applyClassConfig(u);const b=u,f=()=>Neo.app({appPath:"apps/neoapp/",mainView:b,name:"NeoApp",parentId:"main"})},3846:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3106),a=n(8041);class l extends o.Z{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null};construct(e){super.construct(e);let t,n=this,o=n.component;n.references={},o.isConstructed?n.onComponentConstructed():t=o.on("constructed",(()=>{o.un("constructed",t),n.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e){let t=this,n=t.parent;return Neo.isFunction(t[e])?t:n?n.getHandlerScope(e):null}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e,t,n=this;return n.parent?n.parent:(t=n.component.parentId,e=t&&Neo.getComponent(t),e?.getController()||null)}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}onComponentConstructed(){}parseConfig(e=this.component){let t,n,o=this,l=e.handler,r=e.listeners,s=e.reference,c=e.validator;l&&"string"==typeof l&&(n=o.getHandlerScope(l),e.handler=n[l].bind(e.handlerScope||n)),r&&Object.entries(r).forEach((([l,s])=>{"scope"!==l&&"delegate"!==l&&(Neo.isString(s)?(t=s,n=o.getHandlerScope(t),n?(r[l]={},r[l].fn=n[t].bind(n)):a.Z.logError("Unknown event handler for",t,e)):s.forEach((l=>{Neo.isObject(l)&&l.hasOwnProperty("fn")&&Neo.isString(l.fn)&&(t=l.fn,n=o.getHandlerScope(t),n?l.fn=n[t].bind(n):a.Z.logError("Unknown event handler for",t,e))})))})),Neo.isString(c)&&(n=o.getHandlerScope(c),n?e.validator=n[c].bind(n):a.Z.logError("Unknown validator for",e.id,e)),s&&(o.references[s]=e)}parseDomListeners(e=this.component){let t,n,o=this,l=e.domListeners;l&&l.forEach((l=>{Object.entries(l).forEach((([r,s])=>{t=null,"scope"!==r&&"delegate"!==r&&(Neo.isString(s)?t=s:Neo.isObject(s)&&s.hasOwnProperty("fn")&&Neo.isString(s.fn)&&(t=s.fn),t&&(n=o.getHandlerScope(t),n?l[r]=n[t].bind(n):a.Z.logError("Unknown domEvent handler for",t,e)))}))}))}removeReference(e){let t,n=this.references;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}}Neo.applyClassConfig(l);const r=l}}]);