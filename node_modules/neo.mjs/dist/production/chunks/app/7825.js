"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[7825],{7825:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var o=n(9119),s=n(4022),a=n(2281);class l extends a.Z{static config={className:"LearnNeo.model.Content",fields:[{name:"className",type:"String"},{name:"collapsed",type:"Boolean"},{name:"id",type:"Integer"},{name:"isLeaf",type:"Boolean"},{name:"name",type:"String"},{name:"parentId",type:"Integer"},{name:"path",type:"String"}]}}Neo.applyClassConfig(l);const r=l;var i=n(5959);class c extends i.Z{static config={className:"LearnNeo.store.Content",model:r};xonConstructed(){super.onConstructed()}xload(){this.model=r,Neo.Main.getByPath({path:"location.search"}).then((e=>{const t=e?.substr(1)||"",n=t?JSON.parse(`{"${decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"'))}"}`):{};this.deck=n.deck||"learnneo",this.url=`${this.contentPath}/tree.json`,super.load(),console.log(n)}))}get contentPath(){return`../../../resources/data/${this.deck}`}doLoadStore(){const e=this;Neo.Xhr.promiseJson({url:`${this.contentPath}/tree.json`}).then((t=>{e.data=t.json.data}))}}Neo.applyClassConfig(c);const d=c;var p=n(5077);class h extends p.Z{static config={className:"LearnNeo.view.home.ContentTreeList",store:d};onConstructed(){super.onConstructed();let e=this;Neo.Main.getByPath({path:"location.search"}).then((t=>{const n=t?.substr(1)||"",o=n?JSON.parse(`{"${decodeURI(n.replace(/&/g,'","').replace(/=/g,'":"'))}"}`):{};e.deck=o.deck||"learnneo",e.doLoadStore(),console.log(o)}))}get contentPath(){return`../../../resources/data/${this.deck}`}doLoadStore(){const e=this;Neo.Xhr.promiseJson({url:`${this.contentPath}/t.json`}).then((t=>{e.store.data=t.json.data,e.createItems(null,e.getListItemsRoot(),0),e.update()}))}onLeafItemClick(e){super.onLeafItemClick(e),this.doFetchContent(e)}async doFetchContent(e){let t=`${this.contentPath}`;if(t+=e.path?`/pages/${e.path}`:`/p/${e.id}.md`,e.isLeaf&&t){const e=await fetch(t),n=await e.text();Neo.main.addon.Markdown.markdownToHtml(n).then((e=>this.fire("contentChange",{component:this,html:e})),(()=>this.fire("contentChange",{component:this})))}}}Neo.applyClassConfig(h);const m=h;var g=n(3846);class u extends g.Z{static config={className:"LearnNeo.view.home.MainContainerController"};onContentListLeafClick(e){this.getReference("content").html=e.html}get contentPath(){return`../../../resources/data/${this.deck}`}}Neo.applyClassConfig(u);const f=u;var C=n(1758);class N extends C.Z{static config={className:"LearnNeo.view.home.MainContainerModel",data:{},stores:{tree:{module:i.Z,responseRoot:"data"}}}}Neo.applyClassConfig(N);const y=N;var I=n(1722);class L extends o.Z{static config={className:"LearnNeo.view.home.MainContainer",model:y,controller:f,items:[{module:o.Z,layout:"fit",minWidth:350,width:350,items:[{module:m,reference:"tree",listeners:{contentChange:"onContentListLeafClick"}}]},{module:I.Z,resizeTarget:"previous"},{module:s.Z,layout:{ntype:"card",activeIndex:null},cls:"learn-content",reference:"content"}],layout:{ntype:"hbox",align:"stretch"}}}Neo.applyClassConfig(L);const b=L},4327:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(4356);class s extends o.Z{static config={className:"Neo.selection.TreeModel",ntype:"selection-treemodel"};onKeyDownEnter(e){Neo.log("onKeyDownEnter",e)}onNavKey(e,t){Neo.log("onNavKey",e,t)}}Neo.applyClassConfig(s);const a=s},5077:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(9585),s=n(395),a=n(6351),l=n(5328),r=n(4327);class i extends o.Z{static config={className:"Neo.tree.List",ntype:"treelist",baseCls:["neo-tree-list"],disableSelection:!1,dragZone:null,folderCls:"neo-list-folder",showCollapseExpandAllIcons:!0,sortable_:!1,sortZone:null,sortZoneConfig:null,wrapperCls:[],_vdom:{cn:[{tag:"ul",cls:["neo-list-container","neo-list"],tabIndex:-1,cn:[]}]}};afterSetDraggable(e,t){let o=this;e&&(o.sortable?console.error("tree.List can be either draggable or sortable, not both.",o.id):o.dragZone||n.e(2123).then(n.bind(n,2123)).then((e=>{o.dragZone=Neo.create({module:e.default,appName:o.appName,owner:o,...o.dragZoneConfig})})))}afterSetSortable(e,t){let o=this;e&&(o.draggable?console.error("tree.List can be either draggable or sortable, not both.",o.id):o.sortZone||n.e(6308).then(n.bind(n,669)).then((e=>{o.sortZone=Neo.create({module:e.default,appName:o.appName,boundaryContainerId:o.id,owner:o,...o.sortZoneConfig})})))}beforeSetSelectionModel(e,t){return t?.destroy(),s.Z.beforeSetInstance(e,r.Z)}beforeSetStore(e,t){return e||(e=Neo.create(a.Z,{keyProperty:"id"})),super.beforeSetStore(e,t)}collapseAll(e=!1){let t,n=this,o=n.vdom,s=!1;n.store.items.forEach((e=>{e.isLeaf||(t=n.getVdomChild(n.getItemId(e.id),o),t.cls.includes("neo-folder-open")&&(l.Z.remove(t.cls,"neo-folder-open"),s=!0))})),s&&(n[e?"_vdom":"vdom"]=o)}createItems(e,t,n){let o,s,a=this,l=a.store.find("parentId",e),r=a.itemCls,i=a.folderCls;return l.length>0&&(t.cn||(t.cn=[]),null!==e?(t.cn.push({tag:"ul",cls:["neo-list"],cn:[],style:{paddingLeft:"15px"}}),s=t.cn[t.cn.length-1]):s=t,l.forEach((e=>{o=[r],e.isLeaf?o.push(r+(e.singleton?"-leaf-singleton":"-leaf")):(o.push(i),e.collapsed||o.push("neo-folder-open")),s.cn.push({tag:"li",cls:o,id:a.getItemId(e.id),cn:[{tag:"span",cls:[r+"-content",e.iconCls],innerHTML:e.name,style:{pointerEvents:"none"}}],style:{padding:"10px",position:e.isLeaf?null:"sticky",top:e.isLeaf?null:38*n+"px",zIndex:e.isLeaf?null:20/(n+1)}}),s=a.createItems(e.id,s,n+1)}))),t}expandAll(e=!1){let t,n=this,o=n.vdom,s=!1;n.store.items.forEach((e=>{e.isLeaf||(t=n.getVdomChild(n.getItemId(e.id),o),t.cls.includes("neo-folder-open")||(l.Z.add(t.cls,"neo-folder-open"),s=!0))})),s&&(n[e?"_vdom":"vdom"]=o)}filter(e,t,n,o=!1){let s,a,l,r=this,i=!0,c=new RegExp(t,"gi");return t||(t=""),r.store.items.forEach((d=>{d.parentId===n&&(a=!1,l=r.getVdomChild(r.getItemId(d.id),r.vdom),l.cn[0].innerHTML=d[e].replace(c,(e=>(a=!0,`<span class="neo-highlight-search">${e}</span>`))),s=!!d.isLeaf||r.filter(e,t,d.id,a||o),(a||o||!1===s||""===t)&&(i=!1),l.style.display=i?"none":"list-item")})),null===n&&(r.expandAll(!0),r.update()),i}getListItemsRoot(){return this.vdom.cn[this.showCollapseExpandAllIcons?2:0]}onClick(e){e.target.cls.includes("neo-treelist-menu-item")?this.onMenuItemClick(e.target.cls):super.onClick(e)}onConstructed(){super.onConstructed();let e=this;e.showCollapseExpandAllIcons&&(e.vdom.cn.unshift({cls:["neo-treelist-menu-item","neo-treelist-collapse-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]},{cls:["neo-treelist-menu-item","neo-treelist-expand-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]}),e.update())}onItemClick(e,t){let n,o,s,a,r=this,i=r.store.items,c=0,d=i.length,p=t.path.map((e=>e.id));for(;c<d;c++)if(s=i[c],a=r.getItemId(s.id),p.includes(a)){o=s,n=r.getVdomChild(a);break}n&&(n.cls?.includes(r.folderCls)?(l.Z.toggle(n.cls,"neo-folder-open"),r.update()):(r.onLeafItemClick(o),r.fire("leafItemClick",o)),super.onItemClick(e,t))}onLeafItemClick(e){}onMenuItemClick(e){e.includes("neo-treelist-collapse-all-icon")?this.collapseAll():this.expandAll()}}Neo.applyClassConfig(i);const c=i}}]);