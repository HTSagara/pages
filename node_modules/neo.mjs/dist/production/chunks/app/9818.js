"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[9818],{9818:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>f});var o=n(5608),a=n(5800);class r extends a.A{static config={className:"NeoApp.view.MainComponentController"};onButtonClick(e){let t=this.getReference("table");switch(e.path[0].id){case"add":t.add();break;case"clear":t.clear();break;case"runlots":t.runlots()}}}const l=Neo.setupClass(r);var s=n(2778),c=n(1058);function d(e){return Math.round(1e3*Math.random())%e}class i extends c.A{static config={className:"NeoApp.TableCollection",idCounter:1};buildData(e=1e3){let t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],a=[],r=0;for(;r<e;r++)a.push({id:this.idCounter++,label:t[d(t.length)]+" "+n[d(n.length)]+" "+o[d(o.length)]});return a}}const p=Neo.setupClass(i);class h extends o.A{static config={className:"NeoApp.view.TableComponent",baseCls:["table","table-hover","table-striped","test-data"],store_:p,_vdom:{tag:"table",cn:[{tag:"tbody",id:"tbody",cn:[]}]}};construct(e){super.construct(e),Neo.main.addon.CloneNode.createNode({id:this.id,tag:"tr",html:['<td class="col-md-1"></td>','<td class="col-md-4"><a class="lbl"></a></td>','<td class="col-md-1"><a class="remove"><span class="remove glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>','<td class="col-md-6"></td>'].join(""),paths:{id:"0",label:"1/0"}})}add(){let e=this.store,t=e.buildData();e.add(t),Neo.main.addon.CloneNode.applyClones({data:t,id:this.id,parentId:"tbody"})}beforeSetStore(e,t){return t&&t.destroy(),s.A.beforeSetInstance(e)}clear(){let e=this.store;e.getCount()>0&&(e.clear(),Neo.applyDeltas(this.appName,{action:"setTextContent",id:"tbody",value:""}))}createTableRow(e){return{tag:"tr",cn:[{tag:"td",cls:["col-md-1"],html:e.id},{tag:"td",cls:["col-md-4"],cn:[{tag:"a",cls:["lbl"],html:e.label}]},{tag:"td",cls:["col-md-1"],cn:[{tag:"a",cls:["remove"],cn:[{tag:"span",cls:["remove","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}]},{tag:"td",cls:["col-md-6"]}]}}runlots(){let e=this,t=e.store,n=t.buildData(1e4);e.clear(),t.add(n),Neo.main.addon.CloneNode.applyClones({data:n,id:e.id,parentId:"tbody"})}}const m=Neo.setupClass(h);var u=n(825);class g extends o.A{static config={className:"NeoApp.view.MainComponent",autoMount:!0,baseCls:["container"],controller:l,domListeners:[{click:"onButtonClick",delegate:".btn"}],table:null,_vdom:{cls:["container"],cn:[{cls:["jumbotron"],cn:[{cls:["row"],cn:[{cls:["col-md-6"],cn:[{cls:["row"],cn:[{tag:"h1",html:"neo.mjs"}]}]},{cls:["col-md-6"],cn:[{cls:["row"],flag:"row",cn:[]}]}]}]},{tag:"span",cls:["preloadicon","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}};construct(e){super.construct(e),this.createColumns(),this.createTable()}createColumns(){let e,t=this.vdom,n=u.A.getByFlag(t,"row"),o=0,a=[{id:"run",html:"Create 1,000 rows"},{id:"runlots",html:"Create 10,000 rows"},{id:"add",html:"Append 1,000 rows"},{id:"update",html:"Update every 10th row"},{id:"clear",html:"Clear"},{id:"swaprows",html:"Swap Rows"}];for(;o<6;o++)e=a[o],n.cn.push({cls:["col-sm-6 smallpad"],cn:[{tag:"button",type:"button",cls:["btn","btn-primary","btn-block"],id:e.id,html:e.html}]})}createTable(){let e=this;e.table=Neo.create({module:m,appName:e.appName,parentId:e.id,reference:"table"}),e.vdom.cn.splice(1,0,e.table.vdom),e.update()}}const b=Neo.setupClass(g),f=()=>Neo.app({appPath:"apps/neoapp/",mainView:b,name:"NeoApp",parentId:"main"})},5800:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(2432),a=n(3439),r=n(599);class l extends o.A{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t,n=this,{component:o}=n;n.references={},o.isConstructed?n.onComponentConstructed():t=o.on("constructed",(()=>{o.un("constructed",t),n.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,t){let n=this,{parent:o}=n;return!(!t||!(0,a.Ap)(e,t).fn)||(Neo.isFunction(n[e])?n:o?.getHandlerScope(e)||null)}getModel(e=!1){let{component:t}=this;return e?t.model:t.getModel()}getParent(){let{parent:e}=this;return e||this.component.parent?.getController()||null}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}getStore(e){return this.getModel().getStore(e)}onComponentConstructed(){}parseConfig(e=this.component){let t,n,o=this,{handler:a,listeners:l,reference:s,validator:c}=e;a&&"string"==typeof a&&(n=o.getHandlerScope(a,e),!0!==n&&(e.handler=n[a].bind(e.handlerScope||n))),l&&Object.entries(l).forEach((([a,s])=>{"scope"!==a&&"delegate"!==a&&(Neo.isString(s)?(t=s,n=o.getHandlerScope(t,e),n?!0!==n&&(l[a]={},l[a].fn=n[t].bind(n)):r.A.logError("Unknown event handler for",t,e)):s.forEach((a=>{Neo.isObject(a)&&a.hasOwnProperty("fn")&&Neo.isString(a.fn)&&(t=a.fn,n=o.getHandlerScope(t,e),n?!0!==n&&(a.fn=n[t].bind(n)):console.error("Unknown event handler for",t,e))})))})),Neo.isString(c)&&(n=o.getHandlerScope(c),n?e.validator=n[c].bind(n):r.A.logError("Unknown validator for",e.id,e)),s&&(o.references[s]=e)}parseDomListeners(e=this.component){let t,n,o=this,{domListeners:a}=e;a?.forEach((e=>{Object.entries(e).forEach((([a,r])=>{t=null,"scope"!==a&&"delegate"!==a&&(Neo.isString(r)?t=r:Neo.isObject(r)&&r.hasOwnProperty("fn")&&Neo.isString(r.fn)&&(t=r.fn),t&&(n=o.getHandlerScope(t),n&&(e[a]=n[t].bind(n))))}))}))}removeReference(e){let t,{references:n}=this;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}}const s=Neo.setupClass(l)}}]);