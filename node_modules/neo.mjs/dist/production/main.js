(()=>{var e,t,o={394:(e,t,o)=>{var n={"./AmCharts.mjs":[587,587],"./AnalyticsByGoogle.mjs":[267,267],"./CesiumJS.mjs":[861,861],"./CloneNode.mjs":[223,223],"./Cookie.mjs":[153,153],"./Dialog.mjs":[726,726],"./DragDrop.mjs":[179,916],"./GoogleMaps.mjs":[59,59],"./HighlightJS.mjs":[429,429],"./LocalStorage.mjs":[949,949],"./MapboxGL.mjs":[409,409],"./Markdown.mjs":[932,932],"./Mwc.mjs":[947,947],"./Popover.mjs":[81,81],"./PrefixField.mjs":[808,808],"./ResizeObserver.mjs":[241,241],"./ServiceWorker.mjs":[349,349],"./Siesta.mjs":[97,97],"./Stylesheet.mjs":[442,442],"./WebComponent.mjs":[4,4],"./WindowPosition.mjs":[17,17]};function r(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return o.e(t[1]).then((()=>o(r)))}r.keys=()=>Object.keys(n),r.id=394,e.exports=r},696:(e,t,o)=>{"use strict";function n(e,t,o=300){let n;return function(...r){Neo.isNumber(n)?(clearTimeout(n),n=setTimeout((()=>{t?.id&&e.apply(t,r),n=setTimeout((()=>{n=null}),o)}),o)):(t?.id&&e.apply(t,r),n=setTimeout((()=>{n=null}),o))}}function r(e,t,o=300){let n,r;return function(...s){n?(clearTimeout(r),r=setTimeout((function(){Date.now()-n>=o&&(t?.id&&e.apply(t,s),n=Date.now())}),o-(Date.now()-n))):(t?.id&&e.apply(t,s),n=Date.now())}}o.d(t,{Z:()=>d});var s=o(596);const i=Symbol.for("configSymbol"),a=Symbol("forceAssignConfigs"),l=Symbol("isInstance");class c{static delayable={};static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static registerToGlobalNs=!0;static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,isConstructed:!1,mixins:null,module:null};#e=[];construct(e={}){let t=this;Object.defineProperties(t,{[i]:{configurable:!0,enumerable:!1,value:{},writable:!0},[l]:{enumerable:!1,value:!0}}),t.createId(e.id||t.id),delete e.id,t.constructor.config&&delete t.constructor.config.id,t.getStaticConfig("observable")&&t.initObservable(e),e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),t.remote&&setTimeout(t.initRemote.bind(t),1)}afterSetId(e,t){let o=this,n=!0===c.instanceManagerAvailable;t&&(n?Neo.manager.Instance.unregister(t):delete Neo.idMap[t]),n?Neo.manager.Instance.register(o):(Neo.idMap=Neo.idMap||{},Neo.idMap[o.id]=o)}applyDelayable(){let e=this,t=e.constructor.delayable,o=e.delayable?Neo.merge({},e.delayable,t):t;Object.entries(o).forEach((([t,o])=>{let s={debounce(){e[t]=new n(e[t],e,o.timer)},throttle(){e[t]=new r(e[t],e,o.timer)}};s[o.type]?.()}))}static applyOverwrites(e){let t,o,n=Neo.ns(e.className,!1,Neo.overwrites);if(n){for(o in n)Neo.isFunction(n[o])&&(t=this.prototype,t[o]&&(t.constructor.overwrittenMethods[o]=t[o]));n&&Object.assign(e,n)}}beforeSetEnumValue(e,t,o,n=o+"s"){let r=Array.isArray(n)?n:this.getStaticConfig(n);return r.includes(e)?e:(console.error(`Supported values for ${o} are: ${r.join(", ")}`,this),t)}callOverwritten(...e){let t=(new Error).stack,o=c.methodNameRegex,n=t.match(o)[1];this.__proto__.constructor.overwrittenMethods[n].call(this,...e)}createId(e){this.id=e||s.Z.getId(this.getIdKey())}destroy(){let e=this;e.#e.forEach((e=>{clearTimeout(e)})),!0===c.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach((t=>{Object.getOwnPropertyDescriptor(e,t).writable&&delete e[t]}))}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}init(){}initConfig(e,t){let o=this;Object.assign(o[i],o.mergeConfig(e,t)),o.processConfigs()}initRemote(){let e,t=this,o=t.remote,n=t.className,r=Neo.currentWorker;if(!t.singleton)throw new Error("Remote method access is only functional for Singleton classes "+n);!Neo.config.unitTestMode&&Neo.isObject(o)&&("main"!==Neo.workerId&&r.isSharedWorker&&!r.isConnected?e=r.on("connected",(()=>{r.un("connected",e),c.sendRemotes(n,o)})):c.sendRemotes(n,o))}mergeConfig(e,t){let o=this,n=o.constructor;if(!n.config)throw new Error("Neo.applyClassConfig has not been run on "+o.className);return t||(o.originalConfig=Neo.clone(e,!0,!0)),{...n.config,...e}}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}parseItemConfigs(e){let t,o,n,r,s=this;e&&(Array.isArray(e)||(e=[e]),e.forEach((e=>{e&&Object.entries(e).forEach((([a,l])=>{Array.isArray(l)?s.parseItemConfigs(l):"string"==typeof l&&l.startsWith("@config:")&&(o=l.substring(8).trim().split("."),n=o.pop(),t=Neo.ns(o,!1,s),void 0===t[n]?console.error("The used @config does not exist:",n,o.join(".")):(r=Neo.ns(o,!1,s[i]),r&&Object.hasOwn(r,n)?e[a]=r[n]:e[a]=t[n]))}))})))}processConfigs(e=!1){let t=this,o=Object.keys(t[i]);t[a]=e,o.length>0&&(!e&&t.hasOwnProperty(o[0])||(t[o[0]]=t[i][o[0]]),delete t[i][o[0]],t.processConfigs(e))}static sendRemotes(e,t){let o;Object.entries(t).forEach((([t,n])=>{Neo.workerId!==t&&(o="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,o.sendMessage(t,{action:"registerRemote",className:e,methods:n}))}))}set(e={}){let t=this;e=t.setFields(e),!0!==t[a]&&Object.keys(t[i]).length>0&&t.processConfigs(),Object.assign(t[i],e),t.processConfigs(!0)}setFields(e){let t=this,o=t.constructor.config;return Object.entries(e).forEach((([n,r])=>{o.hasOwnProperty(n)||Neo.hasPropertySetter(t,n)||(t[n]=r,delete e[n])})),e}setStaticConfig(e,t){let o=this.constructor.staticConfig;return!!o.hasOwnProperty(e)&&(o[e]=t,!0)}timeout(e){return new Promise((t=>{let o=this.#e,n=setTimeout((()=>{o.splice(o.indexOf(n,1)),t()}),e);o.push(n)}))}get[Symbol.toStringTag](){return`${this.className} (id: ${this.id})`}static[Symbol.hasInstance](e){return!!e&&!0===e[l]&&super[Symbol.hasInstance](e)}}Neo.applyClassConfig(c),c.instanceManagerAvailable=!1;const d=c},596:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=Neo.applyClassConfig(class{static registerToGlobalNs=!0;static config={className:"Neo.core.IdGenerator",ntype:"id-generator",base:"neo-",singleton:!0};construct(e){let t=this;t.idCounter={},Neo.getId=t.getId.bind(t)}getId(e){e=e||"neo";let t=this.idCounter,o=t[e]||0;return t[e]=++o,this.base+("neo"===e?"":e+"-")+o}init(){}onAfterConstructed(){}onConstructed(){}})},544:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(696);class r extends n.Z{static config={className:"Neo.core.Observable",ntype:"mixin-observable",mixin:!0};addListener(e,t,o,n,r,s){let i,a,l,c=this,d="object"==typeof e;if(d)e.hasOwnProperty("scope")&&(o=e.scope,delete e.scope),Object.entries(e).forEach((([e,t])=>{c.addListener(e,t,o)}));else if("object"==typeof t)o=o||t.scope,i=t.fn,s=s||t.order,n=n||t.eventId;else if("function"==typeof t)i=t;else{if("string"!=typeof t)throw new Error("Invalid addListener call: "+e);i=t}return d?null:(l={fn:i,scope:o,data:r,id:n||Neo.getId("event")},(a=c.listeners?.[e])?(a.forEach((t=>{(t.id===n||t.fn===i&&t.scope===o)&&console.error("Duplicate event handler attached:",e,c)})),"number"==typeof s?a.splice(s,0,l):"before"===s?a.unshift(l):a.push(l)):c.listeners[e]=[l],l.id)}fire(e){let t,o,n,r,s=this,i=[].slice.call(arguments,1),a=s.listeners;if(a&&a[e])for(o=[...a[e]],r=o.length,n=0;n<r;n++){t=o[n];const r=s.resolveCallback(t.fn,t.scope||s);r.scope&&!r.scope.id?a[e].splice(n,1):s.suspendEvents||(1===i.length&&"object"==typeof i[0]&&(i[0].source=s.id),r.fn.apply(r.scope,t.data?i.concat(t.data):i))}}callback(e,t=this,o){if(e){const n=this.resolveCallback(e,t);n.fn.apply(n.scope,o)}}initObservable(e){let t,o=this,n=o.__proto__,r=n.constructor;for(e.listeners&&(o.listeners=e.listeners,delete e.listeners),t=o.listeners,o.listeners={},t&&(Neo.isObject(t)&&(t={...t}),o.addListener(t));n?.constructor.isClass;)r=n.constructor,r.observable&&!r.listeners&&Object.assign(r,{addListener:o.addListener,fire:o.fire,listeners:{},on:o.on,removeListener:o.removeListener,un:o.un}),n=n.__proto__}on(...e){return this.addListener(...e)}removeListener(e,t){let o,n,r,s,i,a,l=this;Neo.isObject(e)?(e.scope&&(a=e.scope,delete e.scope),Object.entries(e).forEach((([e,t])=>{for(s=l.listeners[e]||[],o=0,n=s.length;o<n;o++)if(r=s[o],r.fn.name===(Neo.isString(t)?t:t.name)&&r.scope===a){s.splice(o,1);break}}))):Neo.isString(t)&&(s=l.listeners[e],i=!1,s.forEach(((e,o)=>{if(e.id===t)return i=o})),!1!==i&&s.splice(i,1))}resolveCallback(e,t=this){if("string"==typeof e){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););e=t[e]}return{scope:t,fn:e}}un(...e){this.removeListener(...e)}}Neo.applyClassConfig(r);const s=r},522:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var n=o(696);class r extends n.Z{static config={className:"Neo.main.mixin.DeltaUpdates"};du_changeNodeName(e,t){let o,n=e.attributes,r=document.createElement(t),s=0,i=n.length;for(;s<i;s++)o=n.item(s),r.setAttribute(o.nodeName,o.nodeValue);r.innerHTML=e.innerHTML,e.parentNode.replaceChild(r,e)}du_focusNode(e){this.getElement(e.id).focus()}du_insertNode(e){let t,o=e.index,n=this.getElementOrBody(e.parentId),r=n?.childNodes.length,s=0,i=o,a=!1;if(n){if(r<=20&&"TBODY"!==n.nodeName)for(;s<r;s++)8===n.childNodes[s].nodeType&&(s<i&&i++,a=!0);if(a)t=this.htmlStringToElement(e.outerHTML),r>0&&r>i?n.insertBefore(t,n.childNodes[i]):n.appendChild(t);else{if(r=n.children.length,o>0&&o>=r)return void n.insertAdjacentHTML("beforeend",e.outerHTML);r>0&&r>o?n.children[o].insertAdjacentHTML("beforebegin",e.outerHTML):r>0?n.children[r-1].insertAdjacentHTML("afterend",e.outerHTML):n.insertAdjacentHTML("beforeend",e.outerHTML)}}}du_moveNode(e){let t=e.index,o=this.getElement(e.id),n=this.getElement(e.parentId);n&&(t>=n.children.length?n.appendChild(o):o&&n.children[t].id!==e.id&&n.insertBefore(o,n.children[t]))}du_removeNode(e){let t,o,n=this.getElement(e.id);n?n.remove():(n=e.parentId&&this.getElementOrBody(e.parentId),n&&(o=`\x3c!-- ${e.id} --\x3e`,t=new RegExp(o+"[\\s\\S]*?\x3c!-- /neo-vtext --\x3e"),n.innerHTML=n.innerHTML.replace(t,"")))}du_replaceChild(e){let t=this;t.getElement(e.parentId).replaceChild(t.getElement(e.toId),t.getElement(e.fromId))}du_setTextContent(e){this.getElement(e.id).textContent=e.value}du_updateNode(e){let t=this,o=t.getElementOrBody(e.id);o?Object.entries(e).forEach((([e,n])=>{switch(e){case"attributes":Object.entries(n).forEach((([e,n])=>{t.voidAttributes.includes(e)?o[e]="true"===n:null===n||""===n?"value"===e?o[e]="":o.removeAttribute(e):"id"===e?o[Neo.config.useDomIds?"id":"data-neo-id"]=n:"spellcheck"===e&&"false"===n?o[e]=!1:"value"===e?o[e]=n:o.setAttribute(e,n)}));break;case"cls":o.classList.add(...n.add||[]),o.classList.remove(...n.remove||[]);break;case"innerHTML":o.innerHTML=n||"";break;case"nodeName":t.du_changeNodeName(o,n);break;case"outerHTML":o.outerHTML=n||"";break;case"style":Neo.isObject(n)&&Object.entries(n).forEach((([e,t])=>{let n;Neo.isString(t)&&t.includes("!important")&&(t=t.replace("!important","").trim(),n="important"),o.style.setProperty(Neo.decamel(e),t,n)}))}})):"development"===Neo.config.environment&&console.warn("du_updateNode: node not found for id",e.id)}du_updateVtext(e){let t=this.getElement(e.parentId),o=t.innerHTML,n=`\x3c!-- ${e.id} --\x3e`,r=new RegExp(n+"[\\s\\S]*?\x3c!-- /neo-vtext --\x3e");t.innerHTML=o.replace(r,e.value)}htmlStringToElement(e){const t=document.createElement("template");return t.innerHTML=e,t.content}update(e){let t,o,n=this,r=e.deltas,s=0;for(r=Array.isArray(r)?r:[r],t=r.length,Neo.config.logDeltaUpdates&&t>0&&(n.countDeltas+=t,n.countUpdates++,console.log("update "+n.countUpdates,"total deltas ",n.countDeltas,Neo.clone(e,!0))),Neo.config.renderCountDeltas&&t>0&&(n.countDeltasPer250ms+=t),o={focusNode:n.du_focusNode,insertNode:n.du_insertNode,moveNode:n.du_moveNode,removeNode:n.du_removeNode,replaceChild:n.du_replaceChild,setTextContent:n.du_setTextContent,updateVtext:n.du_updateVtext,default:n.du_updateNode};s<t;s++)(o[r[s].action]||o.default).call(n,r[s]);Neo.worker.Manager.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}}Neo.applyClassConfig(r);const s=r;var i=o(544);const a=Object.freeze([]),l=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},c=e=>{const t=u[e.ourEdge],o=u[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${o}${e.theirEdgeOffset}${e.theirEdgeUnit}`},d=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new b(t.x,t.y,t.width,t.height)},u={t:"b",r:"l",b:"t",l:"r"},h={t:0,r:1,b:2,l:3},p=["top","right","bottom","left"],m=["t","r","b","l"],g=["width","height"],f=[0,0,0,0],y=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class b extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){return b.getIntersectionDetails(e,t).area}static getIntersectionDetails(e,t){let o=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),n=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return{area:n*o,height:n,width:o}}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,o){return!b.includes(e,t)&&("bottom"===o?e.bottom<t.bottom:"left"===o?e.left>t.left:"right"===o?e.right<t.right:"top"===o?e.top>t.top:void 0)}static moveBy(e,t=null,o=null){let n={...e};return Neo.isNumber(t)&&(n.left+=t,n.right+=t,n.x+=t),Neo.isNumber(o)&&(n.bottom+=o,n.top+=o,n.y+=o),n}static moveTo(e,t=null,o=null){let n={...e};return Neo.isNumber(t)&&(n.left=t,n.right=t+n.width,n.x=t),Neo.isNumber(o)&&(n.bottom=o+n.height,n.top=o,n.y=o),n}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return b.clone(this)}static clone(e){const t=new b(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const o=Math.max(t.x,e.x),n=Math.max(t.y,e.y),r=Math.min(t.x+t.width,e.x+e.width),s=Math.min(t.y+t.height,e.y+e.height);return!(o>=r||n>=s)&&new b(o,n,r-o,s-n)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}contains(e){return this.bottom>=e.bottom&&this.left<=e.left&&this.right>=e.right&&this.top<=e.top}expand(e){return e=l(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const o=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),o.x+=e,o.y+=t,o}contains(e){return this.constructor.includes(this,e)}constrainTo(e){const t=this,o=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||o>e.width)return!1;const n=t.clone();return n.x=Math.max(t.x+Math.min(e.right-n.right,0),e.x),n.y=Math.max(t.y+Math.min(e.bottom-n.bottom,0),e.y),n.bottom=Math.min(n.bottom,e.bottom),n.right=Math.min(n.right,e.right),n}alignTo(e){const t=this,{constrainTo:o,target:n,edgeAlign:r,axisLock:s,offset:i,matchSize:a}=e,b=e.targetMargin?l(e.targetMargin):f,v=d(n),w=d(o),N=(e=>{const t=y.exec(e),o=h[t[1]],n=h[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:o,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:n,edgeAligned:(1&o)==(1&n)&&o!==n}})(r),E=g[1&N.theirEdgeZone];let C=t.clone();a&&(C[E]=v[E]);const M=C.getAnchorPoint(N.ourEdgeZone,N.ourEdgeOffset,N.ourEdgeUnit),T=v.getAnchorPoint(N.theirEdgeZone,N.theirEdgeOffset,N.theirEdgeUnit,b),k=[T[0]-M[0],T[1]-M[1]];if(C=C.moveBy(k),C.zone=N.theirEdgeZone,C.position=p[C.zone],w&&!w.contains(C)){if(v.intersects(C))return C;let e=N.theirEdgeZone;const o=[{zone:e,edgeAlign:r}];if(s)o[1]={zone:e=(e+2)%4,edgeAlign:c(N)},o.push({zone:e=(N.theirEdgeZone+1)%4,edgeAlign:`${u[m[e]]}-${m[e]}`}),o.push({zone:e=(N.theirEdgeZone+3)%4,edgeAlign:`${u[m[e]]}-${m[e]}`});else for(let t=1;t<4;t++)o.push({zone:e=(e+1)%4,edgeAlign:`${u[m[e]]}-${m[e]}`});for(let e=0;e<o.length;e++){const t=w.clone();switch(o[e].zone){case 0:t.bottom=v.y-b[0];break;case 1:t.changeX(v.right+b[1]);break;case 2:t.changeY(v.bottom+b[2]);break;case 3:t.right=v.x-b[3]}o[e].constrainRect=t}for(let e=0;e<o.length;e++){const{zone:n,edgeAlign:r,constrainRect:s}=o[e],i=m[n];a&&(C[E]=i===N.theirEdge||i==u[N.theirEdge]?v[E]:t[E]),C=C.alignTo({target:v,edgeAlign:r,targetMargin:b});let l=C.constrainTo(s);if(l)return l.zone=n,l.position=p[n],l}}return i&&C.moveBy(i),C}getAnchorPoint(e,t,o,n=a){const r=this;let s;switch(e){case 0:s=[r.x,r.y-(n[0]||0),r.width,0];break;case 1:s=[r.x+r.width+(n[1]||0),r.y,r.height,1];break;case 2:s=[r.x,r.y+r.height+(n[2]||0),r.width,0];break;case 3:s=[r.x-(n[3]||0),r.y,r.height,1]}return s[s[3]]+="%"===o?s[2]/100*t:t,s.length=2,s}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout((()=>t.remove()),3e4),t}toJSON(){const{bottom:e,height:t,left:o,minHeight:n,minWidth:r,right:s,top:i,width:a,x:l,y:c}=this;return{bottom:e,height:t,left:o,minHeight:n,minWidth:r,right:s,top:i,width:a,x:l,y:c}}}const v=e=>e.preventDefault(),w=e=>!e.classList.contains("neo-focus-trap")&&M(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,N=/^\d+\w+$/,E={BODY:1,BUTTON:1,EMBED:1,IFRAME:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1},C=["font-family","font-kerning","font-size","font-size-adjust","font-stretch","font-style","font-weight","letter-spacing","line-height","text-decoration","text-transform","word-break"],M=e=>{const{nodeName:t}=e,o=getComputedStyle(e),n=e.getAttribute("tabIndex");return"none"!==o.getPropertyValue("display")&&"hidden"!==o.getPropertyValue("visibility")&&(E[t]||("A"===t||"LINK"===t)&&!!e.href||null!=n&&Number(n)>=0||"true"===e.contentEditable)};class T extends n.Z{static config={className:"Neo.main.DomAccess",countDeltas:0,countDeltasPer250ms:0,countUpdates:0,mixins:[s,i.Z],remote:{app:["addScript","align","applyBodyCls","blur","execCommand","focus","getAttributes","getBoundingClientRect","getScrollingDimensions","measure","monitorAutoGrow","scrollBy","scrollIntoView","scrollTo","scrollToTableRow","selectNode","setBodyCls","setStyle","syncModalMask","trapFocus","windowScrollTo"]},singleton:!0,voidAttributes:["checked","required"]};get modalMask(){let e=this;return e._modalMask||(e._modalMask=document.createElement("div"),e._modalMask.className="neo-dialog-modal-mask",e._modalMask.addEventListener("mousedown",v,{capture:!0})),e._modalMask}construct(e){super.construct(e);const t=this;if(Neo.config.renderCountDeltas){let e;setInterval((()=>{e=document.getElementById("neo-delta-updates"),e&&(e.innerHTML=String(4*t.countDeltasPer250ms)),t.countDeltasPer250ms=0}),250)}t.syncAligns=t.syncAligns.bind(t)}addAligned(e){const t=this,{id:o}=e,n=t._aligns||(t._aligns=new Map),r=t._alignResizeObserver||(t._alignResizeObserver=new ResizeObserver(t.syncAligns)),{constrainToElement:s}=e;n.has(o)||(r.observe(e.offsetParent),r.observe(e.targetElement),s&&r.observe(s)),t.hasDocumentScrollListener||(document.addEventListener("scroll",t.syncAligns,{capture:!0,passive:!0}),t.hasDocumentScrollListener=!0),t.documentMutationObserver||(t.documentMutationObserver=new MutationObserver(t.onDocumentMutation.bind(t)),t.documentMutationObserver.observe(document.body,{childList:!0,subtree:!0})),n.set(o,e)}addScript(e){let t=document.createElement("script");e.hasOwnProperty("async")||(e.async=!0),Object.assign(t,e),document.head.appendChild(t)}async align(e){const t=this,{constrainTo:o}=e,n=e.subject=t.getElement(e.id),{style:r}=n,s={...e},i=t._aligns?.get(e.id);if(i&&n.classList.remove(`neo-aligned-${i.result.position}`),t.resetDimensions(s),s.target=t.getClippedRect({id:e.targetElement=t.getElementOrBody(e.target)}),!s.target)return Neo.worker.App.setConfigs({id:e.id,hidden:!0});e.offsetParent=e.targetElement.offsetParent,o&&(s.constrainTo=t.getBoundingClientRect({id:e.constrainToElement=t.getElementOrBody(o)}));const a=t.getBoundingClientRect(e),l=e.result=a.alignTo(s);Object.assign(r,{top:0,left:0,transform:`translate(${l.x}px,${l.y}px)`}),l.width!==a.width&&(r.width=`${l.width}px`),l.height!==a.height&&(r.height=`${l.height}px`),n.classList.add(`neo-aligned-${l.position}`),t.addAligned(e)}applyBodyCls(e){let t=e.cls||[];document.body.classList.add(...t)}blur(e){return this.getElement(e.id)?.blur(),{id:e.id}}execCommand(e){return document.execCommand(e.command),e}focus(e){let t=this.getElement(e.id);return t&&(t.focus(),Neo.isNumber(t.selectionStart)&&(t.selectionStart=t.selectionEnd=t.value.length)),{id:e.id}}getAttributes(e){let t;if(Array.isArray(e.id))t=[],e.id.forEach((o=>{t.push(this.getAttributes({attributes:e.attributes,id:o}))}));else{let o=this.getElementOrBody(e.id);t={},o&&(Array.isArray(e.attributes)||(e.attributes=[e.attributes],e.attributes.forEach((e=>{t[e]=o[e]}))))}return t}getBoundingClientRect(e){let t,o=this;if(Array.isArray(e.id))return e.id.map((e=>o.getBoundingClientRect({id:e})));{let n,r,s,i=o.getElementOrBody(e.nodeType?e:e.id),a={};t={},i&&(a=i.getBoundingClientRect(),s=i.ownerDocument.defaultView.getComputedStyle(i),n=s.getPropertyValue("min-width"),r=s.getPropertyValue("min-height"),t=b.clone(a),N.test(n)&&"0px"!==n&&(t.minWidth=o.measure({value:n,id:i})),N.test(r)&&"0px"!==r&&(t.minHeight=o.measure({value:r,id:i})))}return t}getClippedRect(e){let t=this.getElement("object"==typeof e?e.id:e),{defaultView:o}=t.ownerDocument,n=this.getBoundingClientRect(t);for(let e=t.offsetParent;n&&e!==document.documentElement;e=e.parentElement)"visible"!==o.getComputedStyle(e).getPropertyValue("overflow")&&(n=n.intersects(this.getBoundingClientRect(e)));return n}getElement(e){return e.nodeType?e:Neo.config.useDomIds?document.getElementById(e):document.querySelector(`[data-neo-id='${e}']`)}getElementOrBody(e="document.body"){return e.nodeType?e:"body"===e||"document.body"===e?document.body:this.getElement(e)}getScrollingDimensions(e){const t=this;if(Array.isArray(e.id))return e.id.map((e=>t.getScrollingDimensions({id:e})));{const o=e.nodeType?e:t.getElementOrBody(e.id);return{clientWidth:o?.clientWidth,clientHeight:o?.clientHeight,scrollWidth:o?.scrollWidth,scrollHeight:o?.scrollHeight}}}isAlignSubject(e){return[...this._aligns?.values()].some((t=>t.subject===e))}loadScript(e,t=!0){let o;return new Promise(((n,r)=>{o=document.createElement("script"),Object.assign(o,{async:t,onerror:r,onload:n,src:e}),document.head.appendChild(o)}))}loadStylesheet(e){let t;return new Promise(((o,n)=>{t=document.createElement("link"),Object.assign(t,{href:e,onerror:n,onload:o,rel:"stylesheet",type:"text/css"}),document.head.appendChild(t)}))}measure({value:e,id:t}){const o=1===t.nodeType?t:this.getElement(t);if(e.endsWith("%")){const t=parseFloat(e)/100;return(o.offsetParent?.getBoundingClientRect().height||0)*t}if(isNaN(e)&&!e.endsWith("px")){const t=o.ownerDocument.defaultView.getComputedStyle(o);let n=this._measuringDiv;n||(n=this._measuringDiv=document.createElement("div"),n.style="position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(n),C.forEach((e=>{n.style[e]=t[e]})),n.className=o.className,n.style.width=e,e=t.width}else e=parseFloat(e);return e}async monitorAutoGrow(e){const t=this,o=e.subject=t.getElement(e.id);o[e.autoGrow?"addEventListener":"removeEventListener"]("input",t.monitorAutoGrowHandler),e.autoGrow&&t.monitorAutoGrowHandler({target:o})}monitorAutoGrowHandler({target:e}){const{style:t}=e,{style:o}=e.closest(".neo-textarea");t.height=t.minHeight=0,o.setProperty("--textfield-input-height",`${e.scrollHeight+5}px`),o.setProperty("height",""),t.height=t.minHeight=""}onDocumentMutation(e){const t=this;e.every((({type:e,addedNodes:o,removedNodes:n})=>{if("childList"===e)return[...Array.from(o),...Array.from(n)].every((e=>t.isAlignSubject(e)))}))||t.syncAligns()}onDomContentLoaded(){Neo.config.applyBodyCls&&this.applyBodyCls({cls:["neo-body"]})}onGetOffscreenCanvas(e){let t=this.getElement(e.nodeId).transferControlToOffscreen();e.offscreen=t,Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0},[t])}onReadDom(e){let t,o,n=e.attributes||[],r=e.functions||[],s=e.styles||[],i=e.vnodeId,a={},l={},c={},d=i?this.getElement(i):null;n.forEach((e=>{a[e]=d[e]})),r.forEach(((e,n)=>{Neo.isObject(e)?(e.params=e.params||[],e.paramIsDomNode=e.paramIsDomNode||[],o=e.scope?document[e.scope]:d,e.params.forEach(((t,o)=>{!0===e.paramIsDomNode[o]&&(e.params[o]=this.getElement(e.params[o]))})),t=e.returnFnName?e.returnFnName:n,l[t]=o[e.fn](...e.params),e.returnValue&&(l[t]=l[t][e.returnValue])):l[e]=d[e]()})),s.forEach((e=>{c[e]=d.style[e]})),Object.assign(e,{attributes:a,functions:l,styles:c}),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0})}onTrappedFocusMovement({target:e,relatedTarget:t}){const o=t&&4&e.compareDocumentPosition(t);if(e.matches(".neo-focus-trap")){const t=e.parentElement,n=t.$treeWalker,r=t.$topFocusTrap,s=t.$bottomFocusTrap;n.currentNode=o?s:r,n[o?"previousNode":"nextNode"](),requestAnimationFrame((()=>n.currentNode.focus()))}}read(e){"function"==typeof e&&e()}resetDimensions(e){Object.assign(this.getElement(e.id).style,{flex:e.configuredFlex,width:e.configuredWidth,height:e.configuredHeight,minWidth:e.configuredMinWidth,minHeight:e.configuredMinHeight,maxWidth:e.configuredMaxWidth,maxHeight:e.configuredMaxHeight})}scrollBy(e){let t=this.getElement(e.id);return t&&(t[`scroll${Neo.capitalize(e.direction)}`]+=e.value),{id:e.id}}scrollIntoView(e){let t=this.getElement(e.id);return t?.scrollIntoView({behavior:e.behavior||"smooth",block:e.block||"start",inline:e.inline||"nearest"}),{id:e.id}}scrollTo(e){let t=this.getElement(e.id);return t&&(t[`scroll${Neo.capitalize(e.direction)}`]=e.value),{id:e.id}}scrollToTableRow(e){let t=this.getElement(e.id);if(t){let o=t.parentNode.parentNode,n=o.parentNode,r=o.getBoundingClientRect().top,s=t.getBoundingClientRect().top;n.scrollTo({behavior:e.behavior||"smooth",top:s-r-(e.hasOwnProperty("offset")?e.offset:34)})}return{id:e.id}}selectNode(e){let t=this.getElement(e.id),o=Neo.isNumber(e.start)?e.start:0,n=Neo.isNumber(e.end)?e.end:99999;return t&&(t.select(),t.setSelectionRange(o,n)),{id:e.id}}setBodyCls(e){document.body.classList.remove(...e.remove||[]),document.body.classList.add(...e.add||[])}setStyle(e){let t=this.getElementOrBody(e.id);return t&&Object.entries(e.style).forEach((([e,o])=>{Neo.isString(o)&&o.includes("!important")?(o=o.replace("!important","").trim(),t.style.setProperty(Neo.decamel(e),o,"important")):t.style[Neo.decamel(e)]=o})),{id:e.id}}syncAligns(){const e=this,{_aligns:t}=e;t?.forEach((o=>{const n=document.contains(o.targetElement);if(document.contains(o.subject)&&n)e.align(o);else{n||Neo.worker.App.setConfigs({id:o.id,hidden:!0});const{_alignResizeObserver:r}=e,{constrainToElement:s}=o;r.unobserve(o.subject),r.unobserve(o.offsetParent),r.unobserve(o.targetElement),s&&r.unobserve(s),o.subject.classList.remove(`neo-aligned-${o.result?.position}`),t.delete(o.id)}}))}syncModalMask({id:e,modal:t}){const o=e&&this.getElement(e);if(o&&t&&o.ownerDocument.contains(o)&&"none"!==o.ownerDocument.defaultView.getComputedStyle(o).getPropertyValue("display"))document.body.insertBefore(this.modalMask,o);else{const e=document.querySelectorAll(".neo-modal"),t=e[e.length-1];t?this.syncModalMask({id:t.id,modal:!0}):this._modalMask?.remove()}}async trapFocus(e){const t=this,o=t.$boundOnTrappedFocusMovement||(t.$boundOnTrappedFocusMovement=t.onTrappedFocusMovement.bind(t)),n=e.subject=t.getElement(e.id),{trap:r=!0}=e;if(!n)return;let s=n.$topFocusTrap,i=n.$bottomFocusTrap;r?(n.$treeWalker||(n.$treeWalker=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:w}),s=n.$topFocusTrap=document.createElement("div"),i=n.$bottomFocusTrap=document.createElement("div"),s.className=i.className="neo-focus-trap",s.setAttribute("tabIndex",0),i.setAttribute("tabIndex",0),n.addEventListener("focusin",o)),n.insertBefore(s,n.firstChild),n.appendChild(i)):n.removeEventListener("focusin",o)}windowScrollTo(e){window.scrollTo({behavior:e.behavior||"smooth",left:e.left||0,top:e.top||0})}write(e){this.du_insertNode({index:e.parentIndex,outerHTML:e.html||e.outerHTML,parentId:e.parentId})}}const k=Neo.applyClassConfig(T)},215:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var n=o(696);o(544);class r extends n.Z{static charEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;","\\":"&bsol;"};static charPattern=/[&<>"'$\\]/g;static entityPattern=/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&apos;)|(&dollar;)|(&bsol;)/g;static config={className:"Neo.util.String"};static escapeHtml(e){let t=this;return"String"!==Neo.typeOf(e)?e:e.replace(t.charPattern,t.getEntityFromChar.bind(t))}static getCharFromEntity(e){return Object.keys(this.charEntityMap).find((t=>this.charEntityMap[t]===e))||e}static getEntityFromChar(e){return this.charEntityMap[e]||e}static unescapeHtml(e){let t=this;return"String"!==Neo.typeOf(e)?e:e.replace(t.entityPattern,t.getCharFromEntity.bind(t))}}Neo.applyClassConfig(r);class s extends n.Z{static config={className:"Neo.main.mixin.TouchDomEvents"};onTouchCancel(e){this.sendMessageToApp(this.getEventData(e))}onTouchEnd(e){this.sendMessageToApp(this.getEventData(e))}onTouchEnter(e){this.sendMessageToApp(this.getEventData(e))}onTouchLeave(e){this.sendMessageToApp(this.getEventData(e))}onTouchMove(e){this.sendMessageToApp(this.getEventData(e))}onTouchStart(e){this.sendMessageToApp(this.getEventData(e))}}Neo.applyClassConfig(s);const i=s,a=[{name:"change",handler:"onChange"},{name:"click",handler:"onClick"},{name:"contextmenu",handler:"onContextMenu"},{name:"dblclick",handler:"onDoubleClick"},{name:"focusin",handler:"onFocusIn"},{name:"focusout",handler:"onFocusOut"},{name:"input",handler:"onChange"},{name:"keydown",handler:"onKeyDown"},{name:"keyup",handler:"onKeyUp"},{name:"mousedown",handler:"onMouseDown"},{name:"mouseenter",handler:"onMouseEnter",options:{capture:!0}},{name:"mouseleave",handler:"onMouseLeave",options:{capture:!0}},{name:"mouseup",handler:"onMouseUp"},{name:"scroll",handler:"onScroll",options:{capture:!0}},{name:"wheel",handler:"onWheel",options:{passive:!1}}],l=[{name:"touchcancel",handler:"onTouchCancel"},{name:"touchend",handler:"onTouchEnd"},{name:"touchenter",handler:"onTouchEnter"},{name:"touchleave",handler:"onTouchLeave"},{name:"touchmove",handler:"onTouchMove"},{name:"touchstart",handler:"onTouchStart"}],c=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer","neo-calendar-yearcomponent","neo-circle-component","neo-dateselector","neo-gallery","neo-helix"],d={"neo-c-m-scrollcontainer":100,"neo-c-w-scrollcontainer":100,"neo-calendar-yearcomponent":300,"neo-dateselector":300},u=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer"],h={date:null,target:null},p={},m=[],g=[];class f extends n.Z{static observable=!0;static config={className:"Neo.main.DomEvents",mixins:[i],singleton:!0,remote:{app:["addDomListener","registerDisabledInputChars","registerPreventDefaultTargets","unregisterDisabledInputChars"]}};construct(e){super.construct(e);let t=this;document.addEventListener("DOMContentLoaded",t.onDomContentLoaded.bind(t)),document.addEventListener("selectionchange",t.onSelectionChange.bind(t)),window.addEventListener("hashchange",t.onHashChange.bind(t)),Neo.config.useSharedWorkers&&window.addEventListener("beforeunload",t.onBeforeUnload.bind(t))}addDomListener(e){let t,o,n,r=this,s=0,i=e.events.length;for(;s<i;s++)t=e.events[s],r[t.handler]||(r[t.handler]=Neo.emptyFn),o=t.vnodeId||e.vnodeId,n="document.body"===o?document.body:Neo.config.useDomIds?document.getElementById(o):document.querySelector(`[data-neo-id='${o}']`),n.addEventListener(t.name,r[t.handler].bind(r));Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0})}addGlobalDomListeners(){let e=this;[...a].concat(Neo.config.useTouchEvents?l:[]).forEach((t=>{document.body.addEventListener(t.name,e[t.handler].bind(e),t.options)}))}domEventListener(e){let t=this,o=e.target,n={action:"domEvent",eventName:e.type,data:{...t.getEventData(e),id:o.id,value:o.value}};switch(e.type){case"dragend":t.dragElementId=null;break;case"dragenter":case"dragleave":if(t.dragElementId===o.id)return;break;case"dragover":t.onDragOver(e),e.preventDefault();break;case"dragstart":t.dragElementId=o.id;break;case"drop":if(!t.dragElementId||t.dragElementId===o.id)return;e.stopPropagation&&e.stopPropagation(),e.preventDefault(),n.data.srcId=t.dragElementId,t.dragElementId=null;break;case"mousemove":Object.assign(n.data,t.getMouseEventData(e));break;default:e.preventDefault()}Neo.worker.Manager.sendMessage("app",n)}getDistance(e,t,o,n){return Math.sqrt((o-e)**2+(n-t)**2)}getEventData(e){let t=e.composedPath();t.length<1&&(t=e.path);const o={path:t.map((e=>this.getTargetData(e))),target:this.getTargetData(e.target),timeStamp:e.timeStamp,type:e.type};return e.relatedTarget&&(o.relatedTarget=this.getTargetData(e.relatedTarget)),o}getKeyboardEventData(e){let{altKey:t,code:o,ctrlKey:n,key:r,keyCode:s,metaKey:i,shiftKey:a}=e;return{...this.getEventData(e),altKey:t,code:o,ctrlKey:n,key:r,keyCode:s,metaKey:i,shiftKey:a}}getMouseEventData(e){let{altKey:t,clientX:o,clientY:n,ctrlKey:r,metaKey:s,offsetX:i,offsetY:a,pageX:l,pageY:c,screenX:d,screenY:u,shiftKey:h}=e;return{...this.getEventData(e),altKey:t,clientX:o,clientY:n,ctrlKey:r,metaKey:s,offsetX:i,offsetY:a,pageX:l,pageY:c,screenX:d,screenY:u,shiftKey:h}}getPathFromElement(e){let t=[];if(e)for(t.push(e);e.parentNode;)t.push(e.parentNode),e=e.parentNode;return t}getSelectionPath(e,t){return t.parentNode&&t.id.split("__").length>1&&(e=this.getSelectionPath(e,t.parentNode)),e.push(this.getTargetData(t)),e}getTargetData(e){let t=e.getBoundingClientRect?.(),o=t&&this.parseDomRect(t)||{};return{checked:e.checked,childElementCount:e.childElementCount,clientHeight:e.clientHeight,clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,cls:e.classList?[...e.classList]:[],data:{...e.dataset},draggable:e.draggable,hidden:e.hidden,id:Neo.config.useDomIds?e.id:e.dataset?.neoId,inert:e.inert,isConnected:e.isConnected,isContentEditable:e.isContentEditable,nodeType:e.nodeType,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,rect:o,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,style:e.style?.cssText,tabIndex:e.tabIndex,tagName:e.tagName?.toLowerCase()}}getTouchCoords(e){let{touches:t,changedTouches:o}=e;return t?.[0]||o?.[0]}onBeforeUnload(e){let t=Neo.worker.Manager;t.appNames.forEach((e=>{t.broadcast({action:"disconnect",appName:e})}))}onChange(e){let t=e.target,o={...this.getEventData(e),valid:t.checkValidity(),value:t.value};t.files&&(o.files=t.files),this.sendMessageToApp(o)}onClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,m)&&e.preventDefault()}onContextMenu(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),(e.ctrlKey||t.testPathInclusion(e,g))&&e.preventDefault()}onDomContentLoaded(){this.addGlobalDomListeners(),this.fire("domContentLoaded")}onDoubleClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,m)&&e.preventDefault()}onDragOver(e){e.dataTransfer.dropEffect="move"}onFocusIn(e){this.sendMessageToApp(this.getEventData(e))}onFocusOut(e){this.sendMessageToApp(this.getEventData(e))}onHashChange(){let e=Neo.worker.Manager,t=location.hash.substr(1);e.sendMessage("app",{action:"hashChange",data:{appNames:e.appNames,hash:this.parseHash(t),hashString:t}})}onKeyDown(e){let t=e.target,o=t.tagName,n="INPUT"===o||"TEXTAREA"===o;n&&p[t.id]?.includes(e.key)?e.preventDefault():(this.sendMessageToApp(this.getKeyboardEventData(e)),n||["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&e.preventDefault())}onKeyUp(e){this.sendMessageToApp(this.getKeyboardEventData(e))}onMouseDown(e){this.sendMessageToApp(this.getMouseEventData(e))}onMouseEnter(e){let t=this,o={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(o),t.fire("mouseEnter",o)}onMouseLeave(e){let t=this,o={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(o),t.fire("mouseLeave",o)}onMouseUp(e){this.sendMessageToApp(this.getMouseEventData(e))}onScroll(e){let{clientHeight:t,clientWidth:o,scrollLeft:n,scrollTop:r}=e.target;this.sendMessageToApp({...this.getEventData(e),clientHeight:t,clientWidth:o,scrollLeft:n,scrollTop:r})}onSelectionChange(e){let t,o,n=this,r=e.target,s=r.type?r:r.activeElement;"BODY"!==r.tagName&&(t=n.getSelectionPath([],s),o=n.getTargetData(s),n.sendMessageToApp({path:t,selection:{direction:s.selectionDirection,end:s.selectionEnd,start:s.selectionStart},target:o,timeStamp:e.timeStamp,type:"selectionchange"}))}onWheel(e){let t,o=this.testPathInclusion(e,c),n=!1;if(o){if(t=o.cls,d[o.cls]){let e=new Date;h.date&&h.target===t&&e-h.date<d[t]?n=!0:Object.assign(h,{date:e,target:t})}if(!n){let{deltaX:t,deltaY:n,deltaZ:r}=e;this.sendMessageToApp({...this.getEventData(e),clientHeight:o.node.clientHeight,clientWidth:o.node.clientWidth,deltaX:t,deltaY:n,deltaZ:r,scrollLeft:o.node.scrollLeft,scrollTop:o.node.scrollTop})}u.includes(t)||e.preventDefault()}}parseDomRect(e){let{bottom:t,height:o,left:n,right:r,top:s,width:i,x:a,y:l}=e;return{bottom:t,height:o,left:n,right:r,top:s,width:i,x:a,y:l}}parseHash(e){if(""===e)return{};let t,o,n,r,s=e.split("&"),i={};for(t=0;t<s.length;t++)n=s[t].split("="),n.length<2&&n.push(""),o=decodeURIComponent(n[0]),r=decodeURIComponent(n[1]),-1!==o.indexOf("[]")?(o=o.substring(0,o.indexOf("[]")),void 0===i[o]&&(i[o]=[]),i[o].push(this.parseValue(r))):i[o]=this.parseValue(r);return i}parseValue(e){return e==parseInt(e)?e=parseInt(e):"false"===e?e=!1:"true"===e&&(e=!0),e}registerDisabledInputChars(e){p[e.id]=e.chars}registerPreventDefaultTargets(e){let t;switch(Array.isArray(e.cls)||(e.cls=[e.cls]),e.name){case"click":t=m;break;case"contextmenu":t=g}e.cls.forEach((e=>{!t.includes(e)&&t.push(e)}))}sendMessageToApp(e){Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:e.type,data:e})}stripHtml(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}testPathInclusion(e,t){let o,n,r=t.length,s=e.path||e.composedPath(),i=0,a=s.length;for(;i<a;i++)for(n=s[i],o=0;o<r;o++)if(n.classList?.contains(t[o]))return{cls:t[o],node:n};return!1}unregisterDisabledInputChars(e){delete p[e.id]}}const y=Neo.applyClassConfig(f)},377:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(696),r=o(522),s=o(215),i=o(596);class a{constructor(e){e.destination=e.destination||"main",e.id=e.id||i.Z.getId(Neo.workerId),e.origin=e.origin||Neo.workerId,Object.assign(this,e)}}Neo.ns("Neo.worker",!0).Message=a;const l=a;var c=o(544);class d extends n.Z{static config={className:"Neo.worker.mixin.RemoteMethodAccess",mixin:!0};generateRemote(e,t){let o=this,n=e.origin;return function(r,s){let i={action:"remoteMethod",data:r,destination:n,remoteClassName:e.className,remoteMethod:t};return o.isSharedWorker&&(i.appName=r?.appName,i.port=r?.port),o.promiseMessage(n,i,s)}}onRegisterRemote(e){if(e.destination===Neo.workerId){let t=this,o=e.className,n=e.methods,r=Neo.ns(o,!0);n.forEach((n=>{if("main"!==e.origin&&r[n])throw new Error("Duplicate remote method definition "+o+"."+n);r[n]||(r[n]=t.generateRemote(e,n))}))}}onRemoteMethod(e){let t,o,n=this,r=Neo.ns(e.remoteClassName);if(!r)throw new Error('Invalid remote namespace "'+e.remoteClassName+'"');if(o=r[e.remoteMethod],!o)throw new Error('Invalid remote method name "'+e.remoteMethod+'"');t=Array.isArray(e.data)?o.call(r,...e.data):o.call(r,e.data),t instanceof Promise?t.then((t=>{n.resolve(e,t)})).catch((t=>{n.reject(e,t)})):n.resolve(e,t)}reject(e,t){let o={action:"reply",data:t,reject:!0,replyId:e.id};this.isSharedWorker&&(o.appName=e.appName,o.port=e.port),this.sendMessage(e.origin,o)}resolve(e,t){let o={action:"reply",data:t,replyId:e.id};this.isSharedWorker&&(o.appName=e.appName,o.port=e.port),this.sendMessage(e.origin,o)}}Neo.applyClassConfig(d);const u=d,h=Neo.config,p="development"===h.environment;class m extends n.Z{static config={className:"Neo.worker.Manager",singleton:!0,activeWorkers:0,appNames:[],basePath:h.workerBasePath||"worker/",constructedThreads:0,mixins:[c.Z,u],sharedWorkersEnabled:!1,stopCommunication:!1,webWorkersEnabled:!1,workers:{app:{fileName:p?"App.mjs":"appworker.js"},canvas:{fileName:p?"Canvas.mjs":"canvasworker.js"},data:{fileName:p?"Data.mjs":"dataworker.js"},vdom:{fileName:p?"VDom.mjs":"vdomworker.js"}}};serviceWorker=null;construct(e){super.construct(e);let t=this;t.detectFeatures(),!Neo.insideWorker&&t.createWorkers(),Neo.workerId="main",t.promises={},t.on({"message:addDomListener":{fn:s.Z.addDomListener,scope:s.Z},"message:getOffscreenCanvas":{fn:r.Z.onGetOffscreenCanvas,scope:r.Z},"message:readDom":{fn:r.Z.onReadDom,scope:r.Z},"message:registerRemote":{fn:t.onRegisterRemote,scope:t},"message:workerConstructed":{fn:t.onWorkerConstructed,scope:t}})}broadcast(e){Object.keys(this.workers).forEach((t=>{"canvas"===t&&!h.useCanvasWorker||"vdom"===t&&!h.useVdomWorker||this.sendMessage(t,e)}))}createWorker(e){let t=this,o=e.fileName,n=(e.basePath||t.basePath)+o,r=`neomjs-${o.substring(0,o.indexOf(".")).toLowerCase()}-worker`,s=t.sharedWorkersEnabled&&h.useSharedWorkers,i=new(s?SharedWorker:Worker)(n,p?{name:r,type:"module"}:{name:r});return(s?i.port:i).onmessage=t.onWorkerMessage.bind(t),(s?i.port:i).onerror=t.onWorkerError.bind(t),t.activeWorkers++,i}createWorkers(){let e,t,o=this,n=Neo.clone(h,!0),r=location.hash;for([e,t]of(delete n.cesiumJsToken,r&&(n.hash={hash:s.Z.parseHash(r.substr(1)),hashString:r.substr(1)}),Object.entries(o.workers)))if(("canvas"!==e||n.useCanvasWorker)&&("vdom"!==e||n.useVdomWorker)){try{t.worker=o.createWorker(t)}catch(e){document.body.innerHTML=e,o.stopCommunication=!0;break}o.sendMessage(e,{action:"registerNeoConfig",data:n})}}detectFeatures(){if(h.hasMouseEvents=matchMedia("(pointer:fine)").matches,h.hasTouchEvents="ontouchstart"in window||navigator.maxTouchPoints>0,!window.Worker)throw new Error("Your browser does not support Web Workers");this.webWorkersEnabled=!0,window.SharedWorker&&(this.sharedWorkersEnabled=!0)}getWorker(e){return"service"===e?navigator.serviceWorker?.controller||this.serviceWorker:e instanceof Worker?e:this.workers[e].worker}loadApplication(e){this.sendMessage("app",{action:"loadApplication",path:e,resourcesPath:h.resourcesPath})}onWorkerConstructed(e){let t=this;t.constructedThreads++,t.constructedThreads===t.activeWorkers&&h.appPath&&setTimeout((()=>{t.loadApplication(h.appPath)}),h.loadApplicationDelay)}onWorkerError(e){!p&&console.log("Worker Error:",e)}onWorkerMessage(e){let t,o=this,n=e.data,r=null;const{action:s,destination:i,replyId:a}=n;o.fire("message:"+s,n),"reply"===s&&(t=o.promises[a],t?("main"===n.destination&&(n=n.data),t[n.reject?"reject":"resolve"](n),delete o.promises[a]):n.data&&(n.data.autoMount&&o.fire("automount",n),n.data.updateVdom&&o.fire("updateVdom",n),o.promiseForwardMessage(n).then((e=>{o.sendMessage(e.destination,e)})))),"main"!==i&&"reply"!==s?(n.transfer&&(r=[n.transfer]),o.promiseMessage(i,n,r).then((e=>{o.sendMessage(e.destination,e)})).catch((e=>{o.sendMessage(n.origin,{action:"reply",reject:!0,replyId:n.id,error:e.message})}))):"main"===i&&"registerAppName"===s?(o.appNames.push(n.appName),o.broadcast({action:"registerApp",appName:n.appName})):"main"===i&&"remoteMethod"===s&&o.onRemoteMethod(n)}promiseForwardMessage(e){return new Promise(((t,o)=>{this.promises[e.replyId]={data:e,reject:o,resolve:t}}))}promiseMessage(e,t,o){let n=this;return new Promise(((r,s)=>{let i=n.sendMessage(e,t,o).id;n.promises[i]={reject:s,resolve:r}}))}resolveDomOperationPromise(e){if(e){let t=this.promises[e];t&&(t.resolve(t.data),delete this.promises[e])}}sendMessage(e,t,o){let n,r,s=this;if(!s.stopCommunication){if(t.channelPort?(r=t.channelPort,delete t.channelPort):r=s.getWorker(e),!r)throw new Error("Called sendMessage for a worker that does not exist: "+e);return t.destination=e,n=new l(t),(r.port?r.port:r).postMessage(n,o),n}}}const g=Neo.applyClassConfig(m)}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return o[e](s,s.exports,r),s.exports}r.m=o,r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,o)=>(r.f[o](e,t),t)),[])),r.u=e=>"chunks/main/"+e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="neo.mjs:",r.l=(o,n,s,i)=>{if(e[o])e[o].push(n);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=o),e[o]=[n];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",(()=>{var e={179:0};r.f.j=(t,o)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var s=new Promise(((o,r)=>n=e[t]=[o,r]));o.push(n[2]=s);var i=r.p+r.u(t),a=new Error;r.l(i,(o=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,o)=>{var n,s,[i,a,l]=o,c=0;if(i.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);l&&l(r)}for(t&&t(o);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},o=self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";const e=globalThis.Neo||{};e.config=e.config||{};const t={applyBodyCls:!0,appPath:null,basePath:"./",cesiumJsToken:null,environment:"dist/production",googleMapsApiKey:"",gtagId:"G-DJ13071C55",isGitHubPages:!0,isInsideSiesta:!1,loadApplicationDelay:20,locale:"default",logDeltaUpdates:!1,logVdomUpdateCollisions:!1,mainThreadAddons:["DragDrop","Stylesheet"],remotesApiUrl:null,renderCountDeltas:!1,themes:["neo-theme-light","neo-theme-dark","neo-theme-neo-light"],unitTestMode:!1,useCanvasWorker:!1,useDomIds:!0,useFontAwesome:!0,useGoogleAnalytics:!0,useServiceWorker:!1,useSharedWorkers:!1,useTouchEvents:!0,useVdomWorker:!0,version:"6.9.11"};Object.assign(t,{resourcesPath:`${e.config.basePath||t.basePath}resources/`,workerBasePath:`${e.config.basePath||t.basePath}src/worker/`});const o=t,n=Symbol.for("configSymbol"),s=Symbol("getSetCache"),i={function:e=>{if(e.prototype?.constructor.isClass)return"NeoClass"},object:e=>{if(e.constructor.isClass&&e instanceof a.core.Base)return"NeoInstance"}};let a=globalThis.Neo||{};a=globalThis.Neo=Object.assign({ntypeMap:{},insideWorker:"undefined"!=typeof DedicatedWorkerGlobalScope||"undefined"!=typeof WorkerGlobalScope,applyClassConfig(e){let t,o,r,i,l=null,c=a.ntypeMap,d=e.prototype||e,u=[];for(;d.__proto__;){if(r=d.constructor,Object.hasOwn(r,"classConfigApplied")){l=a.clone(r.config,!0);break}u.unshift(d),d=d.__proto__}return o=l||{},u.forEach((l=>{let d;if(r=l.constructor,t=r.config||{},a.overwrites&&r.applyOverwrites(t),Object.entries(t).forEach((([e,o])=>{"_"===e.slice(-1)?(delete t[e],e=e.slice(0,-1),t[e]=o,function(e,t){if(a.hasPropertySetter(e,t))throw"Config "+t+"_ ("+e.className+") already has a set method, use beforeGet, beforeSet & afterSet instead";a[s]||(a[s]={}),a[s][t]||(a[s][t]={get(){let e=this,o=`beforeGet${t[0].toUpperCase()+t.slice(1)}`,r=Object.hasOwn(e[n],t),s=e[n][t],i=r?s:e["_"+t];return Array.isArray(i)?"items"!==t&&(i=[...i]):i instanceof Date&&(i=new Date(i.valueOf())),r&&(e[t]=i,i=e["_"+t],delete e[n][t]),"function"==typeof e[o]&&(i=e[o](i)),i},set(e){let o=this,r="_"+t,s=t[0].toUpperCase()+t.slice(1),i="beforeSet"+s,l="afterSet"+s,c=o[r];if(delete o[n][t],"items"!==t&&(e=a.clone(e,!0,!0)),o[r]=e,"function"==typeof o[i]){if(void 0===(e=o[i](e,c)))return void(o[r]=c);o[r]=e}("vnode"===t&&e!==c||!a.isEqual(e,c))&&(o[l]?.(e,c),o.afterSetConfig?.(t,e,c))}}),Object.defineProperty(e,t,a[s][t])}(l,e)):a.hasPropertySetter(l,e)||Object.defineProperty(l,e,{enumerable:!0,value:o,writable:!0})})),Object.hasOwn(t,"ntype")){if(i=t.ntype,Object.hasOwn(c,i)&&t.className!==c[i])throw new Error(`ntype conflict for '${i}' inside the classes:\n${c[i]}\n${t.className}`);c[i]=t.className}d=Object.hasOwn(o,"mixins")&&o.mixins||[],r.observable&&d.push("Neo.core.Observable"),Object.hasOwn(t,"mixins")&&Array.isArray(t.mixins)&&t.mixins.length>0&&d.push(...t.mixins),d.length>0&&(function(e,t){Array.isArray(t)||(t=[t]);let o,n,r,s=0,i=t.length,l={};for(;s<i;s++){if(o=t[s],o.isClass)r=o.prototype,n=a.ns(r.className);else{if(!h(o))throw new Error("Attempting to mixin an undefined class: "+o+", "+e.prototype.className);n=a.ns(o),r=n.prototype}r.className.split(".").reduce(m(n),l),Object.getOwnPropertyNames(r).forEach(p(e.prototype,r))}e.prototype.mixins=l}(r,d),a.ns("Neo.core.Observable",!1,r.prototype.mixins)&&(r.observable=!0)),delete t.mixins,delete o.mixins,Object.assign(o,t),Object.assign(r,{classConfigApplied:!0,config:a.clone(o,!0),isClass:!0}),!o.singleton&&this.applyToGlobalNs(e)})),d=e.prototype||e,d.singleton&&(e=a.create(e),a.applyToGlobalNs(e)),e},applyFromNs(e,t,o,n){let r;return e&&"Object"===a.typeOf(o)&&Object.entries(o).forEach((([o,s])=>{r=t[s],e[o]=n?r.bind(t):r})),e},applyToGlobalNs(e){let t,o,n,r,s="function"==typeof e?e.prototype:e;!0===s.constructor.registerToGlobalNs&&(t=s.isClass?s.config.className:s.className,o=t.split("."),n=o.pop(),r=a.ns(o,!0),r[n]=e)},assignDefaults:(e,t)=>(e&&"Object"===a.typeOf(t)&&Object.entries(t).forEach((([t,o])=>{Object.hasOwn(e,t)||(e[t]=o)})),e),clone(e,t=!1,o=!1){let n;return{Array:()=>t?[...e.map((e=>a.clone(e,t,o)))]:[...e],Date:()=>new Date(e.valueOf()),Map:()=>new Map(e),NeoInstance:()=>o?e:this.cloneNeoInstance(e),Set:()=>new Set(e),Object:()=>(n={},Object.entries(e).forEach((([e,r])=>{n[e]=t?a.clone(r,t,o):r})),n)}[a.typeOf(e)]?.()||e},cloneNeoInstance(e){let t={...e.originalConfig};return delete t._id,delete t.id,a.create(e.className,t)},create(e,t){let o,n,r=a.typeOf(e);if("NeoClass"===r)o=e;else{if("Object"===r){if(!(t=e).className&&!t.module)return console.error("Class created with object configuration missing className or module property",t),null;e=t.className||t.module.prototype.className}if(!h(e))throw new Error("Class "+e+" does not exist");o=a.ns(e)}return n=new o,n.construct(t),n.onConstructed(),n.onAfterConstructed(),n.init(),n},emptyFn(){},hasPropertySetter(e,t){let o;for(;e.__proto__;){if(o=Object.getOwnPropertyDescriptor(e,t),"object"==typeof o&&"function"==typeof o.set)return!0;e=e.__proto__}return!1},merge(e,t,o){if(o)return a.merge(a.merge(e,o),t);for(const o in t){const n=t[o];"Object"===a.typeOf(n)?e[o]=a.merge(e[o]||{},n):e[o]=n}return e},ns:(e,t,o)=>(e=Array.isArray(e)?e:e.split(".")).reduce(((e,o)=>{if(t&&!e[o]&&(e[o]={}),e)return e[o]}),o||globalThis),nsWithArrays:(e,t,o)=>(e=Array.isArray(e)?e:e.split(".")).reduce(((e,o)=>{if(t&&!e[o]){if(o.endsWith("]"))return u(!0,o,e);e[o]={}}if(e)return o.endsWith("]")?u(!1,o,e):e[o]}),o||globalThis),ntype(e,t){if("object"==typeof e){if(!(t=e).ntype)throw new Error("Class defined with object configuration missing ntype property. "+t.ntype);e=t.ntype}let o=a.ntypeMap[e];if(!o)throw new Error("ntype "+e+" does not exist");return a.create(o,t)},typeOf:e=>null==e?null:i[typeof e]?.(e)||e.constructor.name},a);const l=["_name","classConfigApplied","className","constructor","isClass","mixin","ntype","observable","registerToGlobalNs"],c=/\d+/g,d=/^(\w+)\s*((?:\[\s*\d+\s*\]\s*)*)$/;function u(e,t,o){let n,r,s=(l=t,(d.exec(l)||[null]).slice(1).reduce(((e,t)=>[e].concat(t.match(c))))),i=1,a=s.length;var l;if(e?o[s[0]]=r=o[s[0]]||[]:r=o[s[0]],r){for(;i<a;i++)n=parseInt(s[i]),e&&(r[n]=r[n]||{}),r=r[n];return r}}function h(e){try{return!!e.split(".").reduce(((e,t)=>e[t]),globalThis)}catch(e){return!1}}function p(e,t){return function(o){if(!~l.indexOf(o)){if(e[o]?._from){if(t.className===e[o]._from)return void console.warn("Mixin set multiple times or already defined on a Base Class",e.className,t.className,o);throw new Error(`${e.className}: Multiple mixins defining same property (${t.className}, ${e[o]._from}) => ${o}`)}e[o]=t[o],Object.getOwnPropertyDescriptor(e,o)._from=t.className,"function"==typeof e[o]&&(e[o]._name=o)}}}function m(e){return(t,o,n,r)=>t[o]=n!==r.length-1?t[o]||{}:e}a.config=a.config||{},a.assignDefaults(a.config,o);const g=a;var f=r(696);class y extends f.Z{static config={className:"Neo.core.Compare"};static isEqual(e,t){if(e===t)return!0;let o,n=Neo.typeOf(e);if(n!==Neo.typeOf(t))return!1;switch(n){case"Array":if(e.length!==t.length)return!1;for(const[o,n]of e.entries())if(!y.isEqual(n,t[o]))return!1;break;case"Date":return e.valueOf()===t.valueOf();case"Function":return e.name===t.name&&e.toString()===t.toString();case"Map":{if(e.size!==t.size)return!1;let o;for(const[n,r]of e)if(o=t.get(n),o!==r||void 0===o&&!t.has(n))return!1;break}case"NeoInstance":if(e.id!==t.id)return!1;break;case"Object":if(Object.keys(e).length!==Object.keys(t).length)return!1;for(o in e)if(!y.isEqual(e[o],t[o]))return!1;break;case"RegExp":if(e.toString()!==t.toString())return!1;break;case"Set":if(e.size!==t.size)return!1;for(o of e)if(!t.has(o))return!1;break;default:return e===t}return!0}}Neo.applyClassConfig(y),Neo.isEqual=y.isEqual,r(596),r(544);class b extends f.Z{static decamelRegEx=/([a-z])([A-Z])/g;static config={className:"Neo.core.Util",ntype:"core-util"};static bindMethods(e,t){t.forEach((t=>{e[t]=e[t].bind(e)}))}static capitalize(e){return e[0].toUpperCase()+e.slice(1)}static createStyleObject(e){let t;return e.split(/;(?=[^\)]*(?:\(|$))/g).reduce(((e,o)=>(t=o.split(/:(.+)/).map((function(e){let t=parseFloat(e);return e==t?t:e.trim()})),""!==t[0]&&(t[0]=t[0].replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),e[t[0]]=t[1]),e)),{})}static createStyles(e){let t="";return Object.entries(e).forEach((([e,o])=>{null!=o&&(t+=b.decamel(e)+":"+o+";")})),t}static decamel(e){return e.replace(b.decamelRegEx,"$1-$2").toLowerCase()}static isArray(e){return Array.isArray(e)}static isBoolean(e){return"boolean"==typeof e}static isDefined(e){return void 0!==e}static isEmpty(e){return null==e||(Array.isArray(e)?0===e.length:!(e instanceof Date||(b.isObject(e)?0!==Object.keys(e).length:!b.isString(e)||""!==e)))}static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isObject(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}static isString(e){return"string"==typeof e}static toArray(e,t,o){let n;return e&&(n=e.length)?"string"==typeof e?e.split(""):Array.prototype.slice.call(e,t||0,o||n):[]}}Neo.applyClassConfig(b),Neo.applyFromNs(Neo,b,{bindMethods:"bindMethods",createStyleObject:"createStyleObject",createStyles:"createStyles",capitalize:"capitalize",decamel:"decamel",isArray:"isArray",isBoolean:"isBoolean",isDefined:"isDefined",isEmpty:"isEmpty",isFunction:"isFunction",isNumber:"isNumber",isObject:"isObject",isString:"isString",toArray:"toArray"},!0);var v=r(522),w=r(215),N=r(377);class E extends f.Z{static observable=!0;static config={className:"Neo.Main",mode:"read",openWindows:{},readQueue:[],remote:{app:["alert","editRoute","getByPath","getWindowData","importAddon","redirectTo","setNeoConfig","setRoute","windowClose","windowMoveTo","windowOpen","windowResizeTo"]},running:!1,showFps:!1,singleton:!0,timeLimit:15,totalFrameCount:0,updateQueue:[],writeQueue:[]};construct(e){super.construct(e);let t=this;N.Z.on({automount:t.onRender,"message:mountDom":t.onMountDom,"message:updateDom":t.onUpdateDom,updateVdom:t.onUpdateVdom,scope:t}),w.Z.on("domContentLoaded",t.onDomContentLoaded,t),"loading"!==document.readyState&&w.Z.onDomContentLoaded()}alert(e){alert(e.message)}editRoute(e){let t=w.Z.parseHash(window.location.hash.substr(1)),o=[];"string"==typeof e&&(e=w.Z.parseHash(e)),Object.assign(t,e),Object.entries(t).forEach((([e,t])=>{null!==t&&o.push(encodeURIComponent(e)+"="+encodeURIComponent(t))})),window.location.hash=o.join("&")}getByPath(e){return g.nsWithArrays(e.path)}getWindowData(){let e=window,t=e.screen;return{innerHeight:e.innerHeight,innerWidth:e.innerWidth,outerHeight:e.outerHeight,outerWidth:e.outerWidth,screen:{availHeight:t.availHeight,availLeft:t.availLeft,availTop:t.availTop,availWidth:t.availWidth,colorDepth:t.colorDepth,height:t.height,orientation:{angle:t.orientation?.angle,type:t.orientation?.type},pixelDepth:t.pixelDepth,width:t.width},screenLeft:e.screenLeft,screenTop:e.screenTop}}async importAddon(e){let t,o=e.name;return t=o.startsWith("WS/")?await r(394)(`./${o.substring(3)}.mjs`):await r(394)(`./${o}.mjs`),this.addon[t.default.constructor.name]=t.default,!0}async onDomContentLoaded(){let e,t=this,o=g.config,n=o.mainThreadAddons,s=[];v.Z.onDomContentLoaded(),"development"!==o.environment&&(r.p=o.basePath.substring(6)),o.useGoogleAnalytics&&!n.includes("AnalyticsByGoogle")&&n.push("AnalyticsByGoogle"),o.useServiceWorker&&!n.includes("ServiceWorker")&&n.push("ServiceWorker"),n.forEach((e=>{e.startsWith("WS/")?s.push(r(394)(`./${e.substring(3)}.mjs`)):s.push(r(394)(`./${e}.mjs`))})),e=await Promise.all(s),t.addon={},e.forEach((e=>{t.addon[e.default.constructor.name]=e.default})),N.Z.onWorkerConstructed({origin:"main"})}onMountDom(e){this.queueWrite(e),N.Z.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}onRender(e){e.data.replyId=e.replyId,this.queueWrite(e.data)}onUpdateDom(e){this.queueUpdate(e)}onUpdateVdom(e){e.data.replyId=e.replyId,this.queueUpdate(e.data)}processQueue(e,t){let o,n=this,r=n.timeLimit;for(;o=e.shift();){if(new Date-t>r)return e.unshift(o),requestAnimationFrame(n.renderFrame.bind(n));v.Z[n.mode](o),N.Z.resolveDomOperationPromise(o.replyId)}}queueRead(e){let t=this;t.readQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueUpdate(e){let t=this;t.updateQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueWrite(e){let t=this;t.writeQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}redirectTo(e){window.location.href=e.url}renderFrame(){let e=this,t=e.readQueue,o=e.updateQueue,n=e.writeQueue,r="read"===e.mode,s=new Date;g.config.logDeltaUpdates&&(e.totalFrameCount++,console.log("Total Frames: "+e.totalFrameCount)),(!r&&n.length||(e.mode="read",!e.processQueue(t,s)))&&(o.length&&(e.mode="update",e.processQueue(o,s))||n.length&&(e.mode="write",e.processQueue(n,s))||(e.running=!1))}setNeoConfig(e){g.config[e.key]=e.value}setRoute(e){window.location.hash=e.value}windowClose(e){Array.isArray(e.names)||(e.names=[e.names]),e.names.forEach((e=>{this.openWindows[e].close(),delete this.openWindows[e]}))}windowMoveTo(e){this.openWindows[e.windowName].moveTo(e.x,e.y)}windowOpen(e){let t=window.open(e.url,e.windowName,e.windowFeatures),o=!!t;return o&&(this.openWindows[e.windowName]=t),o}windowResizeTo(e){let t=this.openWindows[e.windowName],o=e.height||t.outerHeight,n=e.width||t.outerWidth;t.resizeTo(n,o)}}g.applyClassConfig(E)})()})();